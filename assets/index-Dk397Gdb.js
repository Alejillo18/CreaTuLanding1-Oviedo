(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var id={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function u1(){if(Xy)return Wl;Xy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return Wl.Fragment=e,Wl.jsx=i,Wl.jsxs=i,Wl}var $y;function c1(){return $y||($y=1,id.exports=u1()),id.exports}var Q=c1(),rd={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function h1(){if(Zy)return bt;Zy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,W={};function H(I,tt,lt){this.props=I,this.context=tt,this.refs=W,this.updater=lt||L}H.prototype.isReactComponent={},H.prototype.setState=function(I,tt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,tt,"setState")},H.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function rt(){}rt.prototype=H.prototype;function et(I,tt,lt){this.props=I,this.context=tt,this.refs=W,this.updater=lt||L}var nt=et.prototype=new rt;nt.constructor=et,F(nt,H.prototype),nt.isPureReactComponent=!0;var Tt=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function N(I,tt,lt,it,pt,wt){return lt=wt.ref,{$$typeof:r,type:I,key:tt,ref:lt!==void 0?lt:null,props:wt}}function b(I,tt){return N(I.type,tt,void 0,void 0,void 0,I.props)}function C(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function x(I){var tt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(lt){return tt[lt]})}var O=/\/+/g;function U(I,tt){return typeof I=="object"&&I!==null&&I.key!=null?x(""+I.key):tt.toString(36)}function D(){}function Le(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(D,D):(I.status="pending",I.then(function(tt){I.status==="pending"&&(I.status="fulfilled",I.value=tt)},function(tt){I.status==="pending"&&(I.status="rejected",I.reason=tt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function le(I,tt,lt,it,pt){var wt=typeof I;(wt==="undefined"||wt==="boolean")&&(I=null);var Et=!1;if(I===null)Et=!0;else switch(wt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(I.$$typeof){case r:case e:Et=!0;break;case E:return Et=I._init,le(Et(I._payload),tt,lt,it,pt)}}if(Et)return pt=pt(I),Et=it===""?"."+U(I,0):it,Tt(pt)?(lt="",Et!=null&&(lt=Et.replace(O,"$&/")+"/"),le(pt,tt,lt,"",function(Bn){return Bn})):pt!=null&&(C(pt)&&(pt=b(pt,lt+(pt.key==null||I&&I.key===pt.key?"":(""+pt.key).replace(O,"$&/")+"/")+Et)),tt.push(pt)),1;Et=0;var Ie=it===""?".":it+":";if(Tt(I))for(var Jt=0;Jt<I.length;Jt++)it=I[Jt],wt=Ie+U(it,Jt),Et+=le(it,tt,lt,wt,pt);else if(Jt=R(I),typeof Jt=="function")for(I=Jt.call(I),Jt=0;!(it=I.next()).done;)it=it.value,wt=Ie+U(it,Jt++),Et+=le(it,tt,lt,wt,pt);else if(wt==="object"){if(typeof I.then=="function")return le(Le(I),tt,lt,it,pt);throw tt=String(I),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Et}function Y(I,tt,lt){if(I==null)return I;var it=[],pt=0;return le(I,it,"","",function(wt){return tt.call(lt,wt,pt++)}),it}function st(I){if(I._status===-1){var tt=I._result;tt=tt(),tt.then(function(lt){(I._status===0||I._status===-1)&&(I._status=1,I._result=lt)},function(lt){(I._status===0||I._status===-1)&&(I._status=2,I._result=lt)}),I._status===-1&&(I._status=0,I._result=tt)}if(I._status===1)return I._result.default;throw I._result}var dt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Bt(){}return bt.Children={map:Y,forEach:function(I,tt,lt){Y(I,function(){tt.apply(this,arguments)},lt)},count:function(I){var tt=0;return Y(I,function(){tt++}),tt},toArray:function(I){return Y(I,function(tt){return tt})||[]},only:function(I){if(!C(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},bt.Component=H,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=et,bt.StrictMode=s,bt.Suspense=g,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,bt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ft.H.useMemoCache(I)}},bt.cache=function(I){return function(){return I.apply(null,arguments)}},bt.cloneElement=function(I,tt,lt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var it=F({},I.props),pt=I.key,wt=void 0;if(tt!=null)for(Et in tt.ref!==void 0&&(wt=void 0),tt.key!==void 0&&(pt=""+tt.key),tt)!Nt.call(tt,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&tt.ref===void 0||(it[Et]=tt[Et]);var Et=arguments.length-2;if(Et===1)it.children=lt;else if(1<Et){for(var Ie=Array(Et),Jt=0;Jt<Et;Jt++)Ie[Jt]=arguments[Jt+2];it.children=Ie}return N(I.type,pt,void 0,void 0,wt,it)},bt.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},bt.createElement=function(I,tt,lt){var it,pt={},wt=null;if(tt!=null)for(it in tt.key!==void 0&&(wt=""+tt.key),tt)Nt.call(tt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(pt[it]=tt[it]);var Et=arguments.length-2;if(Et===1)pt.children=lt;else if(1<Et){for(var Ie=Array(Et),Jt=0;Jt<Et;Jt++)Ie[Jt]=arguments[Jt+2];pt.children=Ie}if(I&&I.defaultProps)for(it in Et=I.defaultProps,Et)pt[it]===void 0&&(pt[it]=Et[it]);return N(I,wt,void 0,void 0,null,pt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(I){return{$$typeof:m,render:I}},bt.isValidElement=C,bt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:st}},bt.memo=function(I,tt){return{$$typeof:y,type:I,compare:tt===void 0?null:tt}},bt.startTransition=function(I){var tt=ft.T,lt={};ft.T=lt;try{var it=I(),pt=ft.S;pt!==null&&pt(lt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Bt,dt)}catch(wt){dt(wt)}finally{ft.T=tt}},bt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},bt.use=function(I){return ft.H.use(I)},bt.useActionState=function(I,tt,lt){return ft.H.useActionState(I,tt,lt)},bt.useCallback=function(I,tt){return ft.H.useCallback(I,tt)},bt.useContext=function(I){return ft.H.useContext(I)},bt.useDebugValue=function(){},bt.useDeferredValue=function(I,tt){return ft.H.useDeferredValue(I,tt)},bt.useEffect=function(I,tt,lt){var it=ft.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(I,tt)},bt.useId=function(){return ft.H.useId()},bt.useImperativeHandle=function(I,tt,lt){return ft.H.useImperativeHandle(I,tt,lt)},bt.useInsertionEffect=function(I,tt){return ft.H.useInsertionEffect(I,tt)},bt.useLayoutEffect=function(I,tt){return ft.H.useLayoutEffect(I,tt)},bt.useMemo=function(I,tt){return ft.H.useMemo(I,tt)},bt.useOptimistic=function(I,tt){return ft.H.useOptimistic(I,tt)},bt.useReducer=function(I,tt,lt){return ft.H.useReducer(I,tt,lt)},bt.useRef=function(I){return ft.H.useRef(I)},bt.useState=function(I){return ft.H.useState(I)},bt.useSyncExternalStore=function(I,tt,lt){return ft.H.useSyncExternalStore(I,tt,lt)},bt.useTransition=function(){return ft.H.useTransition()},bt.version="19.1.1",bt}var Jy;function Qd(){return Jy||(Jy=1,rd.exports=h1()),rd.exports}var k=Qd(),ad={exports:{}},to={},sd={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function f1(){return Wy||(Wy=1,function(r){function e(Y,st){var dt=Y.length;Y.push(st);t:for(;0<dt;){var Bt=dt-1>>>1,I=Y[Bt];if(0<o(I,st))Y[Bt]=st,Y[dt]=I,dt=Bt;else break t}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var st=Y[0],dt=Y.pop();if(dt!==st){Y[0]=dt;t:for(var Bt=0,I=Y.length,tt=I>>>1;Bt<tt;){var lt=2*(Bt+1)-1,it=Y[lt],pt=lt+1,wt=Y[pt];if(0>o(it,dt))pt<I&&0>o(wt,it)?(Y[Bt]=wt,Y[pt]=dt,Bt=pt):(Y[Bt]=it,Y[lt]=dt,Bt=lt);else if(pt<I&&0>o(wt,dt))Y[Bt]=wt,Y[pt]=dt,Bt=pt;else break t}}return st}function o(Y,st){var dt=Y.sortIndex-st.sortIndex;return dt!==0?dt:Y.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,R=3,L=!1,F=!1,W=!1,H=!1,rt=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function Tt(Y){for(var st=i(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=Y)s(y),st.sortIndex=st.expirationTime,e(g,st);else break;st=i(y)}}function ft(Y){if(W=!1,Tt(Y),!F)if(i(g)!==null)F=!0,Nt||(Nt=!0,U());else{var st=i(y);st!==null&&le(ft,st.startTime-Y)}}var Nt=!1,N=-1,b=5,C=-1;function x(){return H?!0:!(r.unstable_now()-C<b)}function O(){if(H=!1,Nt){var Y=r.unstable_now();C=Y;var st=!0;try{t:{F=!1,W&&(W=!1,et(N),N=-1),L=!0;var dt=R;try{e:{for(Tt(Y),S=i(g);S!==null&&!(S.expirationTime>Y&&x());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,R=S.priorityLevel;var I=Bt(S.expirationTime<=Y);if(Y=r.unstable_now(),typeof I=="function"){S.callback=I,Tt(Y),st=!0;break e}S===i(g)&&s(g),Tt(Y)}else s(g);S=i(g)}if(S!==null)st=!0;else{var tt=i(y);tt!==null&&le(ft,tt.startTime-Y),st=!1}}break t}finally{S=null,R=dt,L=!1}st=void 0}}finally{st?U():Nt=!1}}}var U;if(typeof nt=="function")U=function(){nt(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Le=D.port2;D.port1.onmessage=O,U=function(){Le.postMessage(null)}}else U=function(){rt(O,0)};function le(Y,st){N=rt(function(){Y(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var st=3;break;default:st=R}var dt=R;R=st;try{return Y()}finally{R=dt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Y,st){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var dt=R;R=Y;try{return st()}finally{R=dt}},r.unstable_scheduleCallback=function(Y,st,dt){var Bt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Bt+dt:Bt):dt=Bt,Y){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=dt+I,Y={id:E++,callback:st,priorityLevel:Y,startTime:dt,expirationTime:I,sortIndex:-1},dt>Bt?(Y.sortIndex=dt,e(y,Y),i(g)===null&&Y===i(y)&&(W?(et(N),N=-1):W=!0,le(ft,dt-Bt))):(Y.sortIndex=I,e(g,Y),F||L||(F=!0,Nt||(Nt=!0,U()))),Y},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(Y){var st=R;return function(){var dt=R;R=st;try{return Y.apply(this,arguments)}finally{R=dt}}}}(ld)),ld}var t_;function d1(){return t_||(t_=1,sd.exports=f1()),sd.exports}var od={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function m1(){if(e_)return Ye;e_=1;var r=Qd();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},Ye.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Ye.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ye.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ye.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:L}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ye.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ye.requestFormReset=function(g){s.d.r(g)},Ye.unstable_batchedUpdates=function(g,y){return g(y)},Ye.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.1.1",Ye}var n_;function p1(){if(n_)return od.exports;n_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),od.exports=m1(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function g1(){if(i_)return to;i_=1;var r=d1(),e=Qd(),i=p1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(s(188))}function g(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),rt=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case H:return"Profiler";case W:return"StrictMode";case ft:return"Suspense";case Nt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case nt:return(t.displayName||"Context")+".Provider";case et:return(t._context.displayName||"Context")+".Consumer";case Tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Le(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Le(t(n))}catch{}}return null}var le=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Bt=[],I=-1;function tt(t){return{current:t}}function lt(t){0>I||(t.current=Bt[I],Bt[I]=null,I--)}function it(t,n){I++,Bt[I]=t.current,t.current=n}var pt=tt(null),wt=tt(null),Et=tt(null),Ie=tt(null);function Jt(t,n){switch(it(Et,n),it(wt,t),it(pt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Sy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Sy(n),t=by(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}lt(pt),it(pt,t)}function Bn(){lt(pt),lt(wt),lt(Et)}function Yi(t){t.memoizedState!==null&&it(Ie,t);var n=pt.current,a=by(n,t.type);n!==a&&(it(wt,t),it(pt,a))}function fi(t){wt.current===t&&(lt(pt),lt(wt)),Ie.current===t&&(lt(Ie),Kl._currentValue=dt)}var Ur=Object.prototype.hasOwnProperty,Lr=r.unstable_scheduleCallback,Pr=r.unstable_cancelCallback,Fs=r.unstable_shouldYield,Oo=r.unstable_requestPaint,gn=r.unstable_now,nh=r.unstable_getCurrentPriorityLevel,Qs=r.unstable_ImmediatePriority,xa=r.unstable_UserBlockingPriority,zr=r.unstable_NormalPriority,ih=r.unstable_LowPriority,Na=r.unstable_IdlePriority,Ys=r.log,Mo=r.unstable_setDisableYieldValue,oe=null,Gt=null;function ln(t){if(typeof Ys=="function"&&Mo(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(oe,t)}catch{}}var Fe=Math.clz32?Math.clz32:kr,Uo=Math.log,rh=Math.LN2;function kr(t){return t>>>=0,t===0?32:31-(Uo(t)/rh|0)|0}var Br=256,jr=4194304;function xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Oa(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=xn(l):(v&=T,v!==0?h=xn(v):a||(a=T&~t,a!==0&&(h=xn(a))))):(T=l&~d,T!==0?h=xn(T):v!==0?h=xn(v):a||(a=l&~t,a!==0&&(h=xn(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function qr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ks(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xs(){var t=Br;return Br<<=1,(Br&4194048)===0&&(Br=256),t}function $s(){var t=jr;return jr<<=1,(jr&62914560)===0&&(jr=4194304),t}function di(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function mi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zs(t,n,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Fe(a),Z=1<<K;T[K]=0,w[K]=-1;var j=B[K];if(j!==null)for(B[K]=null,K=0;K<j.length;K++){var q=j[K];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&jn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~n))}function jn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Js(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Fe(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Ki(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ma(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Xi(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:Hy(t.type))}function Lo(t,n){var a=st.p;try{return st.p=t,n()}finally{st.p=a}}var ne=Math.random().toString(36).slice(2),Ae="__reactFiber$"+ne,pe="__reactProps$"+ne,yn="__reactContainer$"+ne,Ws="__reactEvents$"+ne,ah="__reactListeners$"+ne,$i="__reactHandles$"+ne,Po="__reactResources$"+ne,Hr="__reactMarker$"+ne;function Zi(t){delete t[Ae],delete t[pe],delete t[Ws],delete t[ah],delete t[$i]}function pi(t){var n=t[Ae];if(n)return n;for(var a=t.parentNode;a;){if(n=a[yn]||a[Ae]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Dy(t);t!==null;){if(a=t[Ae])return a;t=Dy(t)}return n}t=a,a=t.parentNode}return null}function qn(t){if(t=t[Ae]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Je(t){var n=t[Po];return n||(n=t[Po]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(t){t[Hr]=!0}var tl=new Set,Ua={};function Nn(t,n){gi(t,n),gi(t+"Capture",n)}function gi(t,n){for(Ua[t]=n,t=0;t<n.length;t++)tl.add(n[t])}var zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Gr={};function Bo(t){return Ur.call(Gr,t)?!0:Ur.call(ko,t)?!1:zo.test(t)?Gr[t]=!0:(ko[t]=!0,!1)}function Ji(t,n,a){if(Bo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Gn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Pe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Fr,jo;function yi(t){if(Fr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",jo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+t+jo}var La=!1;function Pa(t,n){if(!t||La)return"";La=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var j=q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(q){j=q}t.call(Z.prototype)}}else{try{throw Error()}catch(q){j=q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var w=v.split(`
`),B=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===B.length)for(l=w.length-1,h=B.length-1;1<=l&&0<=h&&w[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==B[h]){var K=`
`+w[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{La=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?yi(a):""}function el(t){switch(t.tag){case 26:case 27:case 5:return yi(t.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Pa(t.type,!1);case 11:return Pa(t.type.render,!1);case 1:return Pa(t.type,!0);case 31:return yi("Activity");default:return""}}function za(t){try{var n="";do n+=el(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sh(t){var n=nl(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ka(t){t._valueTracker||(t._valueTracker=sh(t))}function il(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=nl(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Qr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lh=/[\n"\\]/g;function ge(t){return t.replace(lh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function on(t,n,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+We(n)):t.value!==""+We(n)&&(t.value=""+We(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Wi(t,v,We(n)):a!=null?Wi(t,v,We(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+We(T):t.removeAttribute("name")}function Yr(t,n,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+We(a):"",n=n!=null?""+We(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Wi(t,n,a){n==="number"&&Qr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _i(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+We(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Yt(t,n,a){if(n!=null&&(n=""+We(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+We(a):""}function Kr(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=We(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Xr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function rl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&qo(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&qo(t,d,n[d])}function al(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(t){return uh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vi=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ei=null,Ti=null;function sl(t){var n=qn(t);if(n&&(t=n.stateNode)){var a=t[pe]||null;t:switch(t=n.stateNode,n.type){case"input":if(on(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[pe]||null;if(!h)throw Error(s(90));on(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&il(l)}break t;case"textarea":Yt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&_i(t,!!a.multiple,n,!1)}}}var Fn=!1;function Ho(t,n,a){if(Fn)return t(n,a);Fn=!0;try{var l=t(n);return l}finally{if(Fn=!1,(Ei!==null||Ti!==null)&&(Lu(),Ei&&(n=Ei,t=Ti,Ti=Ei=null,sl(n),t)))for(n=0;n<t.length;n++)sl(t[n])}}function $r(t,n){var a=t.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(On)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){En=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{En=!1}var Qn=null,tr=null,Ai=null;function ll(){if(Ai)return Ai;var t,n=tr,a=n.length,l,h="value"in Qn?Qn.value:Qn.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[d-l];l++);return Ai=h.slice(t,1<l?1-l:void 0)}function Yn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function ol(){return!1}function Ve(t){function n(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Kn:ol,this.isPropagationStopped=ol,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=Ve(qt),Jr=E({},qt,{view:0,detail:0}),Go=Ve(Jr),qa,Ha,Xn,Wr=E({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xn&&(Xn&&t.type==="mousemove"?(qa=t.screenX-Xn.screenX,Ha=t.screenY-Xn.screenY):Ha=qa=0,Xn=t),qa)},movementY:function(t){return"movementY"in t?t.movementY:Ha}}),Tn=Ve(Wr),Fo=E({},Wr,{dataTransfer:0}),ch=Ve(Fo),ta=E({},Jr,{relatedTarget:0}),Ga=Ve(ta),ul=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=Ve(ul),Qo=E({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qa=Ve(Qo),hh=E({},qt,{data:0}),cl=Ve(hh),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ko[t])?!!n[t]:!1}function na(){return hl}var Xo=E({},Jr,{key:function(t){if(t.key){var n=ea[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Yn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(t){return t.type==="keypress"?Yn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ya=Ve(Xo),$o=E({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Ve($o),Si=E({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),Zo=Ve(Si),Jo=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wo=Ve(Jo),tu=E({},Wr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ka=Ve(tu),tn=E({},qt,{newState:0,oldState:0}),eu=Ve(tn),nu=[9,13,27,32],$n=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var p=On&&"TextEvent"in window&&!u,_=On&&(!$n||u&&8<u&&11>=u),A=" ",P=!1;function G(t,n){switch(t){case"keyup":return nu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Se(t,n){switch(t){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(P=!0,A);case"textInput":return t=n.data,t===A&&P?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!$n&&G(t,n)?(t=ll(),Ai=tr=Qn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xe[t.type]:n==="textarea"}function bi(t,n,a,l){Ei?Ti?Ti.push(l):Ti=[l]:Ei=l,n=qu(n,"onChange"),0<n.length&&(a=new ja("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ze=null,Zn=null;function dl(t){_y(t,0)}function iu(t){var n=Hn(t);if(il(n))return t}function km(t,n){if(t==="change")return n}var Bm=!1;if(On){var fh;if(On){var dh="oninput"in document;if(!dh){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),dh=typeof jm.oninput=="function"}fh=dh}else fh=!1;Bm=fh&&(!document.documentMode||9<document.documentMode)}function qm(){ze&&(ze.detachEvent("onpropertychange",Hm),Zn=ze=null)}function Hm(t){if(t.propertyName==="value"&&iu(Zn)){var n=[];bi(n,Zn,t,vn(t)),Ho(dl,n)}}function kE(t,n,a){t==="focusin"?(qm(),ze=n,Zn=a,ze.attachEvent("onpropertychange",Hm)):t==="focusout"&&qm()}function BE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(Zn)}function jE(t,n){if(t==="click")return iu(n)}function qE(t,n){if(t==="input"||t==="change")return iu(n)}function HE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:HE;function ml(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ur.call(n,h)||!un(t[h],n[h]))return!1}return!0}function Gm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fm(t,n){var a=Gm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gm(a)}}function Qm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Qm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ym(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Qr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Qr(t.document)}return n}function mh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var GE=On&&"documentMode"in document&&11>=document.documentMode,Xa=null,ph=null,pl=null,gh=!1;function Km(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gh||Xa==null||Xa!==Qr(l)||(l=Xa,"selectionStart"in l&&mh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ml(pl,l)||(pl=l,l=qu(ph,"onSelect"),0<l.length&&(n=new ja("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Xa)))}function ia(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var $a={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},yh={},Xm={};On&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function ra(t){if(yh[t])return yh[t];if(!$a[t])return t;var n=$a[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xm)return yh[t]=n[a];return t}var $m=ra("animationend"),Zm=ra("animationiteration"),Jm=ra("animationstart"),FE=ra("transitionrun"),QE=ra("transitionstart"),YE=ra("transitioncancel"),Wm=ra("transitionend"),tp=new Map,_h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_h.push("scrollEnd");function Mn(t,n){tp.set(t,n),Nn(n,[t])}var ep=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var a=ep.get(t);return a!==void 0?a:(n={value:t,source:n,stack:za(n)},ep.set(t,n),n)}return{value:t,source:n,stack:za(n)}}var Sn=[],Za=0,vh=0;function ru(){for(var t=Za,n=vh=Za=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var d=Sn[n];if(Sn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&np(a,h,d)}}function au(t,n,a,l){Sn[Za++]=t,Sn[Za++]=n,Sn[Za++]=a,Sn[Za++]=l,vh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Eh(t,n,a,l){return au(t,n,a,l),su(t)}function Ja(t,n){return au(t,null,null,n),su(t)}function np(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-Fe(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function su(t){if(50<Bl)throw Bl=0,Cf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Wa={};function KE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,n,a,l){return new KE(t,n,a,l)}function Th(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,n){var a=t.alternate;return a===null?(a=cn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ip(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function lu(t,n,a,l,h,d){var v=0;if(l=t,typeof t=="function")Th(t)&&(v=1);else if(typeof t=="string")v=$T(t,a,pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=cn(31,a,n,h),t.elementType=C,t.lanes=d,t;case F:return aa(a.children,h,d,n);case W:v=8,h|=24;break;case H:return t=cn(12,a,n,h|2),t.elementType=H,t.lanes=d,t;case ft:return t=cn(13,a,n,h),t.elementType=ft,t.lanes=d,t;case Nt:return t=cn(19,a,n,h),t.elementType=Nt,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rt:case nt:v=10;break t;case et:v=9;break t;case Tt:v=11;break t;case N:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=cn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function aa(t,n,a,l){return t=cn(7,t,l,n),t.lanes=a,t}function Ah(t,n,a){return t=cn(6,t,null,n),t.lanes=a,t}function Sh(t,n,a){return n=cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ts=[],es=0,ou=null,uu=0,bn=[],Rn=0,sa=null,wi=1,Ci="";function la(t,n){ts[es++]=uu,ts[es++]=ou,ou=t,uu=n}function rp(t,n,a){bn[Rn++]=wi,bn[Rn++]=Ci,bn[Rn++]=sa,sa=t;var l=wi;t=Ci;var h=32-Fe(l)-1;l&=~(1<<h),a+=1;var d=32-Fe(n)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,wi=1<<32-Fe(n)+h|a<<h|l,Ci=d+t}else wi=1<<d|a<<h|l,Ci=t}function bh(t){t.return!==null&&(la(t,1),rp(t,1,0))}function Rh(t){for(;t===ou;)ou=ts[--es],ts[es]=null,uu=ts[--es],ts[es]=null;for(;t===sa;)sa=bn[--Rn],bn[Rn]=null,Ci=bn[--Rn],bn[Rn]=null,wi=bn[--Rn],bn[Rn]=null}var en=null,ue=null,jt=!1,oa=null,Jn=!1,wh=Error(s(519));function ua(t){var n=Error(s(418,""));throw _l(An(n,t)),wh}function ap(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ae]=t,n[pe]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<ql.length;a++)It(ql[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Yr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ka(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Kr(n,l.value,l.defaultValue,l.children),ka(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ay(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Hu),n=!0):n=!1,n||ua(t)}function sp(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:en=en.return}}function gl(t){if(t!==en)return!1;if(!jt)return sp(t),jt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hf(t.type,t.memoizedProps)),a=!a),a&&ue&&ua(t),sp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){ue=Ln(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}ue=null}}else n===27?(n=ue,gr(t.type)?(t=Yf,Yf=null,ue=t):ue=n):ue=en?Ln(t.stateNode.nextSibling):null;return!0}function yl(){ue=en=null,jt=!1}function lp(){var t=oa;return t!==null&&(an===null?an=t:an.push.apply(an,t),oa=null),t}function _l(t){oa===null?oa=[t]:oa.push(t)}var Ch=tt(null),ca=null,Di=null;function er(t,n,a){it(Ch,n._currentValue),n._currentValue=a}function Ii(t){t._currentValue=Ch.current,lt(Ch)}function Dh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Ih(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var w=0;w<n.length;w++)if(T.context===n[w]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Dh(d.return,a,t),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Dh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function vl(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;un(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ie.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}h=h.return}t!==null&&Ih(n,t,a,l),n.flags|=262144}function cu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ha(t){ca=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qe(t){return op(ca,t)}function hu(t,n){return ca===null&&ha(t),op(t,n)}function op(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(s(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return a}var XE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},$E=r.unstable_scheduleCallback,ZE=r.unstable_NormalPriority,Re={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new XE,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&$E(ZE,function(){t.controller.abort()})}var Tl=null,xh=0,ns=0,is=null;function JE(t,n){if(Tl===null){var a=Tl=[];xh=0,ns=Mf(),is={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xh++,n.then(up,up),n}function up(){if(--xh===0&&Tl!==null){is!==null&&(is.status="fulfilled");var t=Tl;Tl=null,ns=0,is=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function WE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var cp=Y.S;Y.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&JE(t,n),cp!==null&&cp(t,n)};var fa=tt(null);function Nh(){var t=fa.current;return t!==null?t:Wt.pooledCache}function fu(t,n){n===null?it(fa,fa.current):it(fa,n.pool)}function hp(){var t=Nh();return t===null?null:{parent:Re._currentValue,pool:t}}var Al=Error(s(460)),fp=Error(s(474)),du=Error(s(542)),Oh={then:function(){}};function dp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mu(){}function mp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(mu,mu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gp(t),t;default:if(typeof n.status=="string")n.then(mu,mu);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gp(t),t}throw Sl=n,Al}}var Sl=null;function pp(){if(Sl===null)throw Error(s(459));var t=Sl;return Sl=null,t}function gp(t){if(t===Al||t===du)throw Error(s(483))}var nr=!1;function Mh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=su(t),np(t,null,a),n}return au(t,l,n,a),su(t)}function bl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}function Lh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ph=!1;function Rl(){if(Ph){var t=is;if(t!==null)throw t}}function wl(t,n,a,l){Ph=!1;var h=t.updateQueue;nr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,B=w.next;w.next=null,v===null?d=B:v.next=B,v=w;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=B:T.next=B,K.lastBaseUpdate=w))}if(d!==null){var Z=h.baseState;v=0,K=B=w=null,T=d;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Ut&j)===j:(l&j)===j){j!==0&&j===ns&&(Ph=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var vt=t,gt=T;j=n;var $t=a;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){Z=vt.call($t,Z,j);break t}Z=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,j=typeof vt=="function"?vt.call($t,Z,j):vt,j==null)break t;Z=E({},Z,j);break t;case 2:nr=!0}}j=T.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(B=K=q,w=Z):K=K.next=q,v|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);K===null&&(w=Z),h.baseState=w,h.firstBaseUpdate=B,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),fr|=v,t.lanes=v,t.memoizedState=Z}}function yp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function _p(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)yp(a[t],n)}var rs=tt(null),pu=tt(0);function vp(t,n){t=Li,it(pu,t),it(rs,n),Li=t|n.baseLanes}function zh(){it(pu,Li),it(rs,rs.current)}function kh(){Li=pu.current,lt(rs),lt(pu)}var ar=0,Rt=null,Kt=null,ye=null,gu=!1,as=!1,da=!1,yu=0,Cl=0,ss=null,tT=0;function fe(){throw Error(s(321))}function Bh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!un(t[a],n[a]))return!1;return!0}function jh(t,n,a,l,h,d){return ar=d,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?ng:ig,da=!1,d=a(l,h),da=!1,as&&(d=Tp(n,a,l,h)),Ep(t),d}function Ep(t){Y.H=Su;var n=Kt!==null&&Kt.next!==null;if(ar=0,ye=Kt=Rt=null,gu=!1,Cl=0,ss=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&cu(t)&&(Ne=!0))}function Tp(t,n,a,l){Rt=t;var h=0;do{if(as&&(ss=null),Cl=0,as=!1,25<=h)throw Error(s(301));if(h+=1,ye=Kt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=lT,d=n(a,l)}while(as);return d}function eT(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Dl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function qh(){var t=yu!==0;return yu=0,t}function Hh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Gh(t){if(gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}gu=!1}ar=0,ye=Kt=Rt=null,as=!1,Cl=yu=0,ss=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Rt.memoizedState=ye=t:ye=ye.next=t,ye}function _e(){if(Kt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=ye===null?Rt.memoizedState:ye.next;if(n!==null)ye=n,Kt=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ye===null?Rt.memoizedState=ye=t:ye=ye.next=t}return ye}function Fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var n=Cl;return Cl+=1,ss===null&&(ss=[]),t=mp(ss,t,n),n=Rt,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?ng:ig),t}function _u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===nt)return Qe(t)}throw Error(s(438,String(t)))}function Qh(t){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fh(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=x;return n.index++,a}function Vi(t,n){return typeof n=="function"?n(t):n}function vu(t){var n=_e();return Yh(n,Kt,t)}function Yh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=v=null,w=null,B=n,K=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Ut&Z)===Z:(ar&Z)===Z){var j=B.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===ns&&(K=!0);else if((ar&j)===j){B=B.next,j===ns&&(K=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(T=w=Z,v=d):w=w.next=Z,Rt.lanes|=j,fr|=j;Z=B.action,da&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else j={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(T=w=j,v=d):w=w.next=j,Rt.lanes|=Z,fr|=Z;B=B.next}while(B!==null&&B!==n);if(w===null?v=d:w.next=T,!un(d,t.memoizedState)&&(Ne=!0,K&&(a=is,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kh(t){var n=_e(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);un(d,n.memoizedState)||(Ne=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function Ap(t,n,a){var l=Rt,h=_e(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!un((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Ne=!0),h=h.queue;var T=Rp.bind(null,l,h,t);if(Il(2048,8,T,[t]),h.getSnapshot!==n||v||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,ls(9,Eu(),bp.bind(null,l,h,a,n),null),Wt===null)throw Error(s(349));d||(ar&124)!==0||Sp(l,n,a)}return a}function Sp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=Fh(),Rt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function bp(t,n,a,l){n.value=a,n.getSnapshot=l,wp(n)&&Cp(t)}function Rp(t,n,a){return a(function(){wp(n)&&Cp(t)})}function wp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!un(t,a)}catch{return!0}}function Cp(t){var n=Ja(t,2);n!==null&&pn(n,t,2)}function Xh(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),da){ln(!0);try{a()}finally{ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},n}function Dp(t,n,a,l){return t.baseState=a,Yh(t,Kt,typeof l=="function"?l:Vi)}function nT(t,n,a,l,h){if(Au(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Ip(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Ip(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(h,l),w=Y.S;w!==null&&w(v,T),Vp(t,n,T)}catch(B){$h(t,n,B)}finally{Y.T=d}}else try{d=a(h,l),Vp(t,n,d)}catch(B){$h(t,n,B)}}function Vp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xp(t,n,l)},function(l){return $h(t,n,l)}):xp(t,n,a)}function xp(t,n,a){n.status="fulfilled",n.value=a,Np(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ip(t,a)))}function $h(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Np(n),n=n.next;while(n!==l)}t.action=null}function Np(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Op(t,n){return n}function Mp(t,n){if(jt){var a=Wt.formState;if(a!==null){t:{var l=Rt;if(jt){if(ue){e:{for(var h=ue,d=Jn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=Ln(h.nextSibling),l=h.data==="F!";break t}}ua(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:n},a.queue=l,a=Wp.bind(null,Rt,l),l.dispatch=a,l=Xh(!1),d=ef.bind(null,Rt,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=nT.bind(null,Rt,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Up(t){var n=_e();return Lp(n,Kt,t)}function Lp(t,n,a){if(n=Yh(t,n,Op)[0],t=vu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Dl(n)}catch(v){throw v===Al?du:v}else l=n;n=_e();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,ls(9,Eu(),iT.bind(null,h,a),null)),[l,d,t]}function iT(t,n){t.action=n}function Pp(t){var n=_e(),a=Kt;if(a!==null)return Lp(n,a,t);_e(),n=n.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ls(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Fh(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Eu(){return{destroy:void 0,resource:void 0}}function zp(){return _e().memoizedState}function Tu(t,n,a,l){var h=nn();l=l===void 0?null:l,Rt.flags|=t,h.memoizedState=ls(1|n,Eu(),a,l)}function Il(t,n,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&Bh(l,Kt.memoizedState.deps)?h.memoizedState=ls(n,d,a,l):(Rt.flags|=t,h.memoizedState=ls(1|n,d,a,l))}function kp(t,n){Tu(8390656,8,t,n)}function Bp(t,n){Il(2048,8,t,n)}function jp(t,n){return Il(4,2,t,n)}function qp(t,n){return Il(4,4,t,n)}function Hp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Gp(t,n,a){a=a!=null?a.concat([t]):null,Il(4,4,Hp.bind(null,n,t),a)}function Zh(){}function Fp(t,n){var a=_e();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Bh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Qp(t,n){var a=_e();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Bh(n,l[1]))return l[0];if(l=t(),da){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,n],l}function Jh(t,n,a){return a===void 0||(ar&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Xg(),Rt.lanes|=t,fr|=t,a)}function Yp(t,n,a,l){return un(a,n)?a:rs.current!==null?(t=Jh(t,a,l),un(t,n)||(Ne=!0),t):(ar&42)===0?(Ne=!0,t.memoizedState=a):(t=Xg(),Rt.lanes|=t,fr|=t,n)}function Kp(t,n,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,ef(t,!1,n,a);try{var w=h(),B=Y.S;if(B!==null&&B(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var K=WE(w,l);Vl(t,n,K,mn(t))}else Vl(t,n,l,mn(t))}catch(Z){Vl(t,n,{then:function(){},status:"rejected",reason:Z},mn())}finally{st.p=d,Y.T=v}}function rT(){}function Wh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Xp(t).queue;Kp(t,h,n,dt,a===null?rT:function(){return $p(t),a(l)})}function Xp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $p(t){var n=Xp(t).next.queue;Vl(t,n,{},mn())}function tf(){return Qe(Kl)}function Zp(){return _e().memoizedState}function Jp(){return _e().memoizedState}function aT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=mn();t=ir(a);var l=rr(n,t,a);l!==null&&(pn(l,n,a),bl(l,n,a)),n={cache:Vh()},t.payload=n;return}n=n.return}}function sT(t,n,a){var l=mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Au(t)?tg(n,a):(a=Eh(t,n,a,l),a!==null&&(pn(a,t,l),eg(a,n,l)))}function Wp(t,n,a){var l=mn();Vl(t,n,a,l)}function Vl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Au(t))tg(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,un(T,v))return au(t,n,h,0),Wt===null&&ru(),!1}catch{}finally{}if(a=Eh(t,n,h,l),a!==null)return pn(a,t,l),eg(a,n,l),!0}return!1}function ef(t,n,a,l){if(l={lane:2,revertLane:Mf(),action:l,hasEagerState:!1,eagerState:null,next:null},Au(t)){if(n)throw Error(s(479))}else n=Eh(t,a,l,2),n!==null&&pn(n,t,2)}function Au(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function tg(t,n){as=gu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function eg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}var Su={readContext:Qe,use:_u,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},ng={readContext:Qe,use:_u,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:Qe,useEffect:kp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Tu(4194308,4,Hp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Tu(4194308,4,t,n)},useInsertionEffect:function(t,n){Tu(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(da){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(da){ln(!0);try{a(n)}finally{ln(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=sT.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Xh(t);var n=t.queue,a=Wp.bind(null,Rt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Zh,useDeferredValue:function(t,n){var a=nn();return Jh(a,t,n)},useTransition:function(){var t=Xh(!1);return t=Kp.bind(null,Rt,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Rt,h=nn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Ut&124)!==0||Sp(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,kp(Rp.bind(null,l,d,t),[t]),l.flags|=2048,ls(9,Eu(),bp.bind(null,l,d,a,n),null),a},useId:function(){var t=nn(),n=Wt.identifierPrefix;if(jt){var a=Ci,l=wi;a=(l&~(1<<32-Fe(l)-1)).toString(32)+a,n=""+n+"R"+a,a=yu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=tT++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:tf,useFormState:Mp,useActionState:Mp,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ef.bind(null,Rt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Qh,useCacheRefresh:function(){return nn().memoizedState=aT.bind(null,Rt)}},ig={readContext:Qe,use:_u,useCallback:Fp,useContext:Qe,useEffect:Bp,useImperativeHandle:Gp,useInsertionEffect:jp,useLayoutEffect:qp,useMemo:Qp,useReducer:vu,useRef:zp,useState:function(){return vu(Vi)},useDebugValue:Zh,useDeferredValue:function(t,n){var a=_e();return Yp(a,Kt.memoizedState,t,n)},useTransition:function(){var t=vu(Vi)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:Ap,useId:Zp,useHostTransitionStatus:tf,useFormState:Up,useActionState:Up,useOptimistic:function(t,n){var a=_e();return Dp(a,Kt,t,n)},useMemoCache:Qh,useCacheRefresh:Jp},lT={readContext:Qe,use:_u,useCallback:Fp,useContext:Qe,useEffect:Bp,useImperativeHandle:Gp,useInsertionEffect:jp,useLayoutEffect:qp,useMemo:Qp,useReducer:Kh,useRef:zp,useState:function(){return Kh(Vi)},useDebugValue:Zh,useDeferredValue:function(t,n){var a=_e();return Kt===null?Jh(a,t,n):Yp(a,Kt.memoizedState,t,n)},useTransition:function(){var t=Kh(Vi)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:Ap,useId:Zp,useHostTransitionStatus:tf,useFormState:Pp,useActionState:Pp,useOptimistic:function(t,n){var a=_e();return Kt!==null?Dp(a,Kt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qh,useCacheRefresh:Jp},os=null,xl=0;function bu(t){var n=xl;return xl+=1,os===null&&(os=[]),mp(os,t,n)}function Nl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ru(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rg(t){var n=t._init;return n(t._payload)}function ag(t){function n(M,V){if(t){var z=M.deletions;z===null?(M.deletions=[V],M.flags|=16):z.push(V)}}function a(M,V){if(!t)return null;for(;V!==null;)n(M,V),V=V.sibling;return null}function l(M){for(var V=new Map;M!==null;)M.key!==null?V.set(M.key,M):V.set(M.index,M),M=M.sibling;return V}function h(M,V){return M=Ri(M,V),M.index=0,M.sibling=null,M}function d(M,V,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<V?(M.flags|=67108866,V):z):(M.flags|=67108866,V)):(M.flags|=1048576,V)}function v(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function T(M,V,z,X){return V===null||V.tag!==6?(V=Ah(z,M.mode,X),V.return=M,V):(V=h(V,z),V.return=M,V)}function w(M,V,z,X){var ct=z.type;return ct===F?K(M,V,z.props.children,X,z.key):V!==null&&(V.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&rg(ct)===V.type)?(V=h(V,z.props),Nl(V,z),V.return=M,V):(V=lu(z.type,z.key,z.props,null,M.mode,X),Nl(V,z),V.return=M,V)}function B(M,V,z,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Sh(z,M.mode,X),V.return=M,V):(V=h(V,z.children||[]),V.return=M,V)}function K(M,V,z,X,ct){return V===null||V.tag!==7?(V=aa(z,M.mode,X,ct),V.return=M,V):(V=h(V,z),V.return=M,V)}function Z(M,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ah(""+V,M.mode,z),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return z=lu(V.type,V.key,V.props,null,M.mode,z),Nl(z,V),z.return=M,z;case L:return V=Sh(V,M.mode,z),V.return=M,V;case b:var X=V._init;return V=X(V._payload),Z(M,V,z)}if(le(V)||U(V))return V=aa(V,M.mode,z,null),V.return=M,V;if(typeof V.then=="function")return Z(M,bu(V),z);if(V.$$typeof===nt)return Z(M,hu(M,V),z);Ru(M,V)}return null}function j(M,V,z,X){var ct=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ct!==null?null:T(M,V,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return z.key===ct?w(M,V,z,X):null;case L:return z.key===ct?B(M,V,z,X):null;case b:return ct=z._init,z=ct(z._payload),j(M,V,z,X)}if(le(z)||U(z))return ct!==null?null:K(M,V,z,X,null);if(typeof z.then=="function")return j(M,V,bu(z),X);if(z.$$typeof===nt)return j(M,V,hu(M,z),X);Ru(M,z)}return null}function q(M,V,z,X,ct){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return M=M.get(z)||null,T(V,M,""+X,ct);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return M=M.get(X.key===null?z:X.key)||null,w(V,M,X,ct);case L:return M=M.get(X.key===null?z:X.key)||null,B(V,M,X,ct);case b:var Ct=X._init;return X=Ct(X._payload),q(M,V,z,X,ct)}if(le(X)||U(X))return M=M.get(z)||null,K(V,M,X,ct,null);if(typeof X.then=="function")return q(M,V,z,bu(X),ct);if(X.$$typeof===nt)return q(M,V,z,hu(V,X),ct);Ru(V,X)}return null}function vt(M,V,z,X){for(var ct=null,Ct=null,ht=V,yt=V=0,Me=null;ht!==null&&yt<z.length;yt++){ht.index>yt?(Me=ht,ht=null):Me=ht.sibling;var kt=j(M,ht,z[yt],X);if(kt===null){ht===null&&(ht=Me);break}t&&ht&&kt.alternate===null&&n(M,ht),V=d(kt,V,yt),Ct===null?ct=kt:Ct.sibling=kt,Ct=kt,ht=Me}if(yt===z.length)return a(M,ht),jt&&la(M,yt),ct;if(ht===null){for(;yt<z.length;yt++)ht=Z(M,z[yt],X),ht!==null&&(V=d(ht,V,yt),Ct===null?ct=ht:Ct.sibling=ht,Ct=ht);return jt&&la(M,yt),ct}for(ht=l(ht);yt<z.length;yt++)Me=q(ht,M,yt,z[yt],X),Me!==null&&(t&&Me.alternate!==null&&ht.delete(Me.key===null?yt:Me.key),V=d(Me,V,yt),Ct===null?ct=Me:Ct.sibling=Me,Ct=Me);return t&&ht.forEach(function(Tr){return n(M,Tr)}),jt&&la(M,yt),ct}function gt(M,V,z,X){if(z==null)throw Error(s(151));for(var ct=null,Ct=null,ht=V,yt=V=0,Me=null,kt=z.next();ht!==null&&!kt.done;yt++,kt=z.next()){ht.index>yt?(Me=ht,ht=null):Me=ht.sibling;var Tr=j(M,ht,kt.value,X);if(Tr===null){ht===null&&(ht=Me);break}t&&ht&&Tr.alternate===null&&n(M,ht),V=d(Tr,V,yt),Ct===null?ct=Tr:Ct.sibling=Tr,Ct=Tr,ht=Me}if(kt.done)return a(M,ht),jt&&la(M,yt),ct;if(ht===null){for(;!kt.done;yt++,kt=z.next())kt=Z(M,kt.value,X),kt!==null&&(V=d(kt,V,yt),Ct===null?ct=kt:Ct.sibling=kt,Ct=kt);return jt&&la(M,yt),ct}for(ht=l(ht);!kt.done;yt++,kt=z.next())kt=q(ht,M,yt,kt.value,X),kt!==null&&(t&&kt.alternate!==null&&ht.delete(kt.key===null?yt:kt.key),V=d(kt,V,yt),Ct===null?ct=kt:Ct.sibling=kt,Ct=kt);return t&&ht.forEach(function(o1){return n(M,o1)}),jt&&la(M,yt),ct}function $t(M,V,z,X){if(typeof z=="object"&&z!==null&&z.type===F&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case R:t:{for(var ct=z.key;V!==null;){if(V.key===ct){if(ct=z.type,ct===F){if(V.tag===7){a(M,V.sibling),X=h(V,z.props.children),X.return=M,M=X;break t}}else if(V.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&rg(ct)===V.type){a(M,V.sibling),X=h(V,z.props),Nl(X,z),X.return=M,M=X;break t}a(M,V);break}else n(M,V);V=V.sibling}z.type===F?(X=aa(z.props.children,M.mode,X,z.key),X.return=M,M=X):(X=lu(z.type,z.key,z.props,null,M.mode,X),Nl(X,z),X.return=M,M=X)}return v(M);case L:t:{for(ct=z.key;V!==null;){if(V.key===ct)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(M,V.sibling),X=h(V,z.children||[]),X.return=M,M=X;break t}else{a(M,V);break}else n(M,V);V=V.sibling}X=Sh(z,M.mode,X),X.return=M,M=X}return v(M);case b:return ct=z._init,z=ct(z._payload),$t(M,V,z,X)}if(le(z))return vt(M,V,z,X);if(U(z)){if(ct=U(z),typeof ct!="function")throw Error(s(150));return z=ct.call(z),gt(M,V,z,X)}if(typeof z.then=="function")return $t(M,V,bu(z),X);if(z.$$typeof===nt)return $t(M,V,hu(M,z),X);Ru(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(M,V.sibling),X=h(V,z),X.return=M,M=X):(a(M,V),X=Ah(z,M.mode,X),X.return=M,M=X),v(M)):a(M,V)}return function(M,V,z,X){try{xl=0;var ct=$t(M,V,z,X);return os=null,ct}catch(ht){if(ht===Al||ht===du)throw ht;var Ct=cn(29,ht,null,M.mode);return Ct.lanes=X,Ct.return=M,Ct}finally{}}}var us=ag(!0),sg=ag(!1),wn=tt(null),Wn=null;function sr(t){var n=t.alternate;it(we,we.current&1),it(wn,t),Wn===null&&(n===null||rs.current!==null||n.memoizedState!==null)&&(Wn=t)}function lg(t){if(t.tag===22){if(it(we,we.current),it(wn,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else lr()}function lr(){it(we,we.current),it(wn,wn.current)}function xi(t){lt(wn),Wn===t&&(Wn=null),lt(we)}var we=tt(0);function wu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Qf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function nf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=mn(),h=ir(l);h.payload=n,a!=null&&(h.callback=a),n=rr(t,h,l),n!==null&&(pn(n,t,l),bl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=mn(),h=ir(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=rr(t,h,l),n!==null&&(pn(n,t,l),bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=mn(),l=ir(a);l.tag=2,n!=null&&(l.callback=n),n=rr(t,l,a),n!==null&&(pn(n,t,a),bl(n,t,a))}};function og(t,n,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!ml(a,l)||!ml(h,d):!0}function ug(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&rf.enqueueReplaceState(n,n.state,null)}function ma(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function cg(t){Cu(t)}function hg(t){console.error(t)}function fg(t){Cu(t)}function Du(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function dg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function af(t,n,a){return a=ir(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(t,n)},a}function mg(t){return t=ir(t),t.tag=3,t}function pg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){dg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){dg(n,a,l),typeof h!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function oT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&vl(n,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return Wn===null?If():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Oh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),xf(t,l,h)),!1;case 22:return a.flags|=65536,l===Oh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),xf(t,l,h)),!1}throw Error(s(435,a.tag))}return xf(t,l,h),If(),!1}if(jt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==wh&&(t=Error(s(422),{cause:l}),_l(An(t,a)))):(l!==wh&&(n=Error(s(423),{cause:l}),_l(An(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=An(l,a),h=af(t.stateNode,l,h),Lh(t,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=An(d,a),kl===null?kl=[d]:kl.push(d),ce!==4&&(ce=2),n===null)return!0;l=An(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=af(a.stateNode,l,t),Lh(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(dr===null||!dr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=mg(h),pg(h,t,a,l),Lh(a,h),!1}a=a.return}while(a!==null);return!1}var gg=Error(s(461)),Ne=!1;function ke(t,n,a,l){n.child=t===null?sg(n,null,a,l):us(n,t.child,a,l)}function yg(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ha(n),l=jh(t,n,a,v,d,h),T=qh(),t!==null&&!Ne?(Hh(t,n,h),Ni(t,n,h)):(jt&&T&&bh(n),n.flags|=1,ke(t,n,l,h),n.child)}function _g(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Th(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,vg(t,n,d,l,h)):(t=lu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!df(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(v,l)&&t.ref===n.ref)return Ni(t,n,h)}return n.flags|=1,t=Ri(d,l),t.ref=n.ref,t.return=n,n.child=t}function vg(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(ml(d,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=d,df(t,h))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Ni(t,n,h)}return sf(t,n,a,l,h)}function Eg(t,n,a){var l=n.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Tg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&fu(n,d!==null?d.cachePool:null),d!==null?vp(n,d):zh(),lg(n);else return n.lanes=n.childLanes=536870912,Tg(t,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(fu(n,d.cachePool),vp(n,d),lr(),n.memoizedState=null):(t!==null&&fu(n,null),zh(),lr());return ke(t,n,h,a),n.child}function Tg(t,n,a,l){var h=Nh();return h=h===null?null:{parent:Re._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&fu(n,null),zh(),lg(n),t!==null&&vl(t,n,l,!0),null}function Iu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function sf(t,n,a,l,h){return ha(n),a=jh(t,n,a,l,void 0,h),l=qh(),t!==null&&!Ne?(Hh(t,n,h),Ni(t,n,h)):(jt&&l&&bh(n),n.flags|=1,ke(t,n,a,h),n.child)}function Ag(t,n,a,l,h,d){return ha(n),n.updateQueue=null,a=Tp(n,l,a,h),Ep(t),l=qh(),t!==null&&!Ne?(Hh(t,n,d),Ni(t,n,d)):(jt&&l&&bh(n),n.flags|=1,ke(t,n,a,d),n.child)}function Sg(t,n,a,l,h){if(ha(n),n.stateNode===null){var d=Wa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Mh(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):Wa,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(nf(n,a,v,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&rf.enqueueReplaceState(d,d.state,null),wl(n,l,d,h),Rl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,w=ma(a,T);d.props=w;var B=d.context,K=a.contextType;v=Wa,typeof K=="object"&&K!==null&&(v=Qe(K));var Z=a.getDerivedStateFromProps;K=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&ug(n,d,l,v),nr=!1;var j=n.memoizedState;d.state=j,wl(n,l,d,h),Rl(),B=n.memoizedState,T||j!==B||nr?(typeof Z=="function"&&(nf(n,a,Z,l),B=n.memoizedState),(w=nr||og(n,a,w,l,j,B,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),d.props=l,d.state=B,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Uh(t,n),v=n.memoizedProps,K=ma(a,v),d.props=K,Z=n.pendingProps,j=d.context,B=a.contextType,w=Wa,typeof B=="object"&&B!==null&&(w=Qe(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||j!==w)&&ug(n,d,l,w),nr=!1,j=n.memoizedState,d.state=j,wl(n,l,d,h),Rl();var q=n.memoizedState;v!==Z||j!==q||nr||t!==null&&t.dependencies!==null&&cu(t.dependencies)?(typeof T=="function"&&(nf(n,a,T,l),q=n.memoizedState),(K=nr||og(n,a,K,l,j,q,w)||t!==null&&t.dependencies!==null&&cu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,w)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),d.props=l,d.state=q,d.context=w,l=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Iu(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=us(n,t.child,null,h),n.child=us(n,null,a,h)):ke(t,n,a,h),n.memoizedState=d.state,t=n.child):t=Ni(t,n,h),t}function bg(t,n,a,l){return yl(),n.flags|=256,ke(t,n,a,l),n.child}var lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(t){return{baseLanes:t,cachePool:hp()}}function uf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Cn),t}function Rg(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(we.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(h?sr(n):lr(),jt){var T=ue,w;if(w=T){t:{for(w=T,T=Jn;w.nodeType!==8;){if(!T){T=null;break t}if(w=Ln(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:sa!==null?{id:wi,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},w=cn(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,en=n,ue=null,w=!0):w=!1}w||ua(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Qf(T)?n.lanes=32:n.lanes=536870912,null;xi(n)}return T=l.children,l=l.fallback,h?(lr(),h=n.mode,T=Vu({mode:"hidden",children:T},h),l=aa(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=of(a),h.childLanes=uf(t,v,a),n.memoizedState=lf,l):(sr(n),cf(n,T))}if(w=t.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(d)n.flags&256?(sr(n),n.flags&=-257,n=hf(t,n,a)):n.memoizedState!==null?(lr(),n.child=t.child,n.flags|=128,n=null):(lr(),h=l.fallback,T=n.mode,l=Vu({mode:"visible",children:l.children},T),h=aa(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,us(n,t.child,null,a),l=n.child,l.memoizedState=of(a),l.childLanes=uf(t,v,a),n.memoizedState=lf,n=h);else if(sr(n),Qf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,_l({value:l,source:null,stack:null}),n=hf(t,n,a)}else if(Ne||vl(t,n,a,!1),v=(a&t.childLanes)!==0,Ne||v){if(v=Wt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Ki(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,Ja(t,l),pn(v,t,l),gg;T.data==="$?"||If(),n=hf(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,ue=Ln(T.nextSibling),en=n,jt=!0,oa=null,Jn=!1,t!==null&&(bn[Rn++]=wi,bn[Rn++]=Ci,bn[Rn++]=sa,wi=t.id,Ci=t.overflow,sa=n),n=cf(n,l.children),n.flags|=4096);return n}return h?(lr(),h=l.fallback,T=n.mode,w=t.child,B=w.sibling,l=Ri(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?h=Ri(B,h):(h=aa(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=of(a):(w=T.cachePool,w!==null?(B=Re._currentValue,w=w.parent!==B?{parent:B,pool:B}:w):w=hp(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=uf(t,v,a),n.memoizedState=lf,l):(sr(n),a=t.child,t=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function cf(t,n){return n=Vu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Vu(t,n){return t=cn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function hf(t,n,a){return us(n,t.child,null,a),t=cf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Dh(t.return,n,a)}function ff(t,n,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Cg(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(ke(t,n,l.children,a),l=we.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,a,n);else if(t.tag===19)wg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(it(we,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&wu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ff(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&wu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ff(n,!0,a,null,d);break;case"together":ff(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ni(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),fr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(vl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ri(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ri(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function df(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&cu(t)))}function uT(t,n,a){switch(n.tag){case 3:Jt(n,n.stateNode.containerInfo),er(n,Re,t.memoizedState.cache),yl();break;case 27:case 5:Yi(n);break;case 4:Jt(n,n.stateNode.containerInfo);break;case 10:er(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(sr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Rg(t,n,a):(sr(n),t=Ni(t,n,a),t!==null?t.sibling:null);sr(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(vl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Cg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(we,we.current),l)break;return null;case 22:case 23:return n.lanes=0,Eg(t,n,a);case 24:er(n,Re,t.memoizedState.cache)}return Ni(t,n,a)}function Dg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!df(t,a)&&(n.flags&128)===0)return Ne=!1,uT(t,n,a);Ne=(t.flags&131072)!==0}else Ne=!1,jt&&(n.flags&1048576)!==0&&rp(n,uu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Th(l)?(t=ma(l,t),n.tag=1,n=Sg(null,n,l,t,a)):(n.tag=0,n=sf(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Tt){n.tag=11,n=yg(null,n,l,t,a);break t}else if(h===N){n.tag=14,n=_g(null,n,l,t,a);break t}}throw n=Le(l)||l,Error(s(306,n,""))}}return n;case 0:return sf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ma(l,n.pendingProps),Sg(t,n,l,h,a);case 3:t:{if(Jt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Uh(t,n),wl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,er(n,Re,l),l!==d.cache&&Ih(n,[Re],a,!0),Rl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=bg(t,n,l,a);break t}else if(l!==h){h=An(Error(s(424)),n),_l(h),n=bg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ue=Ln(t.firstChild),en=n,jt=!0,oa=null,Jn=!0,a=sg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),l===h){n=Ni(t,n,a);break t}ke(t,n,l,a)}n=n.child}return n;case 26:return Iu(t,n),t===null?(a=Ny(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,t=n.pendingProps,l=Gu(Et.current).createElement(a),l[Ae]=n,l[pe]=t,je(l,a,t),he(l),n.stateNode=l):n.memoizedState=Ny(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Yi(n),t===null&&jt&&(l=n.stateNode=Iy(n.type,n.pendingProps,Et.current),en=n,Jn=!0,h=ue,gr(n.type)?(Yf=h,ue=Ln(l.firstChild)):ue=h),ke(t,n,n.pendingProps.children,a),Iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((h=l=ue)&&(l=PT(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,en=n,ue=Ln(l.firstChild),Jn=!1,h=!0):h=!1),h||ua(n)),Yi(n),h=n.type,d=n.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Hf(h,d)?l=null:v!==null&&Hf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=jh(t,n,eT,null,null,a),Kl._currentValue=h),Iu(t,n),ke(t,n,l,a),n.child;case 6:return t===null&&jt&&((t=a=ue)&&(a=zT(a,n.pendingProps,Jn),a!==null?(n.stateNode=a,en=n,ue=null,t=!0):t=!1),t||ua(n)),null;case 13:return Rg(t,n,a);case 4:return Jt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=us(n,null,l,a):ke(t,n,l,a),n.child;case 11:return yg(t,n,n.type,n.pendingProps,a);case 7:return ke(t,n,n.pendingProps,a),n.child;case 8:return ke(t,n,n.pendingProps.children,a),n.child;case 12:return ke(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,er(n,n.type,l.value),ke(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ha(n),h=Qe(h),l=l(h),n.flags|=1,ke(t,n,l,a),n.child;case 14:return _g(t,n,n.type,n.pendingProps,a);case 15:return vg(t,n,n.type,n.pendingProps,a);case 19:return Cg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Vu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ri(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Eg(t,n,a);case 24:return ha(n),l=Qe(Re),t===null?(h=Nh(),h===null&&(h=Wt,d=Vh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Mh(n),er(n,Re,h)):((t.lanes&a)!==0&&(Uh(t,n),wl(n,null,null,a),Rl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),er(n,Re,l)):(l=d.cache,er(n,Re,l),l!==h.cache&&Ih(n,[Re],a,!0))),ke(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Oi(t){t.flags|=4}function Ig(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Py(n)){if(n=wn.current,n!==null&&((Ut&4194048)===Ut?Wn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Wn))throw Sl=Oh,fp;t.flags|=8192}}function xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$s():536870912,t.lanes|=n,ds|=n)}function Ol(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function cT(t,n,a){var l=n.pendingProps;switch(Rh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ii(Re),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(gl(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lp())),re(n),null;case 26:return a=n.memoizedState,t===null?(Oi(n),a!==null?(re(n),Ig(n,a)):(re(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Oi(n),re(n),Ig(n,a)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&Oi(n),re(n),n.flags&=-16777217),null;case 27:fi(n),a=Et.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}t=pt.current,gl(n)?ap(n):(t=Iy(h,l,a),n.stateNode=t,Oi(n))}return re(n),null;case 5:if(fi(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(t=pt.current,gl(n))ap(n);else{switch(h=Gu(Et.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ae]=n,t[pe]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(je(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Oi(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,gl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ae]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ay(t.nodeValue,a)),t||ua(n)}else t=Gu(t).createTextNode(l),t[Ae]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=gl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ae]=n}else yl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=lp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xi(n),n):(xi(n),null)}if(xi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),xu(n,n.updateQueue),re(n),null;case 4:return Bn(),t===null&&zf(n.stateNode.containerInfo),re(n),null;case 10:return Ii(n.type),re(n),null;case 19:if(lt(we),h=n.memoizedState,h===null)return re(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Ol(h,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=wu(t),d!==null){for(n.flags|=128,Ol(h,!1),t=d.updateQueue,n.updateQueue=t,xu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ip(a,t),a=a.sibling;return it(we,we.current&1|2),n.child}t=t.sibling}h.tail!==null&&gn()>Mu&&(n.flags|=128,l=!0,Ol(h,!1),n.lanes=4194304)}else{if(!l)if(t=wu(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,xu(n,t),Ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return re(n),null}else 2*gn()-h.renderingStartTime>Mu&&a!==536870912&&(n.flags|=128,l=!0,Ol(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=gn(),n.sibling=null,t=we.current,it(we,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return xi(n),kh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),a=n.updateQueue,a!==null&&xu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&lt(fa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ii(Re),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function hT(t,n){switch(Rh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ii(Re),Bn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return fi(n),null;case 13:if(xi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));yl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return lt(we),null;case 4:return Bn(),null;case 10:return Ii(n.type),null;case 22:case 23:return xi(n),kh(),t!==null&&lt(fa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ii(Re),null;case 25:return null;default:return null}}function Vg(t,n){switch(Rh(n),n.tag){case 3:Ii(Re),Bn();break;case 26:case 27:case 5:fi(n);break;case 4:Bn();break;case 13:xi(n);break;case 19:lt(we);break;case 10:Ii(n.type);break;case 22:case 23:xi(n),kh(),t!==null&&lt(fa);break;case 24:Ii(Re)}}function Ml(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Zt(n,n.return,T)}}function or(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var w=a,B=T;try{B()}catch(K){Zt(h,w,K)}}}l=l.next}while(l!==d)}}catch(K){Zt(n,n.return,K)}}function xg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{_p(n,a)}catch(l){Zt(t,t.return,l)}}}function Ng(t,n,a){a.props=ma(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(t,n,l)}}function Ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Zt(t,n,h)}}function ti(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(t,n,h)}else a.current=null}function Og(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(t,t.return,h)}}function mf(t,n,a){try{var l=t.stateNode;NT(l,t.type,a,n),l[pe]=n}catch(h){Zt(t,t.return,h)}}function Mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gr(t.type)||t.tag===4}function pf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hu));else if(l!==4&&(l===27&&gr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(gf(t,n,a),t=t.sibling;t!==null;)gf(t,n,a),t=t.sibling}function Nu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nu(t,n,a),t=t.sibling;t!==null;)Nu(t,n,a),t=t.sibling}function Ug(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,l,a),n[Ae]=t,n[pe]=a}catch(d){Zt(t,t.return,d)}}var Mi=!1,de=!1,yf=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function fT(t,n){if(t=t.containerInfo,jf=$u,t=Ym(t),mh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,B=0,K=0,Z=t,j=null;e:for(;;){for(var q;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(w=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)j=Z,Z=q;for(;;){if(Z===t)break e;if(j===a&&++B===h&&(T=v),j===d&&++K===l&&(w=v),(q=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=q}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(qf={focusedElem:t,selectionRange:a},$u=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var vt=ma(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(vt,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Zt(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ff(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}}function Pg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ur(t,a),l&4&&Ml(5,a);break;case 1:if(ur(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Zt(a,a.return,v)}else{var h=ma(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(a,a.return,v)}}l&64&&xg(a),l&512&&Ul(a,a.return);break;case 3:if(ur(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{_p(t,n)}catch(v){Zt(a,a.return,v)}}break;case 27:n===null&&l&4&&Ug(a);case 26:case 5:ur(t,a),n===null&&l&4&&Og(a),l&512&&Ul(a,a.return);break;case 12:ur(t,a);break;case 13:ur(t,a),l&4&&Bg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=TT.bind(null,a),kT(t,a))));break;case 22:if(l=a.memoizedState!==null||Mi,!l){n=n!==null&&n.memoizedState!==null||de,h=Mi;var d=de;Mi=l,(de=n)&&!d?cr(t,a,(a.subtreeFlags&8772)!==0):ur(t,a),Mi=h,de=d}break;case 30:break;default:ur(t,a)}}function zg(t){var n=t.alternate;n!==null&&(t.alternate=null,zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Zi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,rn=!1;function Ui(t,n,a){for(a=a.child;a!==null;)kg(t,n,a),a=a.sibling}function kg(t,n,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:de||ti(a,n),Ui(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||ti(a,n);var l=ie,h=rn;gr(a.type)&&(ie=a.stateNode,rn=!1),Ui(t,n,a),Gl(a.stateNode),ie=l,rn=h;break;case 5:de||ti(a,n);case 6:if(l=ie,h=rn,ie=null,Ui(t,n,a),ie=l,rn=h,ie!==null)if(rn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(d){Zt(a,n,d)}else try{ie.removeChild(a.stateNode)}catch(d){Zt(a,n,d)}break;case 18:ie!==null&&(rn?(t=ie,Cy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Jl(t)):Cy(ie,a.stateNode));break;case 4:l=ie,h=rn,ie=a.stateNode.containerInfo,rn=!0,Ui(t,n,a),ie=l,rn=h;break;case 0:case 11:case 14:case 15:de||or(2,a,n),de||or(4,a,n),Ui(t,n,a);break;case 1:de||(ti(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ng(a,n,l)),Ui(t,n,a);break;case 21:Ui(t,n,a);break;case 22:de=(l=de)||a.memoizedState!==null,Ui(t,n,a),de=l;break;default:Ui(t,n,a)}}function Bg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jl(t)}catch(a){Zt(n,n.return,a)}}function dT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Lg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Lg),n;default:throw Error(s(435,t.tag))}}function _f(t,n){var a=dT(t);n.forEach(function(l){var h=AT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function hn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(gr(T.type)){ie=T.stateNode,rn=!1;break t}break;case 5:ie=T.stateNode,rn=!1;break t;case 3:case 4:ie=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(ie===null)throw Error(s(160));kg(d,v,h),ie=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)jg(n,t),n=n.sibling}var Un=null;function jg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(n,t),fn(t),l&4&&(or(3,t,t.return),Ml(3,t),or(5,t,t.return));break;case 1:hn(n,t),fn(t),l&512&&(de||a===null||ti(a,a.return)),l&64&&Mi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(hn(n,t),fn(t),l&512&&(de||a===null||ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Hr]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),je(d,l,a),d[Ae]=t,he(d),l=d;break t;case"link":var v=Uy("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Uy("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ae]=t,he(d),l=d}t.stateNode=l}else Ly(h,t.type,t.stateNode);else t.stateNode=My(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ly(h,t.type,t.stateNode):My(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&mf(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(n,t),fn(t),l&512&&(de||a===null||ti(a,a.return)),a!==null&&l&4&&mf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(n,t),fn(t),l&512&&(de||a===null||ti(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(q){Zt(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,mf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(yf=!0);break;case 6:if(hn(n,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){Zt(t,t.return,q)}}break;case 3:if(Yu=null,h=Un,Un=Fu(n.containerInfo),hn(n,t),Un=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(n.containerInfo)}catch(q){Zt(t,t.return,q)}yf&&(yf=!1,qg(t));break;case 4:l=Un,Un=Fu(t.stateNode.containerInfo),hn(n,t),fn(t),Un=l;break;case 12:hn(n,t),fn(t);break;case 13:hn(n,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bf=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_f(t,l)));break;case 22:h=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=Mi,K=de;if(Mi=B||h,de=K||w,hn(n,t),de=K,Mi=B,fn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||w||Mi||de||pa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(d=w.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var Z=w.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(q){Zt(w,w.return,q)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(q){Zt(w,w.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_f(t,a))));break;case 19:hn(n,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_f(t,l)));break;case 30:break;case 21:break;default:hn(n,t),fn(t)}}function fn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Mg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=pf(t);Nu(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var T=pf(t);Nu(t,T,v);break;case 3:case 4:var w=a.stateNode.containerInfo,B=pf(t);gf(t,B,w);break;default:throw Error(s(161))}}catch(K){Zt(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function qg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;qg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ur(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Pg(t,n.alternate,n),n=n.sibling}function pa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:or(4,n,n.return),pa(n);break;case 1:ti(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ng(n,n.return,a),pa(n);break;case 27:Gl(n.stateNode);case 26:case 5:ti(n,n.return),pa(n);break;case 22:n.memoizedState===null&&pa(n);break;case 30:pa(n);break;default:pa(n)}t=t.sibling}}function cr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:cr(h,d,a),Ml(4,d);break;case 1:if(cr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Zt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)yp(w[h],T)}catch(B){Zt(l,l.return,B)}}a&&v&64&&xg(d),Ul(d,d.return);break;case 27:Ug(d);case 26:case 5:cr(h,d,a),a&&l===null&&v&4&&Og(d),Ul(d,d.return);break;case 12:cr(h,d,a);break;case 13:cr(h,d,a),a&&v&4&&Bg(h,d);break;case 22:d.memoizedState===null&&cr(h,d,a),Ul(d,d.return);break;case 30:break;default:cr(h,d,a)}n=n.sibling}}function vf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function Ef(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t))}function ei(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hg(t,n,a,l),n=n.sibling}function Hg(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(t,n,a,l),h&2048&&Ml(9,n);break;case 1:ei(t,n,a,l);break;case 3:ei(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t)));break;case 12:if(h&2048){ei(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Zt(n,n.return,w)}}else ei(t,n,a,l);break;case 13:ei(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?ei(t,n,a,l):Ll(t,n):d._visibility&2?ei(t,n,a,l):(d._visibility|=2,cs(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&vf(v,n);break;case 24:ei(t,n,a,l),h&2048&&Ef(n.alternate,n);break;default:ei(t,n,a,l)}}function cs(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,v=n,T=a,w=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:cs(d,v,T,w,h),Ml(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?cs(d,v,T,w,h):Ll(d,v):(K._visibility|=2,cs(d,v,T,w,h)),h&&B&2048&&vf(v.alternate,v);break;case 24:cs(d,v,T,w,h),h&&B&2048&&Ef(v.alternate,v);break;default:cs(d,v,T,w,h)}n=n.sibling}}function Ll(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Ll(a,l),h&2048&&vf(l.alternate,l);break;case 24:Ll(a,l),h&2048&&Ef(l.alternate,l);break;default:Ll(a,l)}n=n.sibling}}var Pl=8192;function hs(t){if(t.subtreeFlags&Pl)for(t=t.child;t!==null;)Gg(t),t=t.sibling}function Gg(t){switch(t.tag){case 26:hs(t),t.flags&Pl&&t.memoizedState!==null&&JT(Un,t.memoizedState,t.memoizedProps);break;case 5:hs(t);break;case 3:case 4:var n=Un;Un=Fu(t.stateNode.containerInfo),hs(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Pl,Pl=16777216,hs(t),Pl=n):hs(t));break;default:hs(t)}}function Fg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,Yg(l,t)}Fg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qg(t),t=t.sibling}function Qg(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&or(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ou(t)):zl(t);break;default:zl(t)}}function Ou(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,Yg(l,t)}Fg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:or(8,n,n.return),Ou(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ou(n));break;default:Ou(n)}t=t.sibling}}function Yg(t,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:or(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Oe=l;else t:for(a=t;Oe!==null;){l=Oe;var h=l.sibling,d=l.return;if(zg(l),l===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var mT={getCacheForType:function(t){var n=Qe(Re),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},pT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,Dt=null,Ut=0,Qt=0,dn=null,hr=!1,fs=!1,Tf=!1,Li=0,ce=0,fr=0,ga=0,Af=0,Cn=0,ds=0,kl=null,an=null,Sf=!1,bf=0,Mu=1/0,Uu=null,dr=null,Be=0,mr=null,ms=null,ps=0,Rf=0,wf=null,Kg=null,Bl=0,Cf=null;function mn(){if((Ft&2)!==0&&Ut!==0)return Ut&-Ut;if(Y.T!==null){var t=ns;return t!==0?t:Mf()}return Xi()}function Xg(){Cn===0&&(Cn=(Ut&536870912)===0||jt?Xs():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Cn}function pn(t,n,a){(t===Wt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(gs(t,0),pr(t,Ut,Cn,!1)),mi(t,a),((Ft&2)===0||t!==Wt)&&(t===Wt&&((Ft&2)===0&&(ga|=a),ce===4&&pr(t,Ut,Cn,!1)),ni(t))}function $g(t,n,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||qr(t,n),h=l?_T(t,n):Vf(t,n,!0),d=l;do{if(h===0){fs&&!l&&pr(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!gT(a)){h=Vf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=kl;var w=T.current.memoizedState.isDehydrated;if(w&&(gs(T,v).flags|=256),v=Vf(T,v,!1),v!==2){if(Tf&&!w){T.errorRecoveryDisabledLanes|=d,ga|=d,h=4;break t}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){gs(t,0),pr(t,n,0,!0);break}t:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:pr(l,n,Cn,!hr);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=bf+300-gn(),10<h)){if(pr(l,n,Cn,!hr),Oa(l,0,!0)!==0)break t;l.timeoutHandle=Ry(Zg.bind(null,l,a,an,Uu,Sf,n,Cn,ga,ds,hr,d,2,-0,0),h);break t}Zg(l,a,an,Uu,Sf,n,Cn,ga,ds,hr,d,0,-0,0)}}break}while(!0);ni(t)}function Zg(t,n,a,l,h,d,v,T,w,B,K,Z,j,q){if(t.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:ZT},Gg(n),Z=WT(),Z!==null)){t.cancelPendingCommit=Z(ry.bind(null,t,n,d,a,l,h,v,T,w,K,1,j,q)),pr(t,d,v,!B);return}ry(t,n,d,a,l,h,v,T,w)}function gT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pr(t,n,a,l){n&=~Af,n&=~ga,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-Fe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&jn(t,a,n)}function Lu(){return(Ft&6)===0?(jl(0),!1):!0}function Df(){if(Dt!==null){if(Qt===0)var t=Dt.return;else t=Dt,Di=ca=null,Gh(t),os=null,xl=0,t=Dt;for(;t!==null;)Vg(t.alternate,t),t=t.return;Dt=null}}function gs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,MT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Df(),Wt=t,Dt=a=Ri(t.current,null),Ut=n,Qt=0,dn=null,hr=!1,fs=qr(t,n),Tf=!1,ds=Cn=Af=ga=fr=ce=0,an=kl=null,Sf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Fe(l),d=1<<h;n|=t[h],l&=~d}return Li=n,ru(),a}function Jg(t,n){Rt=null,Y.H=Su,n===Al||n===du?(n=pp(),Qt=3):n===fp?(n=pp(),Qt=4):Qt=n===gg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Dt===null&&(ce=1,Du(t,An(n,t.current)))}function Wg(){var t=Y.H;return Y.H=Su,t===null?Su:t}function ty(){var t=Y.A;return Y.A=mT,t}function If(){ce=4,hr||(Ut&4194048)!==Ut&&wn.current!==null||(fs=!0),(fr&134217727)===0&&(ga&134217727)===0||Wt===null||pr(Wt,Ut,Cn,!1)}function Vf(t,n,a){var l=Ft;Ft|=2;var h=Wg(),d=ty();(Wt!==t||Ut!==n)&&(Uu=null,gs(t,n)),n=!1;var v=ce;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,w=dn;switch(Qt){case 8:Df(),v=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var B=Qt;if(Qt=0,dn=null,ys(t,T,w,B),a&&fs){v=0;break t}break;default:B=Qt,Qt=0,dn=null,ys(t,T,w,B)}}yT(),v=ce;break}catch(K){Jg(t,K)}while(!0);return n&&t.shellSuspendCounter++,Di=ca=null,Ft=l,Y.H=h,Y.A=d,Dt===null&&(Wt=null,Ut=0,ru()),v}function yT(){for(;Dt!==null;)ey(Dt)}function _T(t,n){var a=Ft;Ft|=2;var l=Wg(),h=ty();Wt!==t||Ut!==n?(Uu=null,Mu=gn()+500,gs(t,n)):fs=qr(t,n);t:do try{if(Qt!==0&&Dt!==null){n=Dt;var d=dn;e:switch(Qt){case 1:Qt=0,dn=null,ys(t,n,d,1);break;case 2:case 9:if(dp(d)){Qt=0,dn=null,ny(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==t||(Qt=7),ni(t)},d.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:dp(d)?(Qt=0,dn=null,ny(n)):(Qt=0,dn=null,ys(t,n,d,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var T=Dt;if(!v||Py(v)){Qt=0,dn=null;var w=T.sibling;if(w!==null)Dt=w;else{var B=T.return;B!==null?(Dt=B,Pu(B)):Dt=null}break e}}Qt=0,dn=null,ys(t,n,d,5);break;case 6:Qt=0,dn=null,ys(t,n,d,6);break;case 8:Df(),ce=6;break t;default:throw Error(s(462))}}vT();break}catch(K){Jg(t,K)}while(!0);return Di=ca=null,Y.H=l,Y.A=h,Ft=a,Dt!==null?0:(Wt=null,Ut=0,ru(),ce)}function vT(){for(;Dt!==null&&!Fs();)ey(Dt)}function ey(t){var n=Dg(t.alternate,t,Li);t.memoizedProps=t.pendingProps,n===null?Pu(t):Dt=n}function ny(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ag(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Ag(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Gh(n);default:Vg(a,n),n=Dt=ip(n,Li),n=Dg(a,n,Li)}t.memoizedProps=t.pendingProps,n===null?Pu(t):Dt=n}function ys(t,n,a,l){Di=ca=null,Gh(n),os=null,xl=0;var h=n.return;try{if(oT(t,h,n,a,Ut)){ce=1,Du(t,An(a,t.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;ce=1,Du(t,An(a,t.current)),Dt=null;return}n.flags&32768?(jt||l===1?t=!0:fs||(Ut&536870912)!==0?t=!1:(hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),iy(n,t)):Pu(n)}function Pu(t){var n=t;do{if((n.flags&32768)!==0){iy(n,hr);return}t=n.return;var a=cT(n.alternate,n,Li);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ce===0&&(ce=5)}function iy(t,n){do{var a=hT(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);ce=6,Dt=null}function ry(t,n,a,l,h,d,v,T,w){t.cancelPendingCommit=null;do zu();while(Be!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=vh,Zs(t,a,d,v,T,w),t===Wt&&(Dt=Wt=null,Ut=0),ms=n,mr=t,ps=a,Rf=d,wf=h,Kg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ST(zr,function(){return uy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=st.p,st.p=2,v=Ft,Ft|=4;try{fT(t,n,a)}finally{Ft=v,st.p=h,Y.T=l}}Be=1,ay(),sy(),ly()}}function ay(){if(Be===1){Be=0;var t=mr,n=ms,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var h=Ft;Ft|=4;try{jg(n,t);var d=qf,v=Ym(t.containerInfo),T=d.focusedElem,w=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Qm(T.ownerDocument.documentElement,T)){if(w!==null&&mh(T)){var B=w.start,K=w.end;if(K===void 0&&(K=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(K,T.value.length);else{var Z=T.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var q=j.getSelection(),vt=T.textContent.length,gt=Math.min(w.start,vt),$t=w.end===void 0?gt:Math.min(w.end,vt);!q.extend&&gt>$t&&(v=$t,$t=gt,gt=v);var M=Fm(T,gt),V=Fm(T,$t);if(M&&V&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var z=Z.createRange();z.setStart(M.node,M.offset),q.removeAllRanges(),gt>$t?(q.addRange(z),q.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),q.addRange(z))}}}}for(Z=[],q=T;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}$u=!!jf,qf=jf=null}finally{Ft=h,st.p=l,Y.T=a}}t.current=n,Be=2}}function sy(){if(Be===2){Be=0;var t=mr,n=ms,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var h=Ft;Ft|=4;try{Pg(t,n.alternate,n)}finally{Ft=h,st.p=l,Y.T=a}}Be=3}}function ly(){if(Be===4||Be===3){Be=0,Oo();var t=mr,n=ms,a=ps,l=Kg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,ms=mr=null,oy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(dr=null),Ma(a),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,h=st.p,st.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=n,st.p=h}}(ps&3)!==0&&zu(),ni(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Cf?Bl++:(Bl=0,Cf=t):Bl=0,jl(0)}}function oy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,El(n)))}function zu(t){return ay(),sy(),ly(),uy()}function uy(){if(Be!==5)return!1;var t=mr,n=Rf;Rf=0;var a=Ma(ps),l=Y.T,h=st.p;try{st.p=32>a?32:a,Y.T=null,a=wf,wf=null;var d=mr,v=ps;if(Be=0,ms=mr=null,ps=0,(Ft&6)!==0)throw Error(s(331));var T=Ft;if(Ft|=4,Qg(d.current),Hg(d,d.current,v,a),Ft=T,jl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{st.p=h,Y.T=l,oy(t,n)}}function cy(t,n,a){n=An(a,n),n=af(t.stateNode,n,2),t=rr(t,n,2),t!==null&&(mi(t,2),ni(t))}function Zt(t,n,a){if(t.tag===3)cy(t,t,a);else for(;n!==null;){if(n.tag===3){cy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){t=An(a,t),a=mg(2),l=rr(n,a,2),l!==null&&(pg(a,l,n,t),mi(l,2),ni(l));break}}n=n.return}}function xf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new pT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Tf=!0,h.add(a),t=ET.bind(null,t,n,a),n.then(t,t))}function ET(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Ut&a)===a&&(ce===4||ce===3&&(Ut&62914560)===Ut&&300>gn()-bf?(Ft&2)===0&&gs(t,0):Af|=a,ds===Ut&&(ds=0)),ni(t)}function hy(t,n){n===0&&(n=$s()),t=Ja(t,n),t!==null&&(mi(t,n),ni(t))}function TT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),hy(t,a)}function AT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),hy(t,a)}function ST(t,n){return Lr(t,n)}var ku=null,_s=null,Nf=!1,Bu=!1,Of=!1,ya=0;function ni(t){t!==_s&&t.next===null&&(_s===null?ku=_s=t:_s=_s.next=t),Bu=!0,Nf||(Nf=!0,RT())}function jl(t,n){if(!Of&&Bu){Of=!0;do for(var a=!1,l=ku;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Fe(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,py(l,d))}else d=Ut,d=Oa(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qr(l,d)||(a=!0,py(l,d));l=l.next}while(a);Of=!1}}function bT(){fy()}function fy(){Bu=Nf=!1;var t=0;ya!==0&&(OT()&&(t=ya),ya=0);for(var n=gn(),a=null,l=ku;l!==null;){var h=l.next,d=dy(l,n);d===0?(l.next=null,a===null?ku=h:a.next=h,h===null&&(_s=a)):(a=l,(t!==0||(d&3)!==0)&&(Bu=!0)),l=h}jl(t)}function dy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Fe(d),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Ks(T,n)):w<=n&&(t.expiredLanes|=T),d&=~T}if(n=Wt,a=Ut,a=Oa(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Pr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Pr(l),Ma(a)){case 2:case 8:a=xa;break;case 32:a=zr;break;case 268435456:a=Na;break;default:a=zr}return l=my.bind(null,t),a=Lr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Pr(l),t.callbackPriority=2,t.callbackNode=null,2}function my(t,n){if(Be!==0&&Be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zu()&&t.callbackNode!==a)return null;var l=Ut;return l=Oa(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:($g(t,l,n),dy(t,gn()),t.callbackNode!=null&&t.callbackNode===a?my.bind(null,t):null)}function py(t,n){if(zu())return null;$g(t,n,!0)}function RT(){UT(function(){(Ft&6)!==0?Lr(Qs,bT):fy()})}function Mf(){return ya===0&&(ya=Xs()),ya}function gy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ba(""+t)}function yy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function wT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=gy((h[pe]||null).action),v=l.submitter;v&&(n=(n=v[pe]||null)?gy(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new ja("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ya!==0){var w=v?yy(h,v):new FormData(h);Wh(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(T.preventDefault(),w=v?yy(h,v):new FormData(h),Wh(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Uf=0;Uf<_h.length;Uf++){var Lf=_h[Uf],CT=Lf.toLowerCase(),DT=Lf[0].toUpperCase()+Lf.slice(1);Mn(CT,"on"+DT)}Mn($m,"onAnimationEnd"),Mn(Zm,"onAnimationIteration"),Mn(Jm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(FE,"onTransitionRun"),Mn(QE,"onTransitionStart"),Mn(YE,"onTransitionCancel"),Mn(Wm,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function _y(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,B=T.currentTarget;if(T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch(K){Cu(K)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,B=T.currentTarget,T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch(K){Cu(K)}h.currentTarget=null,d=w}}}}function It(t,n){var a=n[Ws];a===void 0&&(a=n[Ws]=new Set);var l=t+"__bubble";a.has(l)||(vy(n,t,2,!1),a.add(l))}function Pf(t,n,a){var l=0;n&&(l|=4),vy(a,t,l,n)}var ju="_reactListening"+Math.random().toString(36).slice(2);function zf(t){if(!t[ju]){t[ju]=!0,tl.forEach(function(a){a!=="selectionchange"&&(IT.has(a)||Pf(a,!1,t),Pf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ju]||(n[ju]=!0,Pf("selectionchange",!1,n))}}function vy(t,n,a,l){switch(Hy(n)){case 2:var h=n1;break;case 8:h=i1;break;default:h=Jf}a=h.bind(null,n,a,t),h=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function kf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=pi(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Ho(function(){var B=d,K=vn(a),Z=[];t:{var j=tp.get(t);if(j!==void 0){var q=ja,vt=t;switch(t){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":q=Ya;break;case"focusin":vt="focus",q=Ga;break;case"focusout":vt="blur",q=Ga;break;case"beforeblur":case"afterblur":q=Ga;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Zo;break;case $m:case Zm:case Jm:q=Fa;break;case Wm:q=Wo;break;case"scroll":case"scrollend":q=Go;break;case"wheel":q=Ka;break;case"copy":case"cut":case"paste":q=Qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=fl;break;case"toggle":case"beforetoggle":q=eu}var gt=(n&4)!==0,$t=!gt&&(t==="scroll"||t==="scrollend"),M=gt?j!==null?j+"Capture":null:j;gt=[];for(var V=B,z;V!==null;){var X=V;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||M===null||(X=$r(V,M),X!=null&&gt.push(Hl(V,X,z))),$t)break;V=V.return}0<gt.length&&(j=new q(j,vt,null,a,K),Z.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&a!==vi&&(vt=a.relatedTarget||a.fromElement)&&(pi(vt)||vt[yn]))break t;if((q||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,q?(vt=a.relatedTarget||a.toElement,q=B,vt=vt?pi(vt):null,vt!==null&&($t=c(vt),gt=vt.tag,vt!==$t||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(q=null,vt=B),q!==vt)){if(gt=Tn,X="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(gt=fl,X="onPointerLeave",M="onPointerEnter",V="pointer"),$t=q==null?j:Hn(q),z=vt==null?j:Hn(vt),j=new gt(X,V+"leave",q,a,K),j.target=$t,j.relatedTarget=z,X=null,pi(K)===B&&(gt=new gt(M,V+"enter",vt,a,K),gt.target=z,gt.relatedTarget=$t,X=gt),$t=X,q&&vt)e:{for(gt=q,M=vt,V=0,z=gt;z;z=vs(z))V++;for(z=0,X=M;X;X=vs(X))z++;for(;0<V-z;)gt=vs(gt),V--;for(;0<z-V;)M=vs(M),z--;for(;V--;){if(gt===M||M!==null&&gt===M.alternate)break e;gt=vs(gt),M=vs(M)}gt=null}else gt=null;q!==null&&Ey(Z,j,q,gt,!1),vt!==null&&$t!==null&&Ey(Z,$t,vt,gt,!0)}}t:{if(j=B?Hn(B):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var ct=km;else if(be(j))if(Bm)ct=qE;else{ct=BE;var Ct=kE}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&al(B.elementType)&&(ct=km):ct=jE;if(ct&&(ct=ct(t,B))){bi(Z,ct,a,K);break t}Ct&&Ct(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Wi(j,"number",j.value)}switch(Ct=B?Hn(B):window,t){case"focusin":(be(Ct)||Ct.contentEditable==="true")&&(Xa=Ct,ph=B,pl=null);break;case"focusout":pl=ph=Xa=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,Km(Z,a,K);break;case"selectionchange":if(GE)break;case"keydown":case"keyup":Km(Z,a,K)}var ht;if($n)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Ot?G(t,a)&&(yt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(_&&a.locale!=="ko"&&(Ot||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ot&&(ht=ll()):(Qn=K,tr="value"in Qn?Qn.value:Qn.textContent,Ot=!0)),Ct=qu(B,yt),0<Ct.length&&(yt=new cl(yt,t,null,a,K),Z.push({event:yt,listeners:Ct}),ht?yt.data=ht:(ht=at(a),ht!==null&&(yt.data=ht)))),(ht=p?Se(t,a):Mt(t,a))&&(yt=qu(B,"onBeforeInput"),0<yt.length&&(Ct=new cl("onBeforeInput","beforeinput",null,a,K),Z.push({event:Ct,listeners:yt}),Ct.data=ht)),wT(Z,t,B,a,K)}_y(Z,n)})}function Hl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function qu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=$r(t,a),h!=null&&l.unshift(Hl(t,h,d)),h=$r(t,n),h!=null&&l.push(Hl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ey(t,n,a,l,h){for(var d=n._reactName,v=[];a!==null&&a!==l;){var T=a,w=T.alternate,B=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||B===null||(w=B,h?(B=$r(a,d),B!=null&&v.unshift(Hl(a,B,w))):h||(B=$r(a,d),B!=null&&v.push(Hl(a,B,w)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var VT=/\r\n?/g,xT=/\u0000|\uFFFD/g;function Ty(t){return(typeof t=="string"?t:""+t).replace(VT,`
`).replace(xT,"")}function Ay(t,n){return n=Ty(n),Ty(t)===n}function Hu(){}function Xt(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,a,l);break;case"style":rl(t,l,d);break;case"data":if(n!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",h.name,h,null),Xt(t,n,"formEncType",h.formEncType,h,null),Xt(t,n,"formMethod",h.formMethod,h,null),Xt(t,n,"formTarget",h.formTarget,h,null)):(Xt(t,n,"encType",h.encType,h,null),Xt(t,n,"method",h.method,h,null),Xt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Hu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Ji(t,"popover",l);break;case"xlinkActuate":Pe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=oh.get(a)||a,Ji(t,a,l))}}function Bf(t,n,a,l,h,d){switch(a){case"style":rl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ji(t,a,l)}}}function je(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,d,v,a,null)}}h&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":It("invalid",t);var T=d=v=h=null,w=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":w=K;break;case"defaultChecked":B=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:Xt(t,n,l,K,a,null)}}Yr(t,d,T,w,B,v,h,!1),ka(t);return;case"select":It("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(t,n,h,T,a,null)}n=d,a=v,t.multiple=!!l,n!=null?_i(t,!!l,n,!1):a!=null&&_i(t,!!l,a,!0);return;case"textarea":It("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(t,n,v,T,a,null)}Kr(t,l,h,d),ka(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,w,l,a,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<ql.length;l++)It(ql[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,B,l,a,null)}return;default:if(al(n)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Bf(t,n,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(t,n,T,l,a,null))}function NT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,w=null,B=null,K=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=Z;default:l.hasOwnProperty(q)||Xt(t,n,q,null,l,Z)}}for(var j in l){var q=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(q!=null||Z!=null))switch(j){case"type":d=q;break;case"name":h=q;break;case"checked":B=q;break;case"defaultChecked":K=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Z&&Xt(t,n,j,q,l,Z)}}on(t,v,T,w,B,K,d,h);return;case"select":q=v=T=j=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":q=w;default:l.hasOwnProperty(d)||Xt(t,n,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==w&&Xt(t,n,h,d,l,w)}n=T,a=v,l=q,j!=null?_i(t,!!a,j,!1):!!l!=!!a&&(n!=null?_i(t,!!a,n,!0):_i(t,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(t,n,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xt(t,n,v,h,l,d)}Yt(t,j,q);return;case"option":for(var vt in a)if(j=a[vt],a.hasOwnProperty(vt)&&j!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:Xt(t,n,vt,null,l,j)}for(w in l)if(j=l[w],q=a[w],l.hasOwnProperty(w)&&j!==q&&(j!=null||q!=null))switch(w){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(t,n,w,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)j=a[gt],a.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&Xt(t,n,gt,null,l,j);for(B in l)if(j=l[B],q=a[B],l.hasOwnProperty(B)&&j!==q&&(j!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Xt(t,n,B,j,l,q)}return;default:if(al(n)){for(var $t in a)j=a[$t],a.hasOwnProperty($t)&&j!==void 0&&!l.hasOwnProperty($t)&&Bf(t,n,$t,void 0,l,j);for(K in l)j=l[K],q=a[K],!l.hasOwnProperty(K)||j===q||j===void 0&&q===void 0||Bf(t,n,K,j,l,q);return}}for(var M in a)j=a[M],a.hasOwnProperty(M)&&j!=null&&!l.hasOwnProperty(M)&&Xt(t,n,M,null,l,j);for(Z in l)j=l[Z],q=a[Z],!l.hasOwnProperty(Z)||j===q||j==null&&q==null||Xt(t,n,Z,j,l,q)}var jf=null,qf=null;function Gu(t){return t.nodeType===9?t:t.ownerDocument}function Sy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function by(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gf=null;function OT(){var t=window.event;return t&&t.type==="popstate"?t===Gf?!1:(Gf=t,!0):(Gf=null,!1)}var Ry=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(t){return wy.resolve(null).then(t).catch(LT)}:Ry;function LT(t){setTimeout(function(){throw t})}function gr(t){return t==="head"}function Cy(t,n){var a=n,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Gl(v.documentElement),a&2&&Gl(v.body),a&4)for(a=v.head,Gl(a),v=a.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[Hr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Jl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Jl(n)}function Ff(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ff(a),Zi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function PT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Hr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function zT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function Qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Yf=null;function Dy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Iy(t,n,a){switch(n=Gu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Gl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Zi(t)}var Dn=new Map,Vy=new Set;function Fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=st.d;st.d={f:BT,r:jT,D:qT,C:HT,L:GT,m:FT,X:YT,S:QT,M:KT};function BT(){var t=Pi.f(),n=Lu();return t||n}function jT(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?$p(n):Pi.r(t)}var Es=typeof document>"u"?null:document;function xy(t,n,a){var l=Es;if(l&&typeof n=="string"&&n){var h=ge(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Vy.has(h)||(Vy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),je(n,"link",t),he(n),l.head.appendChild(n)))}}function qT(t){Pi.D(t),xy("dns-prefetch",t,null)}function HT(t,n){Pi.C(t,n),xy("preconnect",t,n)}function GT(t,n,a){Pi.L(t,n,a);var l=Es;if(l&&t&&n){var h='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ge(a.imageSizes)+'"]')):h+='[href="'+ge(t)+'"]';var d=h;switch(n){case"style":d=Ts(t);break;case"script":d=As(t)}Dn.has(d)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Fl(d))||n==="script"&&l.querySelector(Ql(d))||(n=l.createElement("link"),je(n,"link",t),he(n),l.head.appendChild(n)))}}function FT(t,n){Pi.m(t,n);var a=Es;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=As(t)}if(!Dn.has(d)&&(t=E({rel:"modulepreload",href:t},n),Dn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(d)))return}l=a.createElement("link"),je(l,"link",t),he(l),a.head.appendChild(l)}}}function QT(t,n,a){Pi.S(t,n,a);var l=Es;if(l&&t){var h=Je(l).hoistableStyles,d=Ts(t);n=n||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Fl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(d))&&Kf(t,a);var w=v=l.createElement("link");he(w),je(w,"link",t),w._p=new Promise(function(B,K){w.onload=B,w.onerror=K}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function YT(t,n){Pi.X(t,n);var a=Es;if(a&&t){var l=Je(a).hoistableScripts,h=As(t),d=l.get(h);d||(d=a.querySelector(Ql(h)),d||(t=E({src:t,async:!0},n),(n=Dn.get(h))&&Xf(t,n),d=a.createElement("script"),he(d),je(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function KT(t,n){Pi.M(t,n);var a=Es;if(a&&t){var l=Je(a).hoistableScripts,h=As(t),d=l.get(h);d||(d=a.querySelector(Ql(h)),d||(t=E({src:t,async:!0,type:"module"},n),(n=Dn.get(h))&&Xf(t,n),d=a.createElement("script"),he(d),je(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ny(t,n,a,l){var h=(h=Et.current)?Fu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ts(a.href),a=Je(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ts(a.href);var d=Je(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Fl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),d||XT(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=As(a),a=Je(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ts(t){return'href="'+ge(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function Oy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function XT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",a),he(n),t.head.appendChild(n))}function As(t){return'[src="'+ge(t)+'"]'}function Ql(t){return"script[async]"+t}function My(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(a.href)+'"]');if(l)return n.instance=l,he(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),he(l),je(l,"style",h),Qu(l,a.precedence,t),n.instance=l;case"stylesheet":h=Ts(a.href);var d=t.querySelector(Fl(h));if(d)return n.state.loading|=4,n.instance=d,he(d),d;l=Oy(a),(h=Dn.get(h))&&Kf(l,h),d=(t.ownerDocument||t).createElement("link"),he(d);var v=d;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),je(d,"link",l),n.state.loading|=4,Qu(d,a.precedence,t),n.instance=d;case"script":return d=As(a.src),(h=t.querySelector(Ql(d)))?(n.instance=h,he(h),h):(l=a,(h=Dn.get(d))&&(l=E({},a),Xf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),he(h),je(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Qu(l,a.precedence,t));return n.instance}function Qu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Yu=null;function Uy(t,n,a){if(Yu===null){var l=new Map,h=Yu=new Map;h.set(a,l)}else h=Yu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Hr]||d[Ae]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Ly(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function $T(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Py(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Yl=null;function ZT(){}function JT(t,n,a){if(Yl===null)throw Error(s(475));var l=Yl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ts(a.href),d=t.querySelector(Fl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ku.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,he(d);return}d=t.ownerDocument||t,a=Oy(a),(h=Dn.get(h))&&Kf(a,h),d=d.createElement("link"),he(d);var v=d;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),je(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ku.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function WT(){if(Yl===null)throw Error(s(475));var t=Yl;return t.stylesheets&&t.count===0&&$f(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&$f(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function $f(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,n.forEach(t1,t),Xu=null,Ku.call(t))}function t1(t,n){if(!(n.state.loading&4)){var a=Xu.get(t);if(a)var l=a.get(null);else{a=new Map,Xu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Kl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function e1(t,n,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function zy(t,n,a,l,h,d,v,T,w,B,K,Z){return t=new e1(t,n,a,v,T,w,B,Z),n=1,d===!0&&(n|=24),d=cn(3,null,null,n),t.current=d,d.stateNode=t,n=Vh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Mh(d),t}function ky(t){return t?(t=Wa,t):Wa}function By(t,n,a,l,h,d){h=ky(h),l.context===null?l.context=h:l.pendingContext=h,l=ir(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=rr(t,l,n),a!==null&&(pn(a,t,n),bl(a,t,n))}function jy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Zf(t,n){jy(t,n),(t=t.alternate)&&jy(t,n)}function qy(t){if(t.tag===13){var n=Ja(t,67108864);n!==null&&pn(n,t,67108864),Zf(t,67108864)}}var $u=!0;function n1(t,n,a,l){var h=Y.T;Y.T=null;var d=st.p;try{st.p=2,Jf(t,n,a,l)}finally{st.p=d,Y.T=h}}function i1(t,n,a,l){var h=Y.T;Y.T=null;var d=st.p;try{st.p=8,Jf(t,n,a,l)}finally{st.p=d,Y.T=h}}function Jf(t,n,a,l){if($u){var h=Wf(l);if(h===null)kf(t,n,l,Zu,a),Gy(t,l);else if(a1(h,t,n,a,l))l.stopPropagation();else if(Gy(t,l),n&4&&-1<r1.indexOf(t)){for(;h!==null;){var d=qn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-Fe(v);T.entanglements[1]|=w,v&=~w}ni(d),(Ft&6)===0&&(Mu=gn()+500,jl(0))}}break;case 13:T=Ja(d,2),T!==null&&pn(T,d,2),Lu(),Zf(d,2)}if(d=Wf(l),d===null&&kf(t,n,l,Zu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else kf(t,n,l,null,a)}}function Wf(t){return t=vn(t),td(t)}var Zu=null;function td(t){if(Zu=null,t=pi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Zu=t,null}function Hy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nh()){case Qs:return 2;case xa:return 8;case zr:case ih:return 32;case Na:return 268435456;default:return 32}default:return 32}}var ed=!1,yr=null,_r=null,vr=null,Xl=new Map,$l=new Map,Er=[],r1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gy(t,n){switch(t){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function Zl(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=qn(n),n!==null&&qy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function a1(t,n,a,l,h){switch(n){case"focusin":return yr=Zl(yr,t,n,a,l,h),!0;case"dragenter":return _r=Zl(_r,t,n,a,l,h),!0;case"mouseover":return vr=Zl(vr,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Xl.set(d,Zl(Xl.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,$l.set(d,Zl($l.get(d)||null,t,n,a,l,h)),!0}return!1}function Fy(t){var n=pi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,Lo(t.priority,function(){if(a.tag===13){var l=mn();l=Ki(l);var h=Ja(a,l);h!==null&&pn(h,a,l),Zf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Wf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);vi=l,a.target.dispatchEvent(l),vi=null}else return n=qn(a),n!==null&&qy(n),t.blockedOn=a,!1;n.shift()}return!0}function Qy(t,n,a){Ju(t)&&a.delete(n)}function s1(){ed=!1,yr!==null&&Ju(yr)&&(yr=null),_r!==null&&Ju(_r)&&(_r=null),vr!==null&&Ju(vr)&&(vr=null),Xl.forEach(Qy),$l.forEach(Qy)}function Wu(t,n){t.blockedOn===n&&(t.blockedOn=null,ed||(ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,s1)))}var tc=null;function Yy(t){tc!==t&&(tc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){tc===t&&(tc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(td(l||a)===null)continue;break}var d=qn(a);d!==null&&(t.splice(n,3),n-=3,Wh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Jl(t){function n(w){return Wu(w,t)}yr!==null&&Wu(yr,t),_r!==null&&Wu(_r,t),vr!==null&&Wu(vr,t),Xl.forEach(n),$l.forEach(n);for(var a=0;a<Er.length;a++){var l=Er[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Er.length&&(a=Er[0],a.blockedOn===null);)Fy(a),a.blockedOn===null&&Er.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pe]||null;if(typeof d=="function")v||Yy(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pe]||null)T=v.formAction;else if(td(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Yy(a)}}}function nd(t){this._internalRoot=t}ec.prototype.render=nd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=mn();By(a,l,t,n,null,null)},ec.prototype.unmount=nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;By(t.current,2,null,t,null,null),Lu(),n[yn]=null}};function ec(t){this._internalRoot=t}ec.prototype.unstable_scheduleHydration=function(t){if(t){var n=Xi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Er.length&&n!==0&&n<Er[a].priority;a++);Er.splice(a,0,t),a===0&&Fy(t)}};var Ky=e.version;if(Ky!=="19.1.1")throw Error(s(527,Ky,"19.1.1"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var l1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{oe=nc.inject(l1),Gt=nc}catch{}}return to.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=cg,d=hg,v=fg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=zy(t,1,!1,null,null,a,l,h,d,v,T,null),t[yn]=n.current,zf(t),new nd(n)},to.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=cg,v=hg,T=fg,w=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),n=zy(t,1,!0,n,a??null,l,h,d,v,T,w,B),n.context=ky(null),a=n.current,l=mn(),l=Ki(l),h=ir(l),h.callback=null,rr(a,h,l),a=l,n.current.lanes=a,mi(n,a),ni(n),t[yn]=n.current,zf(t),new ec(n)},to.version="19.1.1",to}var r_;function y1(){if(r_)return ad.exports;r_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ad.exports=g1(),ad.exports}var _1=y1();let v1={data:""},E1=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||v1,T1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,A1=/\/\*[^]*?\*\/|  +/g,a_=/\n+/g,Ar=(r,e)=>{let i="",s="",o="";for(let c in r){let f=r[c];c[0]=="@"?c[1]=="i"?i=c+" "+f+";":s+=c[1]=="f"?Ar(f,c):c+"{"+Ar(f,c[1]=="k"?"":e)+"}":typeof f=="object"?s+=Ar(f,e?e.replace(/([^,])+/g,m=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,m):m?m+" "+g:g)):c):f!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Ar.p?Ar.p(c,f):c+":"+f+";")}return i+(e&&o?e+"{"+o+"}":o)+s},zi={},Av=r=>{if(typeof r=="object"){let e="";for(let i in r)e+=i+Av(r[i]);return e}return r},S1=(r,e,i,s,o)=>{let c=Av(r),f=zi[c]||(zi[c]=(g=>{let y=0,E=11;for(;y<g.length;)E=101*E+g.charCodeAt(y++)>>>0;return"go"+E})(c));if(!zi[f]){let g=c!==r?r:(y=>{let E,S,R=[{}];for(;E=T1.exec(y.replace(A1,""));)E[4]?R.shift():E[3]?(S=E[3].replace(a_," ").trim(),R.unshift(R[0][S]=R[0][S]||{})):R[0][E[1]]=E[2].replace(a_," ").trim();return R[0]})(r);zi[f]=Ar(o?{["@keyframes "+f]:g}:g,i?"":"."+f)}let m=i&&zi.g?zi.g:null;return i&&(zi.g=zi[f]),((g,y,E,S)=>{S?y.data=y.data.replace(S,g):y.data.indexOf(g)===-1&&(y.data=E?g+y.data:y.data+g)})(zi[f],e,s,m),f},b1=(r,e,i)=>r.reduce((s,o,c)=>{let f=e[c];if(f&&f.call){let m=f(i),g=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=g?"."+g:m&&typeof m=="object"?m.props?"":Ar(m,""):m===!1?"":m}return s+o+(f??"")},"");function Lc(r){let e=this||{},i=r.call?r(e.p):r;return S1(i.unshift?i.raw?b1(i,[].slice.call(arguments,1),e.p):i.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):i,E1(e.target),e.g,e.o,e.k)}let Sv,Ed,Td;Lc.bind({g:1});let qi=Lc.bind({k:1});function R1(r,e,i,s){Ar.p=e,Sv=r,Ed=i,Td=s}function Mr(r,e){let i=this||{};return function(){let s=arguments;function o(c,f){let m=Object.assign({},c),g=m.className||o.className;i.p=Object.assign({theme:Ed&&Ed()},m),i.o=/ *go\d+/.test(g),m.className=Lc.apply(i,s)+(g?" "+g:"");let y=r;return r[0]&&(y=m.as||r,delete m.as),Td&&y[0]&&Td(m),Sv(y,m)}return o}}var w1=r=>typeof r=="function",vc=(r,e)=>w1(r)?r(e):r,C1=(()=>{let r=0;return()=>(++r).toString()})(),bv=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),D1=20,Yd="default",Rv=(r,e)=>{let{toastLimit:i}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,i)};case 1:return{...r,toasts:r.toasts.map(f=>f.id===e.toast.id?{...f,...e.toast}:f)};case 2:let{toast:s}=e;return Rv(r,{type:r.toasts.find(f=>f.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...r,toasts:r.toasts.map(f=>f.id===o||o===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(f=>f.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let c=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+c}))}}},cc=[],wv={toasts:[],pausedAt:void 0,settings:{toastLimit:D1}},ri={},Cv=(r,e=Yd)=>{ri[e]=Rv(ri[e]||wv,r),cc.forEach(([i,s])=>{i===e&&s(ri[e])})},Dv=r=>Object.keys(ri).forEach(e=>Cv(r,e)),I1=r=>Object.keys(ri).find(e=>ri[e].toasts.some(i=>i.id===r)),Pc=(r=Yd)=>e=>{Cv(e,r)},V1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},x1=(r={},e=Yd)=>{let[i,s]=k.useState(ri[e]||wv),o=k.useRef(ri[e]);k.useEffect(()=>(o.current!==ri[e]&&s(ri[e]),cc.push([e,s]),()=>{let f=cc.findIndex(([m])=>m===e);f>-1&&cc.splice(f,1)}),[e]);let c=i.toasts.map(f=>{var m,g,y;return{...r,...r[f.type],...f,removeDelay:f.removeDelay||((m=r[f.type])==null?void 0:m.removeDelay)||r?.removeDelay,duration:f.duration||((g=r[f.type])==null?void 0:g.duration)||r?.duration||V1[f.type],style:{...r.style,...(y=r[f.type])==null?void 0:y.style,...f.style}}});return{...i,toasts:c}},N1=(r,e="blank",i)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...i,id:i?.id||C1()}),Ao=r=>(e,i)=>{let s=N1(e,r,i);return Pc(s.toasterId||I1(s.id))({type:2,toast:s}),s.id},zt=(r,e)=>Ao("blank")(r,e);zt.error=Ao("error");zt.success=Ao("success");zt.loading=Ao("loading");zt.custom=Ao("custom");zt.dismiss=(r,e)=>{let i={type:3,toastId:r};e?Pc(e)(i):Dv(i)};zt.dismissAll=r=>zt.dismiss(void 0,r);zt.remove=(r,e)=>{let i={type:4,toastId:r};e?Pc(e)(i):Dv(i)};zt.removeAll=r=>zt.remove(void 0,r);zt.promise=(r,e,i)=>{let s=zt.loading(e.loading,{...i,...i?.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let c=e.success?vc(e.success,o):void 0;return c?zt.success(c,{id:s,...i,...i?.success}):zt.dismiss(s),o}).catch(o=>{let c=e.error?vc(e.error,o):void 0;c?zt.error(c,{id:s,...i,...i?.error}):zt.dismiss(s)}),r};var O1=1e3,M1=(r,e="default")=>{let{toasts:i,pausedAt:s}=x1(r,e),o=k.useRef(new Map).current,c=k.useCallback((S,R=O1)=>{if(o.has(S))return;let L=setTimeout(()=>{o.delete(S),f({type:4,toastId:S})},R);o.set(S,L)},[]);k.useEffect(()=>{if(s)return;let S=Date.now(),R=i.map(L=>{if(L.duration===1/0)return;let F=(L.duration||0)+L.pauseDuration-(S-L.createdAt);if(F<0){L.visible&&zt.dismiss(L.id);return}return setTimeout(()=>zt.dismiss(L.id,e),F)});return()=>{R.forEach(L=>L&&clearTimeout(L))}},[i,s,e]);let f=k.useCallback(Pc(e),[e]),m=k.useCallback(()=>{f({type:5,time:Date.now()})},[f]),g=k.useCallback((S,R)=>{f({type:1,toast:{id:S,height:R}})},[f]),y=k.useCallback(()=>{s&&f({type:6,time:Date.now()})},[s,f]),E=k.useCallback((S,R)=>{let{reverseOrder:L=!1,gutter:F=8,defaultPosition:W}=R||{},H=i.filter(nt=>(nt.position||W)===(S.position||W)&&nt.height),rt=H.findIndex(nt=>nt.id===S.id),et=H.filter((nt,Tt)=>Tt<rt&&nt.visible).length;return H.filter(nt=>nt.visible).slice(...L?[et+1]:[0,et]).reduce((nt,Tt)=>nt+(Tt.height||0)+F,0)},[i]);return k.useEffect(()=>{i.forEach(S=>{if(S.dismissed)c(S.id,S.removeDelay);else{let R=o.get(S.id);R&&(clearTimeout(R),o.delete(S.id))}})},[i,c]),{toasts:i,handlers:{updateHeight:g,startPause:m,endPause:y,calculateOffset:E}}},U1=qi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,L1=qi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,P1=qi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,z1=Mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${U1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${L1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${P1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,k1=qi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,B1=Mr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${k1} 1s linear infinite;
`,j1=qi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,q1=qi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,H1=Mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${j1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${q1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,G1=Mr("div")`
  position: absolute;
`,F1=Mr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Q1=qi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Y1=Mr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Q1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,K1=({toast:r})=>{let{icon:e,type:i,iconTheme:s}=r;return e!==void 0?typeof e=="string"?k.createElement(Y1,null,e):e:i==="blank"?null:k.createElement(F1,null,k.createElement(B1,{...s}),i!=="loading"&&k.createElement(G1,null,i==="error"?k.createElement(z1,{...s}):k.createElement(H1,{...s})))},X1=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$1=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,Z1="0%{opacity:0;} 100%{opacity:1;}",J1="0%{opacity:1;} 100%{opacity:0;}",W1=Mr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tA=Mr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,eA=(r,e)=>{let i=r.includes("top")?1:-1,[s,o]=bv()?[Z1,J1]:[X1(i),$1(i)];return{animation:e?`${qi(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qi(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nA=k.memo(({toast:r,position:e,style:i,children:s})=>{let o=r.height?eA(r.position||e||"top-center",r.visible):{opacity:0},c=k.createElement(K1,{toast:r}),f=k.createElement(tA,{...r.ariaProps},vc(r.message,r));return k.createElement(W1,{className:r.className,style:{...o,...i,...r.style}},typeof s=="function"?s({icon:c,message:f}):k.createElement(k.Fragment,null,c,f))});R1(k.createElement);var iA=({id:r,className:e,style:i,onHeightUpdate:s,children:o})=>{let c=k.useCallback(f=>{if(f){let m=()=>{let g=f.getBoundingClientRect().height;s(r,g)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return k.createElement("div",{ref:c,className:e,style:i},o)},rA=(r,e)=>{let i=r.includes("top"),s=i?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:bv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(i?1:-1)}px)`,...s,...o}},aA=Lc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ic=16,sA=({reverseOrder:r,position:e="top-center",toastOptions:i,gutter:s,children:o,toasterId:c,containerStyle:f,containerClassName:m})=>{let{toasts:g,handlers:y}=M1(i,c);return k.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:ic,left:ic,right:ic,bottom:ic,pointerEvents:"none",...f},className:m,onMouseEnter:y.startPause,onMouseLeave:y.endPause},g.map(E=>{let S=E.position||e,R=y.calculateOffset(E,{reverseOrder:r,gutter:s,defaultPosition:e}),L=rA(S,R);return k.createElement(iA,{id:E.id,key:E.id,onHeightUpdate:y.updateHeight,className:E.visible?aA:"",style:L},E.type==="custom"?vc(E.message,E):o?o(E):k.createElement(nA,{toast:E,position:S}))}))},Ea=zt;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var s_="popstate";function lA(r={}){function e(o,c){let{pathname:f="/",search:m="",hash:g=""}=Ra(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Ad("",{pathname:f,search:m,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof c=="string"?c:ho(c))}function s(o,c){zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return uA(e,i,s,r)}function ae(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oA(){return Math.random().toString(36).substring(2,10)}function l_(r,e){return{usr:r.state,key:r.key,idx:e}}function Ad(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ra(e):e,state:i,key:e&&e.key||s||oA()}}function ho({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ra(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function uA(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let H=E(),rt=H==null?null:H-y;y=H,g&&g({action:m,location:W.location,delta:rt})}function R(H,rt){m="PUSH";let et=Ad(W.location,H,rt);i&&i(et,H),y=E()+1;let nt=l_(et,y),Tt=W.createHref(et);try{f.pushState(nt,"",Tt)}catch(ft){if(ft instanceof DOMException&&ft.name==="DataCloneError")throw ft;o.location.assign(Tt)}c&&g&&g({action:m,location:W.location,delta:1})}function L(H,rt){m="REPLACE";let et=Ad(W.location,H,rt);i&&i(et,H),y=E();let nt=l_(et,y),Tt=W.createHref(et);f.replaceState(nt,"",Tt),c&&g&&g({action:m,location:W.location,delta:0})}function F(H){return cA(H)}let W={get action(){return m},get location(){return r(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(s_,S),g=H,()=>{o.removeEventListener(s_,S),g=null}},createHref(H){return e(o,H)},createURL:F,encodeLocation(H){let rt=F(H);return{pathname:rt.pathname,search:rt.search,hash:rt.hash}},push:R,replace:L,go(H){return f.go(H)}};return W}function cA(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ae(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ho(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Iv(r,e,i="/"){return hA(r,e,i,!1)}function hA(r,e,i,s){let o=typeof e=="string"?Ra(e):e,c=Hi(o.pathname||"/",i);if(c==null)return null;let f=Vv(r);fA(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=SA(c);m=TA(f[g],y,s)}return m}function Vv(r,e=[],i=[],s="",o=!1){let c=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ae(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=ki([s,E.relativePath]),R=i.concat(E);f.children&&f.children.length>0&&(ae(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),Vv(f.children,e,R,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:vA(S,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let g of xv(f.path))c(f,m,!0,g)}),e}function xv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=xv(s.join("/")),m=[];return m.push(...f.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function fA(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:EA(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var dA=/^:[\w-]+$/,mA=3,pA=2,gA=1,yA=10,_A=-2,o_=r=>r==="*";function vA(r,e){let i=r.split("/"),s=i.length;return i.some(o_)&&(s+=_A),e&&(s+=pA),i.filter(o=>!o_(o)).reduce((o,c)=>o+(dA.test(c)?mA:c===""?gA:yA),s)}function EA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function TA(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=Ec({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=Ec({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:ki([c,S.pathname]),pathnameBase:CA(ki([c,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(c=ki([c,S.pathnameBase]))}return f}function Ec(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=AA(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},R)=>{if(E==="*"){let F=m[R]||"";f=c.slice(0,c.length-F.length).replace(/(.)\/+$/,"$1")}const L=m[R];return S&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function AA(r,e=!1,i=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function SA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Hi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function bA(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ra(r):r;return{pathname:i?i.startsWith("/")?i:RA(i,e):e,search:DA(s),hash:IA(o)}}function RA(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ud(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wA(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Nv(r){let e=wA(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Ov(r,e,i,s=!1){let o;typeof r=="string"?o=Ra(r):(o={...r},ae(!o.pathname||!o.pathname.includes("?"),ud("?","pathname","search",o)),ae(!o.pathname||!o.pathname.includes("#"),ud("#","pathname","hash",o)),ae(!o.search||!o.search.includes("#"),ud("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=i;else{let S=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?e[S]:"/"}let g=bA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(c||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var ki=r=>r.join("/").replace(/\/\/+/g,"/"),CA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),DA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,IA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function VA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Mv=["POST","PUT","PATCH","DELETE"];new Set(Mv);var xA=["GET",...Mv];new Set(xA);var zs=k.createContext(null);zs.displayName="DataRouter";var zc=k.createContext(null);zc.displayName="DataRouterState";k.createContext(!1);var Uv=k.createContext({isTransitioning:!1});Uv.displayName="ViewTransition";var NA=k.createContext(new Map);NA.displayName="Fetchers";var OA=k.createContext(null);OA.displayName="Await";var ci=k.createContext(null);ci.displayName="Navigation";var So=k.createContext(null);So.displayName="Location";var hi=k.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Kd=k.createContext(null);Kd.displayName="RouteError";function MA(r,{relative:e}={}){ae(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=k.useContext(ci),{hash:o,pathname:c,search:f}=Ro(r,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:ki([i,c])),s.createHref({pathname:m,search:f,hash:o})}function bo(){return k.useContext(So)!=null}function wa(){return ae(bo(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(So).location}var Lv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pv(r){k.useContext(ci).static||k.useLayoutEffect(r)}function zv(){let{isDataRoute:r}=k.useContext(hi);return r?YA():UA()}function UA(){ae(bo(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(zs),{basename:e,navigator:i}=k.useContext(ci),{matches:s}=k.useContext(hi),{pathname:o}=wa(),c=JSON.stringify(Nv(s)),f=k.useRef(!1);return Pv(()=>{f.current=!0}),k.useCallback((g,y={})=>{if(zn(f.current,Lv),!f.current)return;if(typeof g=="number"){i.go(g);return}let E=Ov(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ki([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,r])}k.createContext(null);function kv(){let{matches:r}=k.useContext(hi),e=r[r.length-1];return e?e.params:{}}function Ro(r,{relative:e}={}){let{matches:i}=k.useContext(hi),{pathname:s}=wa(),o=JSON.stringify(Nv(i));return k.useMemo(()=>Ov(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function LA(r,e){return Bv(r,e)}function Bv(r,e,i,s,o){ae(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=k.useContext(ci),{matches:f}=k.useContext(hi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let et=S&&S.path||"";jv(y,!S||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let R=wa(),L;if(e){let et=typeof e=="string"?Ra(e):e;ae(E==="/"||et.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),L=et}else L=R;let F=L.pathname||"/",W=F;if(E!=="/"){let et=E.replace(/^\//,"").split("/");W="/"+F.replace(/^\//,"").split("/").slice(et.length).join("/")}let H=Iv(r,{pathname:W});zn(S||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),zn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let rt=jA(H&&H.map(et=>Object.assign({},et,{params:Object.assign({},g,et.params),pathname:ki([E,c.encodeLocation?c.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:ki([E,c.encodeLocation?c.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),f,i,s,o);return e&&rt?k.createElement(So.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},rt):rt}function PA(){let r=QA(),e=VA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:c},"ErrorBoundary")," or"," ",k.createElement("code",{style:c},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),i?k.createElement("pre",{style:o},i):null,f)}var zA=k.createElement(PA,null),kA=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?k.createElement(hi.Provider,{value:this.props.routeContext},k.createElement(Kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BA({routeContext:r,match:e,children:i}){let s=k.useContext(zs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(hi.Provider,{value:r},i)}function jA(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,f=i?.errors;if(f!=null){let y=c.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);ae(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,g=-1;if(i)for(let y=0;y<c.length;y++){let E=c[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:S,errors:R}=i,L=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||L){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,E,S)=>{let R,L=!1,F=null,W=null;i&&(R=f&&E.route.id?f[E.route.id]:void 0,F=E.route.errorElement||zA,m&&(g<0&&S===0?(jv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,W=null):g===S&&(L=!0,W=E.route.hydrateFallbackElement||null)));let H=e.concat(c.slice(0,S+1)),rt=()=>{let et;return R?et=F:L?et=W:E.route.Component?et=k.createElement(E.route.Component,null):E.route.element?et=E.route.element:et=y,k.createElement(BA,{match:E,routeContext:{outlet:y,matches:H,isDataRoute:i!=null},children:et})};return i&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?k.createElement(kA,{location:i.location,revalidation:i.revalidation,component:F,error:R,children:rt(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):rt()},null)}function Xd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qA(r){let e=k.useContext(zs);return ae(e,Xd(r)),e}function HA(r){let e=k.useContext(zc);return ae(e,Xd(r)),e}function GA(r){let e=k.useContext(hi);return ae(e,Xd(r)),e}function $d(r){let e=GA(r),i=e.matches[e.matches.length-1];return ae(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function FA(){return $d("useRouteId")}function QA(){let r=k.useContext(Kd),e=HA("useRouteError"),i=$d("useRouteError");return r!==void 0?r:e.errors?.[i]}function YA(){let{router:r}=qA("useNavigate"),e=$d("useNavigate"),i=k.useRef(!1);return Pv(()=>{i.current=!0}),k.useCallback(async(o,c={})=>{zn(i.current,Lv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var u_={};function jv(r,e,i){!e&&!u_[r]&&(u_[r]=!0,zn(!1,i))}k.memo(KA);function KA({routes:r,future:e,state:i,unstable_onError:s}){return Bv(r,void 0,i,s,e)}function _a(r){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XA({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ae(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=Ra(i));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:R="default"}=i,L=k.useMemo(()=>{let F=Hi(g,f);return F==null?null:{location:{pathname:F,search:y,hash:E,state:S,key:R},navigationType:s}},[f,g,y,E,S,R,s]);return zn(L!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:k.createElement(ci.Provider,{value:m},k.createElement(So.Provider,{children:e,value:L}))}function $A({children:r,location:e}){return LA(Sd(r),e)}function Sd(r,e=[]){let i=[];return k.Children.forEach(r,(s,o)=>{if(!k.isValidElement(s))return;let c=[...e,o];if(s.type===k.Fragment){i.push.apply(i,Sd(s.props.children,c));return}ae(s.type===_a,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sd(s.props.children,c)),i.push(f)}),i}var hc="get",fc="application/x-www-form-urlencoded";function kc(r){return r!=null&&typeof r.tagName=="string"}function ZA(r){return kc(r)&&r.tagName.toLowerCase()==="button"}function JA(r){return kc(r)&&r.tagName.toLowerCase()==="form"}function WA(r){return kc(r)&&r.tagName.toLowerCase()==="input"}function tS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function eS(r,e){return r.button===0&&(!e||e==="_self")&&!tS(r)}var rc=null;function nS(){if(rc===null)try{new FormData(document.createElement("form"),0),rc=!1}catch{rc=!0}return rc}var iS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cd(r){return r!=null&&!iS.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fc}"`),null):r}function rS(r,e){let i,s,o,c,f;if(JA(r)){let m=r.getAttribute("action");s=m?Hi(m,e):null,i=r.getAttribute("method")||hc,o=cd(r.getAttribute("enctype"))||fc,c=new FormData(r)}else if(ZA(r)||WA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Hi(g,e):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||hc,o=cd(r.getAttribute("formenctype"))||cd(m.getAttribute("enctype"))||fc,c=new FormData(m,r),!nS()){let{name:y,type:E,value:S}=r;if(E==="image"){let R=y?`${y}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else y&&c.append(y,S)}}else{if(kc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=hc,s=null,o=fc,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function aS(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Hi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function sS(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function oS(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await sS(c,i);return f.links?f.links():[]}return[]}));return fS(s.flat(1).filter(lS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function c_(r,e,i,s,o,c){let f=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,m=(g,y)=>i[y].pathname!==g.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function uS(r,e,{includeHydrateFallback:i}={}){return cS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function cS(r){return[...new Set(r)]}function hS(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function fS(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(hS(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function qv(){let r=k.useContext(zs);return Zd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function dS(){let r=k.useContext(zc);return Zd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jd=k.createContext(void 0);Jd.displayName="FrameworkContext";function Hv(){let r=k.useContext(Jd);return Zd(r,"You must render this element inside a <HydratedRouter> element"),r}function mS(r,e){let i=k.useContext(Jd),[s,o]=k.useState(!1),[c,f]=k.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,R=k.useRef(null);k.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let W=rt=>{rt.forEach(et=>{f(et.isIntersecting)})},H=new IntersectionObserver(W,{threshold:.5});return R.current&&H.observe(R.current),()=>{H.disconnect()}}},[r]),k.useEffect(()=>{if(s){let W=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(W)}}},[s]);let L=()=>{o(!0)},F=()=>{o(!1),f(!1)};return i?r!=="intent"?[c,R,{}]:[c,R,{onFocus:eo(m,L),onBlur:eo(g,F),onMouseEnter:eo(y,L),onMouseLeave:eo(E,F),onTouchStart:eo(S,L)}]:[!1,R,{}]}function eo(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function pS({page:r,...e}){let{router:i}=qv(),s=k.useMemo(()=>Iv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?k.createElement(yS,{page:r,matches:s,...e}):null}function gS(r){let{manifest:e,routeModules:i}=Hv(),[s,o]=k.useState([]);return k.useEffect(()=>{let c=!1;return oS(r,e,i).then(f=>{c||o(f)}),()=>{c=!0}},[r,e,i]),s}function yS({page:r,matches:e,...i}){let s=wa(),{manifest:o,routeModules:c}=Hv(),{basename:f}=qv(),{loaderData:m,matches:g}=dS(),y=k.useMemo(()=>c_(r,e,g,o,s,"data"),[r,e,g,o,s]),E=k.useMemo(()=>c_(r,e,g,o,s,"assets"),[r,e,g,o,s]),S=k.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,W=!1;if(e.forEach(rt=>{let et=o.routes[rt.route.id];!et||!et.hasLoader||(!y.some(nt=>nt.route.id===rt.route.id)&&rt.route.id in m&&c[rt.route.id]?.shouldRevalidate||et.hasClientLoader?W=!0:F.add(rt.route.id))}),F.size===0)return[];let H=aS(r,f,"data");return W&&F.size>0&&H.searchParams.set("_routes",e.filter(rt=>F.has(rt.route.id)).map(rt=>rt.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,y,e,r,c]),R=k.useMemo(()=>uS(E,o),[E,o]),L=gS(E);return k.createElement(k.Fragment,null,S.map(F=>k.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...i})),R.map(F=>k.createElement("link",{key:F,rel:"modulepreload",href:F,...i})),L.map(({key:F,link:W})=>k.createElement("link",{key:F,nonce:i.nonce,...W})))}function _S(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Gv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gv&&(window.__reactRouterVersion="7.8.2")}catch{}function vS({basename:r,children:e,window:i}){let s=k.useRef();s.current==null&&(s.current=lA({window:i,v5Compat:!0}));let o=s.current,[c,f]=k.useState({action:o.action,location:o.location}),m=k.useCallback(g=>{k.startTransition(()=>f(g))},[f]);return k.useLayoutEffect(()=>o.listen(m),[o,m]),k.createElement(XA,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var Fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=k.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,...R},L){let{basename:F}=k.useContext(ci),W=typeof y=="string"&&Fv.test(y),H,rt=!1;if(typeof y=="string"&&W&&(H=y,Gv))try{let C=new URL(window.location.href),x=y.startsWith("//")?new URL(C.protocol+y):new URL(y),O=Hi(x.pathname,F);x.origin===C.origin&&O!=null?y=O+x.search+x.hash:rt=!0}catch{zn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=MA(y,{relative:o}),[nt,Tt,ft]=mS(s,R),Nt=SS(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function N(C){e&&e(C),C.defaultPrevented||Nt(C)}let b=k.createElement("a",{...R,...ft,href:H||et,onClick:rt||c?e:N,ref:_S(L,Tt),target:g,"data-discover":!W&&i==="render"?"true":void 0});return nt&&!W?k.createElement(k.Fragment,null,b,k.createElement(pS,{page:et})):b});Xe.displayName="Link";var ES=k.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:m,children:g,...y},E){let S=Ro(f,{relative:y.relative}),R=wa(),L=k.useContext(zc),{navigator:F,basename:W}=k.useContext(ci),H=L!=null&&DS(S)&&m===!0,rt=F.encodeLocation?F.encodeLocation(S).pathname:S.pathname,et=R.pathname,nt=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;i||(et=et.toLowerCase(),nt=nt?nt.toLowerCase():null,rt=rt.toLowerCase()),nt&&W&&(nt=Hi(nt,W)||nt);const Tt=rt!=="/"&&rt.endsWith("/")?rt.length-1:rt.length;let ft=et===rt||!o&&et.startsWith(rt)&&et.charAt(Tt)==="/",Nt=nt!=null&&(nt===rt||!o&&nt.startsWith(rt)&&nt.charAt(rt.length)==="/"),N={isActive:ft,isPending:Nt,isTransitioning:H},b=ft?e:void 0,C;typeof s=="function"?C=s(N):C=[s,ft?"active":null,Nt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let x=typeof c=="function"?c(N):c;return k.createElement(Xe,{...y,"aria-current":b,className:C,ref:E,style:x,to:f,viewTransition:m},typeof g=="function"?g(N):g)});ES.displayName="NavLink";var TS=k.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:f=hc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...R},L)=>{let F=wS(),W=CS(m,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",rt=typeof m=="string"&&Fv.test(m),et=nt=>{if(g&&g(nt),nt.defaultPrevented)return;nt.preventDefault();let Tt=nt.nativeEvent.submitter,ft=Tt?.getAttribute("formmethod")||f;F(Tt||nt.currentTarget,{fetcherKey:e,method:ft,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:S})};return k.createElement("form",{ref:L,method:H,action:W,onSubmit:s?g:et,...R,"data-discover":!rt&&r==="render"?"true":void 0})});TS.displayName="Form";function AS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qv(r){let e=k.useContext(zs);return ae(e,AS(r)),e}function SS(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let m=zv(),g=wa(),y=Ro(r,{relative:c});return k.useCallback(E=>{if(eS(E,e)){E.preventDefault();let S=i!==void 0?i:ho(g)===ho(y);m(r,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[g,m,y,i,s,e,r,o,c,f])}var bS=0,RS=()=>`__${String(++bS)}__`;function wS(){let{router:r}=Qv("useSubmit"),{basename:e}=k.useContext(ci),i=FA();return k.useCallback(async(s,o={})=>{let{action:c,method:f,encType:m,formData:g,body:y}=rS(s,e);if(o.navigate===!1){let E=o.fetcherKey||RS();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function CS(r,{relative:e}={}){let{basename:i}=k.useContext(ci),s=k.useContext(hi);ae(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Ro(r||".",{relative:e})},f=wa();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:ki([i,c.pathname])),ho(c)}function DS(r,{relative:e}={}){let i=k.useContext(Uv);ae(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Qv("useViewTransitionState"),o=Ro(r,{relative:e});if(!i.isTransitioning)return!1;let c=Hi(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=Hi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Ec(o.pathname,f)!=null||Ec(o.pathname,c)!=null}function IS(){return Q.jsx("div",{className:"header",children:Q.jsx("h1",{children:" E-Commerce"})})}function Wd({children:r}){return Q.jsx("h2",{children:r})}function Yv({children:r}){return Q.jsx("h3",{children:r})}function VS({children:r}){return Q.jsxs("div",{className:"main-body",children:[Q.jsx(Wd,{children:"Bienvenido al E-Commerce"}),Q.jsx(Yv,{children:"Tu tienda Favorita "}),r]})}function xS(){return Q.jsx("div",{className:"footer",children:Q.jsx(Yv,{children:"2025 E-Commerce"})})}function NS({children:r,showNavBar:e}){return Q.jsxs("div",{className:`main-content ${e?"blurred":""}`,children:[Q.jsx(IS,{}),Q.jsx(VS,{children:r}),Q.jsx(xS,{})]})}const wo=k.createContext();function OS({children:r}){const[e,i]=k.useState(null);function s(o){i(o)}return Q.jsx(wo.Provider,{value:{user:e,login:s},children:r})}function MS({setOpened:r,setShowNavBar:e}){const{user:i}=k.useContext(wo),s=()=>{e(!1),r(!1)};return Q.jsx("div",{className:"login-button",children:i?Q.jsxs(Xe,{to:"/login",className:"btn-login",onClick:s,children:[i.nombre," ",i.apellido," "]}):Q.jsx(Xe,{to:"/login",className:"btn-login",onClick:s,children:"Iniciar Sesin"})})}function US({esVisible:r,setShowNavBar:e,setOpened:i}){const{user:s}=k.useContext(wo);function o(){e(!1),i(!1)}return k.useEffect(()=>{s||Ea(" Debes iniciar sesin para poder comprar productos",{icon:"",duration:4e3,style:{background:"#fff",color:"#1e293b",border:"1px solid #e2e8f0",borderRadius:"8px"}})},[]),Q.jsxs("nav",{className:`navbar ${r?"visible":"invisible"}`,children:[Q.jsxs("h2",{style:{color:"white"},children:["Bienvenido ",s?`${s.nombre}`:""]}),Q.jsx(Xe,{to:"/",onClick:o,children:"Inicio"}),Q.jsx(Xe,{to:"/category/gpus",onClick:o,children:"Tarjetas Grficas"}),Q.jsx(Xe,{to:"/category/cpus",onClick:o,children:"Procesadores"}),Q.jsx(Xe,{to:"/category/ram",onClick:o,children:"Memorias Ram"}),Q.jsx(Xe,{to:"/category/mother",onClick:o,children:"Placas Madres"}),Q.jsx(Xe,{to:"/category/psus",onClick:o,children:"Fuentes De Alimentacin"}),Q.jsx(Xe,{to:"/category/cases",onClick:o,children:"Gabinetes"}),Q.jsx(Xe,{to:"/category/storages",onClick:o,children:"Almacenamiento"}),Q.jsx(MS,{setShowNavBar:e,setOpened:i})]})}function LS({opened:r,setOpened:e,setShowNavBar:i,showNavBar:s}){return Q.jsx("button",{className:`menu-button ${r?"open":"closed"}`,onClick:()=>i(!s)&e(!r),children:""})}const Bc=k.createContext();function PS({children:r}){const[e,i]=k.useState([]);function s(c,f){i(m=>m.find(y=>y.producto.id===c.id)?m.map(y=>y.producto.id===c.id?{...y,quantity:y.quantity+f}:y):[...m,{producto:c,quantity:f}])}function o(){i([])}return Q.jsx(Bc.Provider,{value:{cart:e,armarCarrito:s,clearCart:o},children:r})}function zS(){const{cart:r}=k.useContext(Bc),e=r.reduce((i,s)=>i+s.quantity,0);return Q.jsx(Xe,{to:"/cart",children:Q.jsx("button",{children:Q.jsxs("div",{className:"cart-widget",children:[Q.jsx("span",{className:"cart-icon",children:""}),e>0&&Q.jsx("span",{className:"cart-count",children:e})]})})})}function kS({id:r,titulo:e,descripcion:i,precio:s,imagen:o}){return Q.jsxs("tr",{children:[Q.jsx("td",{children:Q.jsx("img",{src:o,alt:e,style:{width:"80px",height:"auto"}})}),Q.jsx("td",{children:Q.jsx(Xe,{to:`/item/${r}`,children:Q.jsx(Wd,{children:e})})}),Q.jsx("td",{children:i}),Q.jsxs("td",{children:["$",s.toLocaleString()]})]})}const BS=({productos:r})=>Q.jsxs("div",{className:"ItemListContainer",children:[Q.jsxs(Wd,{children:["Productos de la tienda ",r.length>0?`(${r.length})`:""]}),Q.jsxs("table",{className:"table",children:[Q.jsx("thead",{children:Q.jsxs("tr",{children:[Q.jsx("th",{children:"Imagen"}),Q.jsx("th",{children:"Producto"}),Q.jsx("th",{children:"Descripcin"}),Q.jsx("th",{children:"Precio"})]})}),Q.jsx("tbody",{children:r.map(e=>Q.jsx(kS,{id:e.id,titulo:e.titulo,descripcion:e.descripcion,precio:e.precio,imagen:e.imagen},e.id))})]}),r.length===0&&Q.jsx("p",{children:"No hay productos en esta categora"})]}),jS=()=>{};var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},qS=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],f=r[i++],m=r[i++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],f=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let R=(m&15)<<2|y>>6,L=y&63;g||(L=64,f||(R=64)),s.push(i[E],i[S],i[R],i[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Kv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||S==null)throw new HS;const R=c<<2|m>>4;if(s.push(R),y!==64){const L=m<<4&240|y>>2;if(s.push(L),S!==64){const F=y<<6&192|S;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class HS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GS=function(r){const e=Kv(r);return Xv.encodeByteArray(e,!0)},Tc=function(r){return GS(r).replace(/\./g,"")},FS=function(r){try{return Xv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=()=>QS().__FIREBASE_DEFAULTS__,KS=()=>{if(typeof process>"u"||typeof h_>"u")return;const r=h_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},XS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&FS(r[1]);return e&&JSON.parse(e)},tm=()=>{try{return jS()||YS()||KS()||XS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$S=r=>tm()?.emulatorHosts?.[r],ZS=r=>{const e=$S(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},$v=()=>tm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Tc(JSON.stringify(i)),Tc(JSON.stringify(f)),""].join(".")}const so={};function eb(){const r={prod:[],emulator:[]};for(const e of Object.keys(so))so[e]?r.emulator.push(e):r.prod.push(e);return r}function nb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let f_=!1;function ib(r,e){if(typeof window>"u"||typeof document>"u"||!em(window.location.host)||so[r]===e||so[r]||f_)return;so[r]=e;function i(R){return`__firebase__banner__${R}`}const s="__firebase__banner",c=eb().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{f_=!0,f()},R}function E(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=nb(s),L=i("text"),F=document.getElementById(L)||document.createElement("span"),W=i("learnmore"),H=document.getElementById(W)||document.createElement("a"),rt=i("preprendIcon"),et=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const nt=R.element;m(nt),E(H,W);const Tt=y();g(et,rt),nt.append(et,F,H,Tt),document.body.appendChild(nt)}c?(F.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ab(){const r=tm()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sb(){return!ab()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lb(){try{return typeof indexedDB=="object"}catch{return!1}}function ob(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="FirebaseError";class ks extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=ub,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zv.prototype.create)}}class Zv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?cb(c,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ks(o,m,s)}}function cb(r,e){return r.replace(hb,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hb=/\{\$([^}]+)}/g;function Ac(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],f=e[o];if(d_(c)&&d_(f)){if(!Ac(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function d_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(r){return r&&r._delegate?r._delegate:r}class fo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new JS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mb(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:db(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function db(r){return r===va?void 0:r}function mb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new fb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const gb={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},yb=Pt.INFO,_b={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},vb=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=_b[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jv{constructor(e){this.name=e,this._logLevel=yb,this._logHandler=vb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const Eb=(r,e)=>e.some(i=>r instanceof i);let m_,p_;function Tb(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ab(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wv=new WeakMap,bd=new WeakMap,t0=new WeakMap,hd=new WeakMap,nm=new WeakMap;function Sb(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(br(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Wv.set(i,r)}).catch(()=>{}),nm.set(e,r),e}function bb(r){if(bd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});bd.set(r,e)}let Rd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return bd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||t0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return br(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Rb(r){Rd=r(Rd)}function wb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(fd(this),e,...i);return t0.set(s,e.sort?e.sort():[e]),br(s)}:Ab().includes(r)?function(...e){return r.apply(fd(this),e),br(Wv.get(this))}:function(...e){return br(r.apply(fd(this),e))}}function Cb(r){return typeof r=="function"?wb(r):(r instanceof IDBTransaction&&bb(r),Eb(r,Tb())?new Proxy(r,Rd):r)}function br(r){if(r instanceof IDBRequest)return Sb(r);if(hd.has(r))return hd.get(r);const e=Cb(r);return e!==r&&(hd.set(r,e),nm.set(e,r)),e}const fd=r=>nm.get(r);function Db(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),m=br(f);return s&&f.addEventListener("upgradeneeded",g=>{s(br(f.result),g.oldVersion,g.newVersion,br(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Ib=["get","getKey","getAll","getAllKeys","count"],Vb=["put","add","delete","clear"],dd=new Map;function g_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(dd.get(e))return dd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=Vb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Ib.includes(i)))return;const c=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&g.done]))[0]};return dd.set(e,c),c}Rb(r=>({...r,get:(e,i,s)=>g_(e,i)||r.get(e,i,s),has:(e,i)=>!!g_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Nb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Nb(r){return r.getComponent()?.type==="VERSION"}const wd="@firebase/app",y_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Jv("@firebase/app"),Ob="@firebase/app-compat",Mb="@firebase/analytics-compat",Ub="@firebase/analytics",Lb="@firebase/app-check-compat",Pb="@firebase/app-check",zb="@firebase/auth",kb="@firebase/auth-compat",Bb="@firebase/database",jb="@firebase/data-connect",qb="@firebase/database-compat",Hb="@firebase/functions",Gb="@firebase/functions-compat",Fb="@firebase/installations",Qb="@firebase/installations-compat",Yb="@firebase/messaging",Kb="@firebase/messaging-compat",Xb="@firebase/performance",$b="@firebase/performance-compat",Zb="@firebase/remote-config",Jb="@firebase/remote-config-compat",Wb="@firebase/storage",tR="@firebase/storage-compat",eR="@firebase/firestore",nR="@firebase/ai",iR="@firebase/firestore-compat",rR="firebase",aR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",sR={[wd]:"fire-core",[Ob]:"fire-core-compat",[Ub]:"fire-analytics",[Mb]:"fire-analytics-compat",[Pb]:"fire-app-check",[Lb]:"fire-app-check-compat",[zb]:"fire-auth",[kb]:"fire-auth-compat",[Bb]:"fire-rtdb",[jb]:"fire-data-connect",[qb]:"fire-rtdb-compat",[Hb]:"fire-fn",[Gb]:"fire-fn-compat",[Fb]:"fire-iid",[Qb]:"fire-iid-compat",[Yb]:"fire-fcm",[Kb]:"fire-fcm-compat",[Xb]:"fire-perf",[$b]:"fire-perf-compat",[Zb]:"fire-rc",[Jb]:"fire-rc-compat",[Wb]:"fire-gcs",[tR]:"fire-gcs-compat",[eR]:"fire-fst",[iR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[rR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,lR=new Map,Dd=new Map;function __(r,e){try{r.container.addComponent(e)}catch(i){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function bc(r){const e=r.name;if(Dd.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;Dd.set(e,r);for(const i of Sc.values())__(i,r);for(const i of lR.values())__(i,r);return!0}function oR(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function uR(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new Zv("app","Firebase",cR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=aR;function e0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Cd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Rr.create("bad-app-name",{appName:String(o)});if(i||(i=$v()),!i)throw Rr.create("no-options");const c=Sc.get(o);if(c){if(Ac(i,c.options)&&Ac(s,c.config))return c;throw Rr.create("duplicate-app",{appName:o})}const f=new pb(o);for(const g of Dd.values())f.addComponent(g);const m=new hR(i,s,f);return Sc.set(o,m),m}function dR(r=Cd){const e=Sc.get(r);if(!e&&r===Cd&&$v())return e0();if(!e)throw Rr.create("no-app",{appName:r});return e}function Cs(r,e,i){let s=sR[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(f.join(" "));return}bc(new fo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebase-heartbeat-database",pR=1,mo="firebase-heartbeat-store";let md=null;function n0(){return md||(md=Db(mR,pR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(mo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Rr.create("idb-open",{originalErrorMessage:r.message})})),md}async function gR(r){try{const i=(await n0()).transaction(mo),s=await i.objectStore(mo).get(i0(r));return await i.done,s}catch(e){if(e instanceof ks)Gi.warn(e.message);else{const i=Rr.create("idb-get",{originalErrorMessage:e?.message});Gi.warn(i.message)}}}async function v_(r,e){try{const s=(await n0()).transaction(mo,"readwrite");await s.objectStore(mo).put(e,i0(r)),await s.done}catch(i){if(i instanceof ks)Gi.warn(i.message);else{const s=Rr.create("idb-set",{originalErrorMessage:i?.message});Gi.warn(s.message)}}}function i0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=1024,_R=30;class vR{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new TR(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>_R){const o=AR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=E_(),{heartbeatsToSend:i,unsentEntries:s}=ER(this._heartbeatsCache.heartbeats),o=Tc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Gi.warn(e),""}}}function E_(){return new Date().toISOString().substring(0,10)}function ER(r,e=yR){const i=[];let s=r.slice();for(const o of r){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),T_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),T_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class TR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lb()?ob().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await gR(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function T_(r){return Tc(JSON.stringify({version:2,heartbeats:r})).length}function AR(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(r){bc(new fo("platform-logger",e=>new xb(e),"PRIVATE")),bc(new fo("heartbeat",e=>new vR(e),"PRIVATE")),Cs(wd,y_,r),Cs(wd,y_,"esm2020"),Cs("fire-js","")}SR("");var bR="firebase",RR="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(bR,RR,"app");const wR={apiKey:"AIzaSyAXLmloZ54zjGZ4hjG7krafkPHBA9uiTJw",authDomain:"productos-entrega-react.firebaseapp.com",projectId:"productos-entrega-react",storageBucket:"productos-entrega-react.firebasestorage.app",messagingSenderId:"386387643100",appId:"1:386387643100:web:c3c35c2390439108bc8219"},im=e0(wR);var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wr,r0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,b){function C(){}C.prototype=b.prototype,N.D=b.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(x,O,U){for(var D=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)D[Le-2]=arguments[Le];return b.prototype[O].apply(x,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,C){C||(C=0);var x=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)x[O]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(O=0;16>O;++O)x[O]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=N.g[0],C=N.g[1],O=N.g[2];var U=N.g[3],D=b+(U^C&(O^U))+x[0]+3614090360&4294967295;b=C+(D<<7&4294967295|D>>>25),D=U+(O^b&(C^O))+x[1]+3905402710&4294967295,U=b+(D<<12&4294967295|D>>>20),D=O+(C^U&(b^C))+x[2]+606105819&4294967295,O=U+(D<<17&4294967295|D>>>15),D=C+(b^O&(U^b))+x[3]+3250441966&4294967295,C=O+(D<<22&4294967295|D>>>10),D=b+(U^C&(O^U))+x[4]+4118548399&4294967295,b=C+(D<<7&4294967295|D>>>25),D=U+(O^b&(C^O))+x[5]+1200080426&4294967295,U=b+(D<<12&4294967295|D>>>20),D=O+(C^U&(b^C))+x[6]+2821735955&4294967295,O=U+(D<<17&4294967295|D>>>15),D=C+(b^O&(U^b))+x[7]+4249261313&4294967295,C=O+(D<<22&4294967295|D>>>10),D=b+(U^C&(O^U))+x[8]+1770035416&4294967295,b=C+(D<<7&4294967295|D>>>25),D=U+(O^b&(C^O))+x[9]+2336552879&4294967295,U=b+(D<<12&4294967295|D>>>20),D=O+(C^U&(b^C))+x[10]+4294925233&4294967295,O=U+(D<<17&4294967295|D>>>15),D=C+(b^O&(U^b))+x[11]+2304563134&4294967295,C=O+(D<<22&4294967295|D>>>10),D=b+(U^C&(O^U))+x[12]+1804603682&4294967295,b=C+(D<<7&4294967295|D>>>25),D=U+(O^b&(C^O))+x[13]+4254626195&4294967295,U=b+(D<<12&4294967295|D>>>20),D=O+(C^U&(b^C))+x[14]+2792965006&4294967295,O=U+(D<<17&4294967295|D>>>15),D=C+(b^O&(U^b))+x[15]+1236535329&4294967295,C=O+(D<<22&4294967295|D>>>10),D=b+(O^U&(C^O))+x[1]+4129170786&4294967295,b=C+(D<<5&4294967295|D>>>27),D=U+(C^O&(b^C))+x[6]+3225465664&4294967295,U=b+(D<<9&4294967295|D>>>23),D=O+(b^C&(U^b))+x[11]+643717713&4294967295,O=U+(D<<14&4294967295|D>>>18),D=C+(U^b&(O^U))+x[0]+3921069994&4294967295,C=O+(D<<20&4294967295|D>>>12),D=b+(O^U&(C^O))+x[5]+3593408605&4294967295,b=C+(D<<5&4294967295|D>>>27),D=U+(C^O&(b^C))+x[10]+38016083&4294967295,U=b+(D<<9&4294967295|D>>>23),D=O+(b^C&(U^b))+x[15]+3634488961&4294967295,O=U+(D<<14&4294967295|D>>>18),D=C+(U^b&(O^U))+x[4]+3889429448&4294967295,C=O+(D<<20&4294967295|D>>>12),D=b+(O^U&(C^O))+x[9]+568446438&4294967295,b=C+(D<<5&4294967295|D>>>27),D=U+(C^O&(b^C))+x[14]+3275163606&4294967295,U=b+(D<<9&4294967295|D>>>23),D=O+(b^C&(U^b))+x[3]+4107603335&4294967295,O=U+(D<<14&4294967295|D>>>18),D=C+(U^b&(O^U))+x[8]+1163531501&4294967295,C=O+(D<<20&4294967295|D>>>12),D=b+(O^U&(C^O))+x[13]+2850285829&4294967295,b=C+(D<<5&4294967295|D>>>27),D=U+(C^O&(b^C))+x[2]+4243563512&4294967295,U=b+(D<<9&4294967295|D>>>23),D=O+(b^C&(U^b))+x[7]+1735328473&4294967295,O=U+(D<<14&4294967295|D>>>18),D=C+(U^b&(O^U))+x[12]+2368359562&4294967295,C=O+(D<<20&4294967295|D>>>12),D=b+(C^O^U)+x[5]+4294588738&4294967295,b=C+(D<<4&4294967295|D>>>28),D=U+(b^C^O)+x[8]+2272392833&4294967295,U=b+(D<<11&4294967295|D>>>21),D=O+(U^b^C)+x[11]+1839030562&4294967295,O=U+(D<<16&4294967295|D>>>16),D=C+(O^U^b)+x[14]+4259657740&4294967295,C=O+(D<<23&4294967295|D>>>9),D=b+(C^O^U)+x[1]+2763975236&4294967295,b=C+(D<<4&4294967295|D>>>28),D=U+(b^C^O)+x[4]+1272893353&4294967295,U=b+(D<<11&4294967295|D>>>21),D=O+(U^b^C)+x[7]+4139469664&4294967295,O=U+(D<<16&4294967295|D>>>16),D=C+(O^U^b)+x[10]+3200236656&4294967295,C=O+(D<<23&4294967295|D>>>9),D=b+(C^O^U)+x[13]+681279174&4294967295,b=C+(D<<4&4294967295|D>>>28),D=U+(b^C^O)+x[0]+3936430074&4294967295,U=b+(D<<11&4294967295|D>>>21),D=O+(U^b^C)+x[3]+3572445317&4294967295,O=U+(D<<16&4294967295|D>>>16),D=C+(O^U^b)+x[6]+76029189&4294967295,C=O+(D<<23&4294967295|D>>>9),D=b+(C^O^U)+x[9]+3654602809&4294967295,b=C+(D<<4&4294967295|D>>>28),D=U+(b^C^O)+x[12]+3873151461&4294967295,U=b+(D<<11&4294967295|D>>>21),D=O+(U^b^C)+x[15]+530742520&4294967295,O=U+(D<<16&4294967295|D>>>16),D=C+(O^U^b)+x[2]+3299628645&4294967295,C=O+(D<<23&4294967295|D>>>9),D=b+(O^(C|~U))+x[0]+4096336452&4294967295,b=C+(D<<6&4294967295|D>>>26),D=U+(C^(b|~O))+x[7]+1126891415&4294967295,U=b+(D<<10&4294967295|D>>>22),D=O+(b^(U|~C))+x[14]+2878612391&4294967295,O=U+(D<<15&4294967295|D>>>17),D=C+(U^(O|~b))+x[5]+4237533241&4294967295,C=O+(D<<21&4294967295|D>>>11),D=b+(O^(C|~U))+x[12]+1700485571&4294967295,b=C+(D<<6&4294967295|D>>>26),D=U+(C^(b|~O))+x[3]+2399980690&4294967295,U=b+(D<<10&4294967295|D>>>22),D=O+(b^(U|~C))+x[10]+4293915773&4294967295,O=U+(D<<15&4294967295|D>>>17),D=C+(U^(O|~b))+x[1]+2240044497&4294967295,C=O+(D<<21&4294967295|D>>>11),D=b+(O^(C|~U))+x[8]+1873313359&4294967295,b=C+(D<<6&4294967295|D>>>26),D=U+(C^(b|~O))+x[15]+4264355552&4294967295,U=b+(D<<10&4294967295|D>>>22),D=O+(b^(U|~C))+x[6]+2734768916&4294967295,O=U+(D<<15&4294967295|D>>>17),D=C+(U^(O|~b))+x[13]+1309151649&4294967295,C=O+(D<<21&4294967295|D>>>11),D=b+(O^(C|~U))+x[4]+4149444226&4294967295,b=C+(D<<6&4294967295|D>>>26),D=U+(C^(b|~O))+x[11]+3174756917&4294967295,U=b+(D<<10&4294967295|D>>>22),D=O+(b^(U|~C))+x[2]+718787259&4294967295,O=U+(D<<15&4294967295|D>>>17),D=C+(U^(O|~b))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,b){b===void 0&&(b=N.length);for(var C=b-this.blockSize,x=this.B,O=this.h,U=0;U<b;){if(O==0)for(;U<=C;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<b;)if(x[O++]=N.charCodeAt(U++),O==this.blockSize){o(this,x),O=0;break}}else for(;U<b;)if(x[O++]=N[U++],O==this.blockSize){o(this,x),O=0;break}}this.h=O,this.o+=b},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;var C=8*this.o;for(b=N.length-8;b<N.length;++b)N[b]=C&255,C/=256;for(this.u(N),N=Array(16),b=C=0;4>b;++b)for(var x=0;32>x;x+=8)N[C++]=this.g[b]>>>x&255;return N};function c(N,b){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=b(N)}function f(N,b){this.h=b;for(var C=[],x=!0,O=N.length-1;0<=O;O--){var U=N[O]|0;x&&U==b||(C[O]=U,x=!1)}this.g=C}var m={};function g(N){return-128<=N&&128>N?c(N,function(b){return new f([b|0],0>b?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return H(y(-N));for(var b=[],C=1,x=0;N>=C;x++)b[x]=N/C|0,C*=4294967296;return new f(b,0)}function E(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return H(E(N.substring(1),b));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(b,8)),x=S,O=0;O<N.length;O+=8){var U=Math.min(8,N.length-O),D=parseInt(N.substring(O,O+U),b);8>U?(U=y(Math.pow(b,U)),x=x.j(U).add(y(D))):(x=x.j(C),x=x.add(y(D)))}return x}var S=g(0),R=g(1),L=g(16777216);r=f.prototype,r.m=function(){if(W(this))return-H(this).m();for(var N=0,b=1,C=0;C<this.g.length;C++){var x=this.i(C);N+=(0<=x?x:4294967296+x)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(F(this))return"0";if(W(this))return"-"+H(this).toString(N);for(var b=y(Math.pow(N,6)),C=this,x="";;){var O=Tt(C,b).g;C=rt(C,O.j(b));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=O,F(C))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function F(N){if(N.h!=0)return!1;for(var b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function W(N){return N.h==-1}r.l=function(N){return N=rt(this,N),W(N)?-1:F(N)?0:1};function H(N){for(var b=N.g.length,C=[],x=0;x<b;x++)C[x]=~N.g[x];return new f(C,~N.h).add(R)}r.abs=function(){return W(this)?H(this):this},r.add=function(N){for(var b=Math.max(this.g.length,N.g.length),C=[],x=0,O=0;O<=b;O++){var U=x+(this.i(O)&65535)+(N.i(O)&65535),D=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);x=D>>>16,U&=65535,D&=65535,C[O]=D<<16|U}return new f(C,C[C.length-1]&-2147483648?-1:0)};function rt(N,b){return N.add(H(b))}r.j=function(N){if(F(this)||F(N))return S;if(W(this))return W(N)?H(this).j(H(N)):H(H(this).j(N));if(W(N))return H(this.j(H(N)));if(0>this.l(L)&&0>N.l(L))return y(this.m()*N.m());for(var b=this.g.length+N.g.length,C=[],x=0;x<2*b;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var O=0;O<N.g.length;O++){var U=this.i(x)>>>16,D=this.i(x)&65535,Le=N.i(O)>>>16,le=N.i(O)&65535;C[2*x+2*O]+=D*le,et(C,2*x+2*O),C[2*x+2*O+1]+=U*le,et(C,2*x+2*O+1),C[2*x+2*O+1]+=D*Le,et(C,2*x+2*O+1),C[2*x+2*O+2]+=U*Le,et(C,2*x+2*O+2)}for(x=0;x<b;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=b;x<2*b;x++)C[x]=0;return new f(C,0)};function et(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function nt(N,b){this.g=N,this.h=b}function Tt(N,b){if(F(b))throw Error("division by zero");if(F(N))return new nt(S,S);if(W(N))return b=Tt(H(N),b),new nt(H(b.g),H(b.h));if(W(b))return b=Tt(N,H(b)),new nt(H(b.g),b.h);if(30<N.g.length){if(W(N)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var C=R,x=b;0>=x.l(N);)C=ft(C),x=ft(x);var O=Nt(C,1),U=Nt(x,1);for(x=Nt(x,2),C=Nt(C,2);!F(x);){var D=U.add(x);0>=D.l(N)&&(O=O.add(C),U=D),x=Nt(x,1),C=Nt(C,1)}return b=rt(N,O.j(b)),new nt(O,b)}for(O=S;0<=N.l(b);){for(C=Math.max(1,Math.floor(N.m()/b.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=y(C),D=U.j(b);W(D)||0<D.l(N);)C-=x,U=y(C),D=U.j(b);F(U)&&(U=R),O=O.add(U),N=rt(N,D)}return new nt(O,N)}r.A=function(N){return Tt(this,N).h},r.and=function(N){for(var b=Math.max(this.g.length,N.g.length),C=[],x=0;x<b;x++)C[x]=this.i(x)&N.i(x);return new f(C,this.h&N.h)},r.or=function(N){for(var b=Math.max(this.g.length,N.g.length),C=[],x=0;x<b;x++)C[x]=this.i(x)|N.i(x);return new f(C,this.h|N.h)},r.xor=function(N){for(var b=Math.max(this.g.length,N.g.length),C=[],x=0;x<b;x++)C[x]=this.i(x)^N.i(x);return new f(C,this.h^N.h)};function ft(N){for(var b=N.g.length+1,C=[],x=0;x<b;x++)C[x]=N.i(x)<<1|N.i(x-1)>>>31;return new f(C,N.h)}function Nt(N,b){var C=b>>5;b%=32;for(var x=N.g.length-C,O=[],U=0;U<x;U++)O[U]=0<b?N.i(U+C)>>>b|N.i(U+C+1)<<32-b:N.i(U+C);return new f(O,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,r0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,wr=f}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a0,no,s0,dc,Id,l0,o0,u0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,p){if(p)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in _))break t;_=_[P]}u=u[u.length-1],A=_[u],p=p(A),p!=A&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var _=0,A=!1,P={next:function(){if(!A&&_<u.length){var G=_++;return{value:p(G,u[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,_){return u.call.apply(u.bind,arguments)}function S(u,p,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(p,P)}}return function(){return u.apply(p,arguments)}}function R(u,p,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function L(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function F(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,P,G){for(var at=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)at[Ot-2]=arguments[Ot];return p.prototype[P].apply(A,at)}}function W(u){const p=u.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=u[A];return _}return[]}function H(u,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const P=u.length||0,G=A.length||0;u.length=P+G;for(let at=0;at<G;at++)u[P+at]=A[at]}else u.push(A)}}class rt{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function et(u){return/^[\s\xa0]*$/.test(u)}function nt(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function Tt(u){return Tt[" "](u),u}Tt[" "]=function(){};var ft=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function Nt(u,p,_){for(const A in u)p.call(_,u[A],A,u)}function N(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function b(u){const p={};for(const _ in u)p[_]=u[_];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,p){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)u[_]=A[_];for(let G=0;G<C.length;G++)_=C[G],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function O(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function U(u){m.setTimeout(()=>{throw u},0)}function D(){var u=Bt;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Le{constructor(){this.h=this.g=null}add(p,_){const A=le.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var le=new rt(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,dt=!1,Bt=new Le,I=()=>{const u=m.Promise.resolve(void 0);st=()=>{u.then(tt)}};var tt=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){U(_)}var p=le;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}dt=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return u}();function wt(u,p){if(it.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ft){t:{try{Tt(p.nodeName);var P=!0;break t}catch{}P=!1}P||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}F(wt,it);var Et={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Bn(u,p,_,A,P){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=P,this.key=++Jt,this.da=this.fa=!1}function Yi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fi(u){this.src=u,this.g={},this.h=0}fi.prototype.add=function(u,p,_,A,P){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var at=Lr(u,p,A,P);return-1<at?(p=u[at],_||(p.fa=!1)):(p=new Bn(p,this.src,G,!!A,P),p.fa=_,u.push(p)),p};function Ur(u,p){var _=p.type;if(_ in u.g){var A=u.g[_],P=Array.prototype.indexOf.call(A,p,void 0),G;(G=0<=P)&&Array.prototype.splice.call(A,P,1),G&&(Yi(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Lr(u,p,_,A){for(var P=0;P<u.length;++P){var G=u[P];if(!G.da&&G.listener==p&&G.capture==!!_&&G.ha==A)return P}return-1}var Pr="closure_lm_"+(1e6*Math.random()|0),Fs={};function Oo(u,p,_,A,P){if(Array.isArray(p)){for(var G=0;G<p.length;G++)Oo(u,p[G],_,A,P);return null}return _=Mo(_),u&&u[Ie]?u.K(p,_,y(A)?!!A.capture:!1,P):gn(u,p,_,!1,A,P)}function gn(u,p,_,A,P,G){if(!p)throw Error("Invalid event type");var at=y(P)?!!P.capture:!!P,Ot=Na(u);if(Ot||(u[Pr]=Ot=new fi(u)),_=Ot.add(p,_,A,at,G),_.proxy)return _;if(A=nh(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)pt||(P=at),P===void 0&&(P=!1),u.addEventListener(p.toString(),A,P);else if(u.attachEvent)u.attachEvent(zr(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function nh(){function u(_){return p.call(u.src,u.listener,_)}const p=ih;return u}function Qs(u,p,_,A,P){if(Array.isArray(p))for(var G=0;G<p.length;G++)Qs(u,p[G],_,A,P);else A=y(A)?!!A.capture:!!A,_=Mo(_),u&&u[Ie]?(u=u.i,p=String(p).toString(),p in u.g&&(G=u.g[p],_=Lr(G,_,A,P),-1<_&&(Yi(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete u.g[p],u.h--)))):u&&(u=Na(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Lr(p,_,A,P)),(_=-1<u?p[u]:null)&&xa(_))}function xa(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ie])Ur(p.i,u);else{var _=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(_,A,u.capture):p.detachEvent?p.detachEvent(zr(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Na(p))?(Ur(_,u),_.h==0&&(_.src=null,p[Pr]=null)):Yi(u)}}}function zr(u){return u in Fs?Fs[u]:Fs[u]="on"+u}function ih(u,p){if(u.da)u=!0;else{p=new wt(p,this);var _=u.listener,A=u.ha||u.src;u.fa&&xa(u),u=_.call(A,p)}return u}function Na(u){return u=u[Pr],u instanceof fi?u:null}var Ys="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mo(u){return typeof u=="function"?u:(u[Ys]||(u[Ys]=function(p){return u.handleEvent(p)}),u[Ys])}function oe(){lt.call(this),this.i=new fi(this),this.M=this,this.F=null}F(oe,lt),oe.prototype[Ie]=!0,oe.prototype.removeEventListener=function(u,p,_,A){Qs(this,u,p,_,A)};function Gt(u,p){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new it(p,u);else if(p instanceof it)p.target=p.target||u;else{var P=p;p=new it(A,u),x(p,P)}if(P=!0,_)for(var G=_.length-1;0<=G;G--){var at=p.g=_[G];P=ln(at,A,!0,p)&&P}if(at=p.g=u,P=ln(at,A,!0,p)&&P,P=ln(at,A,!1,p)&&P,_)for(G=0;G<_.length;G++)at=p.g=_[G],P=ln(at,A,!1,p)&&P}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],A=0;A<_.length;A++)Yi(_[A]);delete u.g[p],u.h--}}this.F=null},oe.prototype.K=function(u,p,_,A){return this.i.add(String(u),p,!1,_,A)},oe.prototype.L=function(u,p,_,A){return this.i.add(String(u),p,!0,_,A)};function ln(u,p,_,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var P=!0,G=0;G<p.length;++G){var at=p[G];if(at&&!at.da&&at.capture==_){var Ot=at.listener,Se=at.ha||at.src;at.fa&&Ur(u.i,at),P=Ot.call(Se,A)!==!1&&P}}return P&&!A.defaultPrevented}function Fe(u,p,_){if(typeof u=="function")_&&(u=R(u,_));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(u,p||0)}function Uo(u){u.g=Fe(()=>{u.g=null,u.i&&(u.i=!1,Uo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class rh extends lt{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(u){lt.call(this),this.h=u,this.g={}}F(kr,lt);var Br=[];function jr(u){Nt(u.g,function(p,_){this.g.hasOwnProperty(_)&&xa(p)},u),u.g={}}kr.prototype.N=function(){kr.aa.N.call(this),jr(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=m.JSON.stringify,Oa=m.JSON.parse,qr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Ks(){}Ks.prototype.h=null;function Xs(u){return u.h||(u.h=u.i())}function $s(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){it.call(this,"d")}F(mi,it);function Zs(){it.call(this,"c")}F(Zs,it);var jn={},Js=null;function Ki(){return Js=Js||new oe}jn.La="serverreachability";function Ma(u){it.call(this,jn.La,u)}F(Ma,it);function Xi(u){const p=Ki();Gt(p,new Ma(p))}jn.STAT_EVENT="statevent";function Lo(u,p){it.call(this,jn.STAT_EVENT,u),this.stat=p}F(Lo,it);function ne(u){const p=Ki();Gt(p,new Lo(p,u))}jn.Ma="timingevent";function Ae(u,p){it.call(this,jn.Ma,u),this.size=p}F(Ae,it);function pe(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},p)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function Ws(u,p,_,A,P,G){u.info(function(){if(u.g)if(G)for(var at="",Ot=G.split("&"),Se=0;Se<Ot.length;Se++){var Mt=Ot[Se].split("=");if(1<Mt.length){var xe=Mt[0];Mt=Mt[1];var be=xe.split("_");at=2<=be.length&&be[1]=="type"?at+(xe+"="+Mt+"&"):at+(xe+"=redacted&")}}else at=null;else at=G;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+p+`
`+_+`
`+at})}function ah(u,p,_,A,P,G,at){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+p+`
`+_+`
`+G+" "+at})}function $i(u,p,_,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Hr(u,_)+(A?" "+A:"")})}function Po(u,p){u.info(function(){return"TIMEOUT: "+p})}yn.prototype.info=function(){};function Hr(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var G=P[0];if(G!="noop"&&G!="stop"&&G!="close")for(var at=1;at<P.length;at++)P[at]=""}}}}return xn(_)}catch{return p}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function Hn(){}F(Hn,Ks),Hn.prototype.g=function(){return new XMLHttpRequest},Hn.prototype.i=function(){return{}},qn=new Hn;function Je(u,p,_,A){this.j=u,this.i=p,this.l=_,this.R=A||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var tl={},Ua={};function Nn(u,p,_){u.L=1,u.v=Kr(on(p)),u.m=_,u.P=!0,gi(u,null)}function gi(u,p){u.F=Date.now(),Gr(u),u.A=on(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),sl(_.i,"t",A),u.C=0,_=u.j.J,u.h=new he,u.g=Wo(u.j,_?p:null,!u.m),0<u.O&&(u.M=new rh(R(u.Y,u,u.g),u.O)),p=u.U,_=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Br[0]=P.toString()),P=Br);for(var G=0;G<P.length;G++){var at=Oo(_,P[G],A||p.handleEvent,!1,p.h||p);if(!at)break;p.g[at.key]=at}p=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Xi(),Ws(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const p=this.M;p&&Tn(u)==3?p.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)t:{const be=Tn(this.g);var p=this.g.Ba();const bi=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||Fo(this.g)))){this.J||be!=4||p==7||(p==8||0>=bi?Xi(3):Xi(2)),Ji(this);var _=this.g.Z();this.X=_;e:if(zo(this)){var A=Fo(this.g);u="";var P=A.length,G=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Gn(this);var at="";break e}this.h.i=new m.TextDecoder}for(p=0;p<P;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(G&&p==P-1)});A.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,ah(this.i,this.u,this.A,this.l,this.R,be,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Se=this.g;if((Ot=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(Ot)){var Mt=Ot;break e}}Mt=null}if(_=Mt)$i(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fr(this,_);else{this.o=!1,this.s=3,ne(12),Pe(this),Gn(this);break t}}if(this.P){_=!0;let ze;for(;!this.J&&this.C<at.length;)if(ze=ko(this,at),ze==Ua){be==4&&(this.s=4,ne(14),_=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==tl){this.s=4,ne(15),$i(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else $i(this.i,this.l,ze,null),Fr(this,ze);if(zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||at.length!=0||this.h.h||(this.s=1,ne(16),_=!1),this.o=this.o&&_,!_)$i(this.i,this.l,at,"[Invalid Chunked Response]"),Pe(this),Gn(this);else if(0<at.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),na(xe),xe.M=!0,ne(11))}}else $i(this.i,this.l,at,null),Fr(this,at);be==4&&Pe(this),this.o&&!this.J&&(be==4?$o(this.j,this):(this.o=!1,Gr(this)))}else ch(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Pe(this),Gn(this)}}}catch{}finally{}};function zo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ko(u,p){var _=u.C,A=p.indexOf(`
`,_);return A==-1?Ua:(_=Number(p.substring(_,A)),isNaN(_)?tl:(A+=1,A+_>p.length?Ua:(p=p.slice(A,A+_),u.C=A+_,p)))}Je.prototype.cancel=function(){this.J=!0,Pe(this)};function Gr(u){u.S=Date.now()+u.I,Bo(u,u.I)}function Bo(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(R(u.ba,u),p)}function Ji(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Po(this.i,this.A),this.L!=2&&(Xi(),ne(17)),Pe(this),this.s=2,Gn(this)):Bo(this,this.S-u)};function Gn(u){u.j.G==0||u.J||$o(u.j,u)}function Pe(u){Ji(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,jr(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Fr(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||el(_.h,u))){if(!u.K&&el(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ya(_),Fa(_);else break t;hl(_),ne(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(R(_.Za,_),6e3));if(1>=Pa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Si(_,11)}else if((u.K||_.g==u)&&Ya(_),!et(p))for(P=_.Da.g.parse(p),p=0;p<P.length;p++){let Mt=P[p];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const xe=Mt[3];xe!=null&&(_.la=xe,_.j.info("VER="+_.la));const be=Mt[4];be!=null&&(_.Aa=be,_.j.info("SVER="+_.Aa));const bi=Mt[5];bi!=null&&typeof bi=="number"&&0<bi&&(A=1.5*bi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const ze=u.g;if(ze){const Zn=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var G=A.h;G.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(za(G,G.h),G.h=null))}if(A.D){const dl=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(A.ya=dl,Yt(A.I,A.D,dl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var at=u;if(A.qa=Jo(A,A.J?A.ia:null,A.W),at.K){We(A.h,at);var Ot=at,Se=A.L;Se&&(Ot.I=Se),Ot.B&&(Ji(Ot),Gr(Ot)),A.g=at}else Ko(A);0<_.i.length&&Qa(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Si(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Si(_,7):ul(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Xi(4)}catch{}}var jo=class{constructor(u,p){this.g=u,this.map=p}};function yi(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function La(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Pa(u){return u.h?1:u.g?u.g.size:0}function el(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function za(u,p){u.g?u.g.add(p):u.h=p}function We(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}yi.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return W(u.i)}function sh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],_=u.length,A=0;A<_;A++)p.push(u[A]);return p}p=[],_=0;for(A in u)p[_++]=u[A];return p}function ka(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const A in u)p[_++]=A;return p}}}function il(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=ka(u),A=sh(u),P=A.length,G=0;G<P;G++)p.call(void 0,A[G],_&&_[G],u)}var Qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lh(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),P=null;if(0<=A){var G=u[_].substring(0,A);P=u[_].substring(A+1)}else G=u[_];p(G,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Yr(this,u.j),this.o=u.o,this.g=u.g,Wi(this,u.s),this.l=u.l;var p=u.i,_=new vi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),_i(this,_),this.m=u.m}else u&&(p=String(u).match(Qr))?(this.h=!1,Yr(this,p[1]||"",!0),this.o=_n(p[2]||""),this.g=_n(p[3]||"",!0),Wi(this,p[4]),this.l=_n(p[5]||"",!0),_i(this,p[6]||"",!0),this.m=_n(p[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}ge.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Xr(p,rl,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Xr(p,rl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Xr(_,_.charAt(0)=="/"?oh:al,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Xr(_,Ba)),u.join("")};function on(u){return new ge(u)}function Yr(u,p,_){u.j=_?_n(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Wi(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function _i(u,p,_){p instanceof vi?(u.i=p,Ho(u.i,u.h)):(_||(p=Xr(p,uh)),u.i=new vi(p,u.h))}function Yt(u,p,_){u.i.set(p,_)}function Kr(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xr(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,qo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rl=/[#\/\?@]/g,al=/[#\?:]/g,oh=/[#\?]/g,uh=/[#\?@]/g,Ba=/#/g;function vi(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&lh(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=vi.prototype,r.add=function(u,p){vn(this),this.i=null,u=Fn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function Ei(u,p){vn(u),p=Fn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ti(u,p){return vn(u),p=Fn(u,p),u.g.has(p)}r.forEach=function(u,p){vn(this),this.g.forEach(function(_,A){_.forEach(function(P){u.call(p,P,A,this)},this)},this)},r.na=function(){vn(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const P=u[A];for(let G=0;G<P.length;G++)_.push(p[A])}return _},r.V=function(u){vn(this);let p=[];if(typeof u=="string")Ti(this,u)&&(p=p.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},r.set=function(u,p){return vn(this),this.i=null,u=Fn(this,u),Ti(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function sl(u,p,_){Ei(u,p),0<_.length&&(u.i=null,u.g.set(Fn(u,p),W(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const G=encodeURIComponent(String(A)),at=this.V(A);for(A=0;A<at.length;A++){var P=G;at[A]!==""&&(P+="="+encodeURIComponent(String(at[A]))),u.push(P)}}return this.i=u.join("&")};function Fn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ho(u,p){p&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(_,A){var P=A.toLowerCase();A!=P&&(Ei(this,A),sl(this,P,_))},u)),u.j=p}function $r(u,p){const _=new yn;if(m.Image){const A=new Image;A.onload=L(En,_,"TestLoadImage: loaded",!0,p,A),A.onerror=L(En,_,"TestLoadImage: error",!1,p,A),A.onabort=L(En,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=L(En,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function On(u,p){const _=new yn,A=new AbortController,P=setTimeout(()=>{A.abort(),En(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(G=>{clearTimeout(P),G.ok?En(_,"TestPingServer: ok",!0,p):En(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),En(_,"TestPingServer: error",!1,p)})}function En(u,p,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function Zr(){this.g=new qr}function Qn(u,p,_){const A=_||"";try{il(u,function(P,G){let at=P;y(P)&&(at=xn(P)),p.push(A+G+"="+encodeURIComponent(at))})}catch(P){throw p.push(A+"type="+encodeURIComponent("_badmap")),P}}function tr(u){this.l=u.Ub||null,this.j=u.eb||!1}F(tr,Ks),tr.prototype.g=function(){return new Ai(this.l,this.j)},tr.prototype.i=function(u){return function(){return u}}({});function Ai(u,p){oe.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Ai,oe),r=Ai.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ll(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ll(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Yn(this):Kn(this),this.readyState==3&&ll(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},r.Qa=function(u){this.g&&(this.response=u,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ol(u){let p="";return Nt(u,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Ve(u,p,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=ol(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Yt(u,p,_))}function qt(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(qt,oe);var ja=/^https?$/i,Jr=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?Xs(this.o):Xs(qn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(G){Go(this,G);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),P=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Jr,p,void 0))||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,at]of _)this.g.setRequestHeader(G,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wr(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){Go(this,G)}};function Go(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,qa(u),Xn(u)}function qa(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Gt(this,"complete"),Gt(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},r.bb=function(){Ha(this)};function Ha(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)Fe(u.Ea,0,u);else if(Gt(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var A;if(A=at===0){var P=String(u.D).match(Qr)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),A=!ja.test(P?P.toLowerCase():"")}_=A}if(_)Gt(u,"complete"),Gt(u,"success");else{u.m=6;try{var G=2<Tn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",qa(u)}}finally{Xn(u)}}}}function Xn(u,p){if(u.g){Wr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Gt(u,"ready");try{_.onreadystatechange=A}catch{}}}function Wr(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Oa(p)}};function Fo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ch(u){const p={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(et(u[A]))continue;var _=O(u[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=p[P]||[];p[P]=G,G.push(_)}N(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function Ga(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,u),this.cb=ta("retryDelaySeedMs",1e4,u),this.Wa=ta("forwardChannelMaxRetries",2,u),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(u&&u.concurrentRequestLimit),this.Da=new Zr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ga.prototype,r.la=8,r.G=1,r.connect=function(u,p,_,A){ne(0),this.W=u,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Jo(this,null,this.W),Qa(this)};function ul(u){if(Qo(u),u.G==3){var p=u.U++,_=on(u.I);if(Yt(_,"SID",u.K),Yt(_,"RID",p),Yt(_,"TYPE","terminate"),ea(u,_),p=new Je(u,u.j,p),p.L=2,p.v=Kr(on(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Wo(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Gr(p)}Zo(u)}function Fa(u){u.g&&(na(u),u.g.cancel(),u.g=null)}function Qo(u){Fa(u),u.u&&(m.clearTimeout(u.u),u.u=null),Ya(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Qa(u){if(!La(u.h)&&!u.s){u.s=!0;var p=u.Ga;st||I(),dt||(st(),dt=!0),Bt.add(p,u),u.B=0}}function hh(u,p){return Pa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(R(u.Ga,u,p),fl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Je(this,this.j,u);let G=this.o;if(this.S&&(G?(G=b(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(P.H=G,G=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Yo(this,P,p),_=on(this.I),Yt(_,"RID",u),Yt(_,"CVER",22),this.D&&Yt(_,"X-HTTP-Session-Id",this.D),ea(this,_),G&&(this.O?p="headers="+encodeURIComponent(String(ol(G)))+"&"+p:this.m&&Ve(_,this.m,G)),za(this.h,P),this.Ua&&Yt(_,"TYPE","init"),this.P?(Yt(_,"$req",p),Yt(_,"SID","null"),P.T=!0,Nn(P,_,null)):Nn(P,_,p),this.G=2}}else this.G==3&&(u?cl(this,u):this.i.length==0||La(this.h)||cl(this))};function cl(u,p){var _;p?_=p.l:_=u.U++;const A=on(u.I);Yt(A,"SID",u.K),Yt(A,"RID",_),Yt(A,"AID",u.T),ea(u,A),u.m&&u.o&&Ve(A,u.m,u.o),_=new Je(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Yo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),za(u.h,_),Nn(_,A,p)}function ea(u,p){u.H&&Nt(u.H,function(_,A){Yt(p,A,_)}),u.l&&il({},function(_,A){Yt(p,A,_)})}function Yo(u,p,_){_=Math.min(u.i.length,_);var A=u.l?R(u.l.Na,u.l,u):null;t:{var P=u.i;let G=-1;for(;;){const at=["count="+_];G==-1?0<_?(G=P[0].g,at.push("ofs="+G)):G=0:at.push("ofs="+G);let Ot=!0;for(let Se=0;Se<_;Se++){let Mt=P[Se].g;const xe=P[Se].map;if(Mt-=G,0>Mt)G=Math.max(0,P[Se].g-100),Ot=!1;else try{Qn(xe,at,"req"+Mt+"_")}catch{A&&A(xe)}}if(Ot){A=at.join("&");break t}}}return u=u.i.splice(0,_),p.D=u,A}function Ko(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;st||I(),dt||(st(),dt=!0),Bt.add(p,u),u.v=0}}function hl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(R(u.Fa,u),fl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(R(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Fa(this),Xo(this))};function na(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Xo(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=on(u.qa);Yt(p,"RID","rpc"),Yt(p,"SID",u.K),Yt(p,"AID",u.T),Yt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(p,"TO",u.ja),Yt(p,"TYPE","xmlhttp"),ea(u,p),u.m&&u.o&&Ve(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Kr(on(p)),_.m=null,_.P=!0,gi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Fa(this),hl(this),ne(19))};function Ya(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function $o(u,p){var _=null;if(u.g==p){Ya(u),na(u),u.g=null;var A=2}else if(el(u.h,p))_=p.D,We(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var P=u.B;A=Ki(),Gt(A,new Ae(A,_)),Qa(u)}else Ko(u);else if(P=p.s,P==3||P==0&&0<p.X||!(A==1&&hh(u,p)||A==2&&hl(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),P){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function fl(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function Si(u,p){if(u.j.info("Error code "+p),p==2){var _=R(u.fb,u),A=u.Xa;const P=!A;A=new ge(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Yr(A,"https"),Kr(A),P?$r(A.toString(),_):On(A.toString(),_)}else ne(2);u.G=0,u.l&&u.l.sa(p),Zo(u),Qo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function Zo(u){if(u.G=0,u.ka=[],u.l){const p=nl(u.h);(p.length!=0||u.i.length!=0)&&(H(u.ka,p),H(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function Jo(u,p,_){var A=_ instanceof ge?on(_):new ge(_);if(A.g!="")p&&(A.g=p+"."+A.g),Wi(A,A.s);else{var P=m.location;A=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;var G=new ge(null);A&&Yr(G,A),p&&(G.g=p),P&&Wi(G,P),_&&(G.l=_),A=G}return _=u.D,p=u.ya,_&&p&&Yt(A,_,p),Yt(A,"VER",u.la),ea(u,A),A}function Wo(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new qt(new tr({eb:_})):new qt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}r=tu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ka(){}Ka.prototype.g=function(u,p){return new tn(u,p)};function tn(u,p){oe.call(this),this.g=new Ga(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!et(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!et(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new $n(this)}F(tn,oe),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){ul(this.g)},tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=xn(u),u=_);p.i.push(new jo(p.Ya++,u)),p.G==3&&Qa(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,tn.aa.N.call(this)};function eu(u){mi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const _ in p){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}F(eu,mi);function nu(){Zs.call(this),this.status=1}F(nu,Zs);function $n(u){this.g=u}F($n,tu),$n.prototype.ua=function(){Gt(this.g,"a")},$n.prototype.ta=function(u){Gt(this.g,new eu(u))},$n.prototype.sa=function(u){Gt(this.g,new nu)},$n.prototype.ra=function(){Gt(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,u0=function(){return new Ka},o0=function(){return Ki()},l0=jn,Id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,dc=Zi,pi.COMPLETE="complete",s0=pi,$s.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",oe.prototype.listen=oe.prototype.K,no=$s,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,a0=qt}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore",b_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Jv("@firebase/firestore");function Ss(){return Sa.logLevel}function ut(r,...e){if(Sa.logLevel<=Pt.DEBUG){const i=e.map(rm);Sa.debug(`Firestore (${Bs}): ${r}`,...i)}}function Fi(r,...e){if(Sa.logLevel<=Pt.ERROR){const i=e.map(rm);Sa.error(`Firestore (${Bs}): ${r}`,...i)}}function xs(r,...e){if(Sa.logLevel<=Pt.WARN){const i=e.map(rm);Sa.warn(`Firestore (${Bs}): ${r}`,...i)}}function rm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,c0(r,s,i)}function c0(r,e,i){let s=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Fi(s),new Error(s)}function Ht(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||c0(e,o,s)}function St(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ks{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i($e.UNAUTHENTICATED))}shutdown(){}}class DR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class IR{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let c=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Bi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Bi)}},0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new h0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new $e(e)}}class VR{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xR{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new VR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,uR(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Vt(r,e){return r<e?-1:r>e?1:0}function Vd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return pd(o)===pd(c)?Vt(o,c):pd(o)?1:-1}return Vt(r.length,e.length)}const MR=55296,UR=57343;function pd(r){const e=r.charCodeAt(0);return e>=MR&&e<=UR}function Ns(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="__name__";class ii{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&_t(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ii.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Vt(e.length,i.length)}static compareSegments(e,i){const s=ii.isNumericId(e),o=ii.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ii.extractNumericId(e).compare(ii.extractNumericId(i)):Vd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wr.fromString(e.substring(4,e.length-2))}}class te extends ii{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new te(i)}static emptyPath(){return new te([])}}const LR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends ii{construct(e,i,s){return new He(e,i,s)}static isValidIdentifier(e){return LR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w_}static keyField(){return new He([w_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(c(),o++)}if(c(),f)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(te.fromString(e))}static fromName(e){return new mt(te.fromString(e).popFirst(5))}static empty(){return new mt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(r,e,i){if(!i)throw new ot($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function PR(r,e,i,s){if(e===!0&&s===!0)throw new ot($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function C_(r){if(!mt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function D_(r){if(mt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function d0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Os(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jc(r);throw new ot($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e){const i={typeString:r};return e&&(i.value=e),i}function Co(r,e){if(!d0(r))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ot($.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=-62135596800,V_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*V_);return new ee(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<I_)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Co(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Te("string",ee._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new ee(0,0))}static max(){return new At(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=-1;function zR(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new Dr(o,mt.empty(),e)}function kR(r){return new Dr(r.readTime,r.key,po)}class Dr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Dr(At.min(),mt.empty(),po)}static max(){return new Dr(At.max(),mt.empty(),po)}}function BR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:Vt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==jR)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):J.reject(i)}static resolve(e){return new J((i,s)=>{i(e)})}static reject(e){return new J((i,s)=>{s(e)})}static waitFor(e){return new J((i,s)=>{let o=0,c=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++c,f&&c===o&&i()},g=>s(g))}),f=!0,c===o&&i()})}static or(e){let i=J.resolve(!1);for(const s of e)i=i.next(o=>o?J.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new J((s,o)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next(E=>{f[y]=E,++m,m===c&&s(f)},E=>o(E))}})}static doWhile(e,i){return new J((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function HR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function qs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=-1;function Hc(r){return r==null}function Rc(r){return r===0&&1/r==-1/0}function GR(r){return typeof r=="number"&&Number.isInteger(r)&&!Rc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="";function FR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=x_(e)),e=QR(r.get(i),e);return x_(e)}function QR(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case m0:i+="";break;default:i+=c}}return i}function x_(r){return r+m0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ca(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function p0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||qe.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sc(this.root,e,this.comparator,!0)}}class sc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??qe.RED,this.left=o??qe.EMPTY,this.right=c??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new qe(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new O_(this.data.getIterator())}getIteratorFrom(e){return new O_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new De(this.comparator);return i.data=e,i}}class O_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new De(He.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ns(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new g0("Invalid base64 string: "+c):c}}(e);return new Ge(i)}static fromUint8Array(e){const i=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const YR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(r){if(Ht(!!r,39018),typeof r=="string"){let e=0;const i=YR.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vr(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="server_timestamp",_0="__type__",v0="__previous_value__",E0="__local_write_time__";function lm(r){return(r?.mapValue?.fields||{})[_0]?.stringValue===y0}function Gc(r){const e=r.mapValue.fields[v0];return lm(e)?Gc(e):e}function go(r){const e=Ir(r.mapValue.fields[E0].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,i,s,o,c,f,m,g,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const wc="(default)";class yo{constructor(e,i){this.projectId=e,this.database=i||wc}static empty(){return new yo("","")}get isDefaultDatabase(){return this.database===wc}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="__type__",XR="__max__",lc={mapValue:{}},A0="__vector__",Cc="value";function xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lm(r)?4:ZR(r)?9007199254740991:$R(r)?10:11:_t(28295,{value:r})}function ui(r,e){if(r===e)return!0;const i=xr(r);if(i!==xr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return go(r).isEqual(go(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Ir(o.timestampValue),m=Ir(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Vr(o.bytesValue).isEqual(Vr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return me(o.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return me(o.integerValue)===me(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=me(o.doubleValue),m=me(c.doubleValue);return f===m?Rc(f)===Rc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Ns(r.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(N_(f)!==N_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ui(f[g],m[g])))return!1;return!0}(r,e);default:return _t(52216,{left:r})}}function _o(r,e){return(r.values||[]).find(i=>ui(i,e))!==void 0}function Ms(r,e){if(r===e)return 0;const i=xr(r),s=xr(e);if(i!==s)return Vt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,e.booleanValue);case 2:return function(c,f){const m=me(c.integerValue||c.doubleValue),g=me(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return M_(r.timestampValue,e.timestampValue);case 4:return M_(go(r),go(e));case 5:return Vd(r.stringValue,e.stringValue);case 6:return function(c,f){const m=Vr(c),g=Vr(f);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Vt(m[y],g[y]);if(E!==0)return E}return Vt(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Vt(me(c.latitude),me(f.latitude));return m!==0?m:Vt(me(c.longitude),me(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return U_(r.arrayValue,e.arrayValue);case 10:return function(c,f){const m=c.fields||{},g=f.fields||{},y=m[Cc]?.arrayValue,E=g[Cc]?.arrayValue,S=Vt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:U_(y,E)}(r.mapValue,e.mapValue);case 11:return function(c,f){if(c===lc.mapValue&&f===lc.mapValue)return 0;if(c===lc.mapValue)return 1;if(f===lc.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const R=Vd(g[S],E[S]);if(R!==0)return R;const L=Ms(m[g[S]],y[E[S]]);if(L!==0)return L}return Vt(g.length,E.length)}(r.mapValue,e.mapValue);default:throw _t(23264,{he:i})}}function M_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vt(r,e);const i=Ir(r),s=Ir(e),o=Vt(i.seconds,s.seconds);return o!==0?o:Vt(i.nanos,s.nanos)}function U_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ms(i[o],s[o]);if(c)return c}return Vt(i.length,s.length)}function Us(r){return xd(r)}function xd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Ir(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Vr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return mt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=xd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${xd(i.fields[f])}`;return o+"}"}(r.mapValue):_t(61005,{value:r})}function mc(r){switch(xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gc(r);return e?16+mc(e):16;case 5:return 2*r.stringValue.length;case 6:return Vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+mc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ca(s.fields,(c,f)=>{o+=c.length+mc(f)}),o}(r.mapValue);default:throw _t(13486,{value:r})}}function L_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Nd(r){return!!r&&"integerValue"in r}function om(r){return!!r&&"arrayValue"in r}function P_(r){return!!r&&"nullValue"in r}function z_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function pc(r){return!!r&&"mapValue"in r}function $R(r){return(r?.mapValue?.fields||{})[T0]?.stringValue===A0}function lo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ca(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=lo(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=lo(r.arrayValue.values[i]);return e}return{...r}}function ZR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!pc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=lo(i)}setAll(e){let i=He.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const g=this.getFieldsMap(i);this.applyChanges(g,s,o),s={},o=[],i=m.popLast()}f?s[m.lastSegment()]=lo(f):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ca(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new In(lo(this.value))}}function S0(r){const e=[];return Ca(r.fields,(i,s)=>{const o=new He([i]);if(pc(s)){const c=S0(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,i,s,o,c,f,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ze(e,0,At.min(),At.min(),At.min(),In.empty(),0)}static newFoundDocument(e,i,s,o){return new Ze(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,At.min(),At.min(),In.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,At.min(),At.min(),In.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,i){this.position=e,this.inclusive=i}}function k_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),i.key):s=Ms(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function B_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ui(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function JR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{}class Ee extends b0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new t2(e,i,s):i==="array-contains"?new i2(e,s):i==="in"?new r2(e,s):i==="not-in"?new a2(e,s):i==="array-contains-any"?new s2(e,s):new Ee(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new e2(e,s):new n2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ms(i,this.value)):i!==null&&xr(this.value)===xr(i)&&this.matchesComparison(Ms(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends b0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new kn(e,i)}matches(e){return R0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R0(r){return r.op==="and"}function w0(r){return WR(r)&&R0(r)}function WR(r){for(const e of r.filters)if(e instanceof kn)return!1;return!0}function Od(r){if(r instanceof Ee)return r.field.canonicalString()+r.op.toString()+Us(r.value);if(w0(r))return r.filters.map(e=>Od(e)).join(",");{const e=r.filters.map(i=>Od(i)).join(",");return`${r.op}(${e})`}}function C0(r,e){return r instanceof Ee?function(s,o){return o instanceof Ee&&s.op===o.op&&s.field.isEqual(o.field)&&ui(s.value,o.value)}(r,e):r instanceof kn?function(s,o){return o instanceof kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,m)=>c&&C0(f,o.filters[m]),!0):!1}(r,e):void _t(19439)}function D0(r){return r instanceof Ee?function(i){return`${i.field.canonicalString()} ${i.op} ${Us(i.value)}`}(r):r instanceof kn?function(i){return i.op.toString()+" {"+i.getFilters().map(D0).join(" ,")+"}"}(r):"Filter"}class t2 extends Ee{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class e2 extends Ee{constructor(e,i){super(e,"in",i),this.keys=I0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class n2 extends Ee{constructor(e,i){super(e,"not-in",i),this.keys=I0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function I0(r,e){return(e.arrayValue?.values||[]).map(i=>mt.fromName(i.referenceValue))}class i2 extends Ee{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return om(i)&&_o(i.arrayValue,this.value)}}class r2 extends Ee{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&_o(this.value.arrayValue,i)}}class a2 extends Ee{constructor(e,i){super(e,"not-in",i)}matches(e){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!_o(this.value.arrayValue,i)}}class s2 extends Ee{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!om(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>_o(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,i=null,s=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function j_(r,e=null,i=[],s=[],o=null,c=null,f=null){return new l2(r,e,i,s,o,c,f)}function um(r){const e=St(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Od(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Hc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Us(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Us(s)).join(",")),e.Te=i}return e.Te}function cm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!JR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!C0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!B_(r.startAt,e.startAt)&&B_(r.endAt,e.endAt)}function Md(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,i=null,s=[],o=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function o2(r,e,i,s,o,c,f,m){return new Do(r,e,i,s,o,c,f,m)}function hm(r){return new Do(r)}function q_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function V0(r){return r.collectionGroup!==null}function oo(r){const e=St(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new De(He.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ic(c,s))}),i.has(He.keyField().canonicalString())||e.Ie.push(new Ic(He.keyField(),s))}return e.Ie}function ai(r){const e=St(r);return e.Ee||(e.Ee=u2(e,oo(r))),e.Ee}function u2(r,e){if(r.limitType==="F")return j_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Ic(o.field,c)});const i=r.endAt?new Dc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dc(r.startAt.position,r.startAt.inclusive):null;return j_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Ud(r,e){const i=r.filters.concat([e]);return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Ld(r,e,i){return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Fc(r,e){return cm(ai(r),ai(e))&&r.limitType===e.limitType}function x0(r){return`${um(ai(r))}|lt:${r.limitType}`}function bs(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>D0(o)).join(", ")}]`),Hc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Us(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Us(o)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function Qc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):mt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of oo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const y=k_(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,oo(s),o)||s.endAt&&!function(f,m,g){const y=k_(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,oo(s),o))}(r,e)}function c2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function N0(r){return(e,i)=>{let s=!1;for(const o of oo(r)){const c=h2(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function h2(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):function(c,f,m){const g=f.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Ms(g,y):_t(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return p0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new se(mt.comparator);function Qi(){return f2}const O0=new se(mt.comparator);function io(...r){let e=O0;for(const i of r)e=e.insert(i.key,i);return e}function M0(r){let e=O0;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Ta(){return uo()}function U0(){return uo()}function uo(){return new Da(r=>r.toString(),(r,e)=>r.isEqual(e))}const d2=new se(mt.comparator),m2=new De(mt.comparator);function xt(...r){let e=m2;for(const i of r)e=e.add(i);return e}const p2=new De(Vt);function g2(){return p2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rc(e)?"-0":e}}function L0(r){return{integerValue:""+r}}function y2(r,e){return GR(e)?L0(e):fm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this._=void 0}}function _2(r,e,i){return r instanceof vo?function(o,c){const f={fields:{[_0]:{stringValue:y0},[E0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&lm(c)&&(c=Gc(c)),c&&(f.fields[v0]=c),{mapValue:f}}(i,e):r instanceof Eo?z0(r,e):r instanceof To?k0(r,e):function(o,c){const f=P0(o,c),m=H_(f)+H_(o.Ae);return Nd(f)&&Nd(o.Ae)?L0(m):fm(o.serializer,m)}(r,e)}function v2(r,e,i){return r instanceof Eo?z0(r,e):r instanceof To?k0(r,e):i}function P0(r,e){return r instanceof Vc?function(s){return Nd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class vo extends Yc{}class Eo extends Yc{constructor(e){super(),this.elements=e}}function z0(r,e){const i=B0(e);for(const s of r.elements)i.some(o=>ui(o,s))||i.push(s);return{arrayValue:{values:i}}}class To extends Yc{constructor(e){super(),this.elements=e}}function k0(r,e){let i=B0(e);for(const s of r.elements)i=i.filter(o=>!ui(o,s));return{arrayValue:{values:i}}}class Vc extends Yc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function H_(r){return me(r.integerValue||r.doubleValue)}function B0(r){return om(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,i){this.field=e,this.transform=i}}function T2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof To&&o instanceof To?Ns(s.elements,o.elements,ui):s instanceof Vc&&o instanceof Vc?ui(s.Ae,o.Ae):s instanceof vo&&o instanceof vo}(r.transform,e.transform)}class A2{constructor(e,i){this.version=e,this.transformResults=i}}class ji{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kc{}function j0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new H0(r.key,ji.none()):new Io(r.key,r.data,ji.none());{const i=r.data,s=In.empty();let o=new De(He.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Ia(r.key,s,new Pn(o.toArray()),ji.none())}}function S2(r,e,i){r instanceof Io?function(o,c,f){const m=o.value.clone(),g=F_(o.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,i):r instanceof Ia?function(o,c,f){if(!gc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=F_(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(q0(o)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,i):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,i)}function co(r,e,i,s){return r instanceof Io?function(c,f,m,g){if(!gc(c.precondition,f))return m;const y=c.value.clone(),E=Q_(c.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,i,s):r instanceof Ia?function(c,f,m,g){if(!gc(c.precondition,f))return m;const y=Q_(c.fieldTransforms,g,f),E=f.data;return E.setAll(q0(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,e,i,s):function(c,f,m){return gc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,i)}function b2(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=P0(s.transform,o||null);c!=null&&(i===null&&(i=In.empty()),i.set(s.field,c))}return i||null}function G_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ns(s,o,(c,f)=>T2(c,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Io extends Kc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ia extends Kc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function q0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function F_(r,e,i){const s=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],f=c.transform,m=e.data.field(c.field);s.set(c.field,v2(f,m,i[o]))}return s}function Q_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,f=i.data.field(o.field);s.set(o.field,_2(c,f,e))}return s}class H0 extends Kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R2 extends Kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&S2(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=co(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=co(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=U0();return this.mutations.forEach(o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=i.has(o.key)?null:m;const g=j0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),xt())}isEqual(e){return this.batchId===e.batchId&&Ns(this.mutations,e.mutations,(i,s)=>G_(i,s))&&Ns(this.baseMutations,e.baseMutations,(i,s)=>G_(i,s))}}class dm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ht(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return d2}();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new dm(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Lt;function I2(r){switch(r){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function G0(r){if(r===void 0)return Fi("GRPC error has no .code"),$.UNKNOWN;switch(r){case ve.OK:return $.OK;case ve.CANCELLED:return $.CANCELLED;case ve.UNKNOWN:return $.UNKNOWN;case ve.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ve.INTERNAL:return $.INTERNAL;case ve.UNAVAILABLE:return $.UNAVAILABLE;case ve.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ve.NOT_FOUND:return $.NOT_FOUND;case ve.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ve.ABORTED:return $.ABORTED;case ve.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ve.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:r})}}(Lt=ve||(ve={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new wr([4294967295,4294967295],0);function Y_(r){const e=V2().encode(r),i=new r0;return i.update(e),new Uint8Array(i.digest())}function K_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new wr([i,s],0),new wr([o,c],0)]}class mm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(s<0)throw new ro(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=wr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(wr.fromNumber(s)));return o.compare(x2)===1&&(o=new wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Y_(e),[s,o]=K_(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new mm(c,o,i);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const i=Y_(e),[s,o]=K_(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.Se(f)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Vo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Xc(At.min(),o,new se(Vt),Qi(),xt())}}class Vo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Vo(s,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class F0{constructor(e,i){this.targetId=e,this.Ce=i}}class Q0{constructor(e,i,s=Ge.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class X_{constructor(){this.ve=0,this.Fe=$_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xt(),i=xt(),s=xt();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:c})}}),new Vo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=$_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class N2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.Je=oc(),this.He=oc(),this.Ye=new se(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((s,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Md(c))if(s===0){const f=new mt(c.path);this.et(i,f,Ze.newNoDocument(f,At.min()))}else Ht(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let f,m;try{f=Vr(s).toUint8Array()}catch(g){if(g instanceof g0)return xs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new mm(f,o,c)}catch(g){return xs(g instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(i,c,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((c,f)=>{const m=this.ot(f);if(m){if(c.current&&Md(m.target)){const g=new mt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Ze.newNoDocument(g,e))}c.Be&&(i.set(f,c.ke()),c.qe())}});let s=xt();this.He.forEach((c,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.je.forEach((c,f)=>f.setReadTime(e));const o=new Xc(e,i,this.Ye,this.je,s);return this.je=Qi(),this.Je=oc(),this.He=oc(),this.Ye=new se(Vt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new X_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new De(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new De(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X_),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function oc(){return new se(mt.comparator)}function $_(){return new se(mt.comparator)}const O2={asc:"ASCENDING",desc:"DESCENDING"},M2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U2={and:"AND",or:"OR"};class L2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Pd(r,e){return r.useProto3Json||Hc(e)?e:{value:e}}function xc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function P2(r,e){return xc(r,e.toTimestamp())}function si(r){return Ht(!!r,49232),At.fromTimestamp(function(i){const s=Ir(i);return new ee(s.seconds,s.nanos)}(r))}function pm(r,e){return zd(r,e).canonicalString()}function zd(r,e){const i=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function K0(r){const e=te.fromString(r);return Ht(W0(e),10190,{key:e.toString()}),e}function kd(r,e){return pm(r.databaseId,e.path)}function gd(r,e){const i=K0(e);if(i.get(1)!==r.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt($0(i))}function X0(r,e){return pm(r.databaseId,e)}function z2(r){const e=K0(r);return e.length===4?te.emptyPath():$0(e)}function Bd(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Z_(r,e,i){return{name:kd(r,e),fields:i.value.mapValue.fields}}function k2(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Ge.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ge.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?$.UNKNOWN:G0(y.code);return new ot(E,y.message||"")}(f);i=new Q0(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gd(r,s.document.name),c=si(s.document.updateTime),f=s.document.createTime?si(s.document.createTime):At.min(),m=new In({mapValue:{fields:s.document.fields}}),g=Ze.newFoundDocument(o,c,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new yc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gd(r,s.document),c=s.readTime?si(s.readTime):At.min(),f=Ze.newNoDocument(o,c),m=s.removedTargetIds||[];i=new yc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gd(r,s.document),c=s.removedTargetIds||[];i=new yc([],c,o,null)}else{if(!("filter"in e))return _t(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new D2(o,c),m=s.targetId;i=new F0(m,f)}}return i}function B2(r,e){let i;if(e instanceof Io)i={update:Z_(r,e.key,e.value)};else if(e instanceof H0)i={delete:kd(r,e.key)};else if(e instanceof Ia)i={update:Z_(r,e.key,e.data),updateMask:X2(e.fieldMask)};else{if(!(e instanceof R2))return _t(16599,{Vt:e.type});i={verify:kd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof vo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Eo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof To)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vc)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _t(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:P2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)}(r,e.precondition)),i}function j2(r,e){return r&&r.length>0?(Ht(e!==void 0,14353),r.map(i=>function(o,c){let f=o.updateTime?si(o.updateTime):si(c);return f.isEqual(At.min())&&(f=si(c)),new A2(f,o.transformResults||[])}(i,e))):[]}function q2(r,e){return{documents:[X0(r,e.path)]}}function H2(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=X0(r,o);const c=function(y){if(y.length!==0)return J0(kn.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const f=function(y){if(y.length!==0)return y.map(E=>function(R){return{field:Rs(R.field),direction:Q2(R.dir)}}(E))}(e.orderBy);f&&(i.structuredQuery.orderBy=f);const m=Pd(r,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:i,parent:o}}function G2(r){let e=z2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(S){const R=Z0(S);return R instanceof kn&&w0(R)?R.getFilters():[R]}(i.where));let f=[];i.orderBy&&(f=function(S){return S.map(R=>function(F){return new Ic(ws(F.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(R))}(i.orderBy));let m=null;i.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,Hc(R)?null:R}(i.limit));let g=null;i.startAt&&(g=function(S){const R=!!S.before,L=S.values||[];return new Dc(L,R)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const R=!S.before,L=S.values||[];return new Dc(L,R)}(i.endAt)),o2(e,o,f,c,m,"F",g,y)}function F2(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Z0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ws(i.unaryFilter.field);return Ee.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ws(i.unaryFilter.field);return Ee.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ws(i.unaryFilter.field);return Ee.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ws(i.unaryFilter.field);return Ee.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ee.create(ws(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return kn.create(i.compositeFilter.filters.map(s=>Z0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(i.compositeFilter.op))}(r):_t(30097,{filter:r})}function Q2(r){return O2[r]}function Y2(r){return M2[r]}function K2(r){return U2[r]}function Rs(r){return{fieldPath:r.canonicalString()}}function ws(r){return He.fromServerFormat(r.fieldPath)}function J0(r){return r instanceof Ee?function(i){if(i.op==="=="){if(z_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NAN"}};if(P_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(z_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NOT_NAN"}};if(P_(i.value))return{unaryFilter:{field:Rs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(i.field),op:Y2(i.op),value:i.value}}}(r):r instanceof kn?function(i){const s=i.getFilters().map(o=>J0(o));return s.length===1?s[0]:{compositeFilter:{op:K2(i.op),filters:s}}}(r):_t(54877,{filter:r})}function X2(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function W0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,i,s,o,c=At.min(),f=At.min(),m=Ge.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.yt=e}}function Z2(r){const e=G2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Cn=new W2}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Dr.min())}updateCollectionGroup(e,i,s){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class W2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new De(te.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new De(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tE=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(tE,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ls(0)}static cr(){return new Ls(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="LruGarbageCollector",tw=1048576;function tv([r,e],[i,s]){const o=Vt(r,i);return o===0?Vt(e,s):o}class ew{constructor(e){this.Ir=e,this.buffer=new De(tv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();tv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class nw{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(W_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){qs(i)?ut(W_,"Ignoring IndexedDB error during garbage collection: ",i):await js(i)}await this.Vr(3e5)})}}class iw{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return J.resolve(qc.ce);const s=new ew(i);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(J_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,i))).next(S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),Ss()<=Pt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function rw(r,e){return new iw(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.changes=new Da(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&co(s.mutation,o,Pn.empty(),ee.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,xt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=xt()){const o=Ta();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let f=io();return c.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,i){const s=Ta();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,xt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((f,m)=>{i.set(f,m)})})}computeViews(e,i,s,o){let c=Qi();const f=uo(),m=function(){return uo()}();return i.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ia)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),co(E.mutation,y,E.mutation.getFieldMask(),ee.now())):f.set(y.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,E)=>f.set(y,E)),i.forEach((y,E)=>m.set(y,new sw(E,f.get(y)??null))),m))}recalculateAndSaveOverlays(e,i){const s=uo();let o=new se((f,m)=>f-m),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=i.get(g);if(y===null)return;let E=s.get(g)||Pn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||xt()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=U0();E.forEach(R=>{if(!c.has(R)){const L=j0(i.get(R),s.get(R));L!==null&&S.set(R,L),c=c.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):V0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):J.resolve(Ta());let m=po,g=c;return f.next(y=>J.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{g=g.insert(E,R)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,xt())).next(E=>({batchId:m,changes:M0(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next(s=>{let o=io();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let f=io();return this.indexManager.getCollectionParents(e,c).next(m=>J.forEach(m,g=>{const y=function(S,R){return new Do(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,R)=>{f=f.insert(S,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(f=>{c.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ze.newInvalidDocument(E)))});let m=io();return f.forEach((g,y)=>{const E=c.get(g);E!==void 0&&co(E.mutation,y,Pn.empty(),ee.now()),Qc(i,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}}(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:Z2(o.bundledQuery),readTime:si(o.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.overlays=new se(mt.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ta();return J.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.St(e,i,c)}),J.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,i,s){const o=Ta(),c=i.length+1,f=new mt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new se((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Ta(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ta(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return J.resolve(m)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new C2(i,s));let c=this.qr.get(i);c===void 0&&(c=xt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.Qr=new De(Ue.$r),this.Ur=new De(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ue(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach(s=>this.removeReference(s,i))}jr(e){const i=new mt(new te([])),s=new Ue(i,e),o=new Ue(i,e+1),c=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),c.push(f.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new te([])),s=new Ue(i,e),o=new Ue(i,e+1);let c=xt();return this.Ur.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(e){const i=new Ue(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new De(Ue.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new w2(c,i,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ue(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?sm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);c.push(m)}),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new De(Vt);return i.forEach(o=>{const c=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],m=>{s=s.add(m.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;mt.isDocumentKey(c)||(c=c.child(""));const f=new Ue(new mt(c),0);let m=new De(Vt);return this.Zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)},f),J.resolve(this.ti(m))}ti(e){const i=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(i.mutations,o=>{const c=new Ue(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,i){const s=new Ue(i,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.ri=e,this.docs=function(){return new se(mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let s=Qi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ze.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Qi();const f=i.path,m=new mt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||BR(kR(E),s)<=0||(o.has(E.key)||Qc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,s,o){_t(9500)}ii(e,i){return J.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new dw(this)}getSize(e){return J.resolve(this.size)}}class dw extends aw{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.persistence=e,this.si=new Da(i=>um(i),cm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new gm,this.targetCount=0,this.ai=Ls.ur()}forEachTarget(e,i){return this.si.forEach((s,o)=>i(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ls(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(c).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return J.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),J.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return J.resolve(s)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,i){this.ui={},this.overlays={},this.ci=new qc(0),this.li=!1,this.li=!0,this.hi=new cw,this.referenceDelegate=e(this),this.Pi=new mw(this),this.indexManager=new J2,this.remoteDocumentCache=function(o){return new fw(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new $2(i),this.Ii=new ow(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new uw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new hw(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new pw(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,i){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,i)))}}class pw extends qR{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.Ri=new gm,this.Vi=null}static mi(e){return new ym(e)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),J.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const o=mt.fromPath(s);return this.gi(e,o).next(c=>{c||i.removeEntry(o,At.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Nc{constructor(e,i){this.persistence=e,this.pi=new Da(s=>FR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=rw(this,i)}static mi(e,i){return new Nc(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}wr(e){let i=0;return this.pr(e,s=>{i++}).next(()=>i)}pr(e,i){return J.forEach(this.pi,(s,o)=>this.br(e,s,o).next(c=>c?J.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,i).next(m=>{m||(s++,c.removeEntry(f,At.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=mc(e.data.value)),i}br(e,i,s){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=xt(),o=xt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new _m(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return sb()?8:HR(rb())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ws(e,i,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new gw;return this.Ss(e,i,f).next(m=>{if(c.result=m,this.Vs)return this.bs(e,i,f,m.size)})}).next(()=>c.result)}bs(e,i,s,o){return s.documentReadCount<this.fs?(Ss()<=Pt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",bs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ss()<=Pt.DEBUG&&ut("QueryEngine","Query:",bs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ss()<=Pt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",bs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(i))):J.resolve())}ys(e,i){if(q_(i))return J.resolve(null);let s=ai(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Ld(i,null,"F"),s=ai(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=xt(...c);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.Ds(i,m);return this.Cs(i,y,f,g.readTime)?this.ys(e,Ld(i,null,"F")):this.vs(e,y,i,g)}))})))}ws(e,i,s,o){return q_(i)||o.isEqual(At.min())?J.resolve(null):this.ps.getDocuments(e,s).next(c=>{const f=this.Ds(i,c);return this.Cs(i,f,s,o)?J.resolve(null):(Ss()<=Pt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bs(i)),this.vs(e,f,i,zR(o,po)).next(m=>m))})}Ds(e,i){let s=new De(N0(e));return i.forEach((o,c)=>{Qc(e,c)&&(s=s.add(c))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return Ss()<=Pt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",bs(i)),this.ps.getDocumentsMatchingQuery(e,i,Dr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="LocalStore",_w=3e8;class vw{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new se(Vt),this.xs=new Da(c=>um(c),cm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function Ew(r,e,i,s){return new vw(r,e,i,s)}async function nE(r,e){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let g=xt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(s,g).next(y=>({Ls:y,removedBatchIds:f,addedBatchIds:m}))})})}function Tw(r,e){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const S=y.batch,R=S.keys();let L=J.resolve();return R.forEach(F=>{L=L.next(()=>E.getEntry(g,F)).next(W=>{const H=y.docVersions.get(F);Ht(H!==null,48541),W.version.compareTo(H)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=xt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function iE(r){const e=St(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function Aw(r,e){const i=St(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];e.targetChanges.forEach((E,S)=>{const R=o.get(S);if(!R)return;m.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S)));let L=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Ge.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(S,L),function(W,H,rt){return W.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=_w?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0}(R,L,E)&&m.push(i.Pi.updateTargetData(c,L))});let g=Qi(),y=xt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(Sw(c,f,e.documentUpdates).next(E=>{g=E.ks,y=E.qs})),!s.isEqual(At.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next(S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(i.Ms=o,c))}function Sw(r,e,i){let s=xt(),o=xt();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=Qi();return i.forEach((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(At.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ut(vm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{ks:f,qs:o}})}function bw(r,e){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=sm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Rw(r,e){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Pi.getTargetData(s,e).next(c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(s).next(f=>(o=new Sr(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s})}async function jd(r,e,i){const s=St(r),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!qs(f))throw f;ut(vm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ev(r,e,i){const s=St(r);let o=At.min(),c=xt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const S=St(g),R=S.xs.get(E);return R!==void 0?J.resolve(S.Ms.get(R)):S.Pi.getTargetData(y,E)}(s,f,ai(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(g=>{c=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,i?o:At.min(),i?c:xt())).next(m=>(ww(s,c2(e),m),{documents:m,Qs:c})))}function ww(r,e,i){let s=r.Os.get(e)||At.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Os.set(e,s)}class nv{constructor(){this.activeTargetIds=g2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cw{constructor(){this.Mo=new nv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="ConnectivityMonitor";class rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(iv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function qd(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="RestConnection",Iw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===wc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const f=qd(),m=this.zo(e,i.toUriEncodedString());ut(yd,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(m),E=em(y);return this.Jo(e,m,g,s,E).then(S=>(ut(yd,`Received RPC '${e}' ${f}: `,S),S),S=>{throw xs(yd,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S})}Ho(e,i,s,o,c,f){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}zo(e,i){const s=Iw[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class Nw extends Vw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const f=qd();return new Promise((m,g)=>{const y=new a0;y.setWithCredentials(!0),y.listenOnce(s0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case dc.NO_ERROR:const S=y.getResponseJson();ut(Ke,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case dc.TIMEOUT:ut(Ke,`RPC '${e}' ${f} timed out`),g(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const R=y.getStatus();if(ut(Ke,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const F=L?.error;if(F&&F.status&&F.message){const W=function(rt){const et=rt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(et)>=0?et:$.UNKNOWN}(F.status);g(new ot(W,F.message))}else g(new ot($.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ot($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(Ke,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ut(Ke,`RPC '${e}' ${f} sending request:`,o),y.send(i,"POST",E,s,15)})}T_(e,i,s){const o=qd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=u0(),m=o0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const E=c.join("");ut(Ke,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let R=!1,L=!1;const F=new xw({Yo:H=>{L?ut(Ke,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(R||(ut(Ke,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),ut(Ke,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Zo:()=>S.close()}),W=(H,rt,et)=>{H.listen(rt,nt=>{try{et(nt)}catch(Tt){setTimeout(()=>{throw Tt},0)}})};return W(S,no.EventType.OPEN,()=>{L||(ut(Ke,`RPC '${e}' stream ${o} transport opened.`),F.o_())}),W(S,no.EventType.CLOSE,()=>{L||(L=!0,ut(Ke,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(S))}),W(S,no.EventType.ERROR,H=>{L||(L=!0,xs(Ke,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),F.a_(new ot($.UNAVAILABLE,"The operation could not be completed")))}),W(S,no.EventType.MESSAGE,H=>{if(!L){const rt=H.data[0];Ht(!!rt,16349);const et=rt,nt=et?.error||et[0]?.error;if(nt){ut(Ke,`RPC '${e}' stream ${o} received error:`,nt);const Tt=nt.status;let ft=function(b){const C=ve[b];if(C!==void 0)return G0(C)}(Tt),Nt=nt.message;ft===void 0&&(ft=$.INTERNAL,Nt="Unknown error status: "+Tt+" with message "+nt.message),L=!0,F.a_(new ot(ft,Nt)),S.close()}else ut(Ke,`RPC '${e}' stream ${o} received:`,rt),F.u_(rt)}}),W(m,l0.STAT_EVENT,H=>{H.stat===Id.PROXY?ut(Ke,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Id.NOPROXY&&ut(Ke,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.__()},0),F}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(r){return new L2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="PersistentStream";class aE{constructor(e,i,s,o,c,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===i&&this.G_(s,o)},s=>{e(()=>{const o=new ot($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ut(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(ut(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ow extends aE{constructor(e,i,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=k2(this.serializer,e),s=function(c){if(!("targetChange"in c))return At.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?si(f.readTime):At.min()}(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Bd(this.serializer),i.addTarget=function(c,f){let m;const g=f.target;if(m=Md(g)?{documents:q2(c,g)}:{query:H2(c,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Y0(c,f.resumeToken);const y=Pd(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=xc(c,f.snapshotVersion.toTimestamp());const y=Pd(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=F2(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Bd(this.serializer),i.removeTarget=e,this.q_(i)}}class Mw extends aE{constructor(e,i,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=j2(e.writeResults,e.commitTime),s=si(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Bd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>B2(this.serializer,s))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{}class Lw extends Uw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Go(e,zd(i,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot($.UNKNOWN,c.toString())})}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,zd(i,s),o,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot($.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Pw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class zw{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Va(this)&&(ut(ba,"Restarting streams for network reachability change."),await async function(g){const y=St(g);y.Ea.add(4),await xo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Zc(y)}(this))})}),this.Ra=new Pw(s,o)}}async function Zc(r){if(Va(r))for(const e of r.da)await e(!0)}async function xo(r){for(const e of r.da)await e(!1)}function sE(r,e){const i=St(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Sm(i)?Am(i):Hs(i).O_()&&Tm(i,e))}function Em(r,e){const i=St(r),s=Hs(i);i.Ia.delete(e),s.O_()&&lE(i,e),i.Ia.size===0&&(s.O_()?s.L_():Va(i)&&i.Ra.set("Unknown"))}function Tm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Hs(r).Y_(e)}function lE(r,e){r.Va.Ue(e),Hs(r).Z_(e)}function Am(r){r.Va=new N2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Hs(r).start(),r.Ra.ua()}function Sm(r){return Va(r)&&!Hs(r).x_()&&r.Ia.size>0}function Va(r){return St(r).Ea.size===0}function oE(r){r.Va=void 0}async function kw(r){r.Ra.set("Online")}async function Bw(r){r.Ia.forEach((e,i)=>{Tm(r,e)})}async function jw(r,e){oE(r),Sm(r)?(r.Ra.ha(e),Am(r)):r.Ra.set("Unknown")}async function qw(r,e,i){if(r.Ra.set("Online"),e instanceof Q0&&e.state===2&&e.cause)try{await async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){ut(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oc(r,s)}else if(e instanceof yc?r.Va.Ze(e):e instanceof F0?r.Va.st(e):r.Va.tt(e),!i.isEqual(At.min()))try{const s=await iE(r.localStore);i.compareTo(s)>=0&&await function(c,f){const m=c.Va.Tt(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(Ge.EMPTY_BYTE_STRING,E.snapshotVersion)),lE(c,g);const S=new Sr(E.target,g,y,E.sequenceNumber);Tm(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){ut(ba,"Failed to raise snapshot:",s),await Oc(r,s)}}async function Oc(r,e,i){if(!qs(e))throw e;r.Ea.add(1),await xo(r),r.Ra.set("Offline"),i||(i=()=>iE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ut(ba,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Zc(r)})}function uE(r,e){return e().catch(i=>Oc(r,i,e))}async function Jc(r){const e=St(r),i=Nr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sm;for(;Hw(e);)try{const o=await bw(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,Gw(e,o)}catch(o){await Oc(e,o)}cE(e)&&hE(e)}function Hw(r){return Va(r)&&r.Ta.length<10}function Gw(r,e){r.Ta.push(e);const i=Nr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function cE(r){return Va(r)&&!Nr(r).x_()&&r.Ta.length>0}function hE(r){Nr(r).start()}async function Fw(r){Nr(r).ra()}async function Qw(r){const e=Nr(r);for(const i of r.Ta)e.ea(i.mutations)}async function Yw(r,e,i){const s=r.Ta.shift(),o=dm.from(s,e,i);await uE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Jc(r)}async function Kw(r,e){e&&Nr(r).X_&&await async function(s,o){if(function(f){return I2(f)&&f!==$.ABORTED}(o.code)){const c=s.Ta.shift();Nr(s).B_(),await uE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Jc(s)}}(r,e),cE(r)&&hE(r)}async function sv(r,e){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ut(ba,"RemoteStore received new credentials");const s=Va(i);i.Ea.add(3),await xo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Zc(i)}async function Xw(r,e){const i=St(r);e?(i.Ea.delete(2),await Zc(i)):e||(i.Ea.add(2),await xo(i),i.Ra.set("Unknown"))}function Hs(r){return r.ma||(r.ma=function(i,s,o){const c=St(i);return c.sa(),new Ow(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:kw.bind(null,r),t_:Bw.bind(null,r),r_:jw.bind(null,r),H_:qw.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Sm(r)?Am(r):r.Ra.set("Unknown")):(await r.ma.stop(),oE(r))})),r.ma}function Nr(r){return r.fa||(r.fa=function(i,s,o){const c=St(i);return c.sa(),new Mw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Fw.bind(null,r),r_:Kw.bind(null,r),ta:Qw.bind(null,r),na:Yw.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Jc(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(ba,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const f=Date.now()+s,m=new bm(e,i,f,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rm(r,e){if(Fi("AsyncQueue",`${e}: ${r}`),qs(r))return new ot($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static emptySet(e){return new Ds(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=io(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.ga=new se(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_t(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ps{constructor(e,i,s,o,c,f,m,g,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const f=[];return i.forEach(m=>{f.push({type:0,doc:m})}),new Ps(e,i,Ds.emptySet(i),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Zw{constructor(){this.queries=ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=St(i),c=o.queries;o.queries=ov(),c.forEach((f,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new ot($.ABORTED,"Firestore shutting down"))}}function ov(){return new Da(r=>x0(r),Fc)}async function fE(r,e){const i=St(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new $w,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Rm(f,`Initialization of query '${bs(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&wm(i)}async function dE(r,e){const i=St(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Jw(r,e){const i=St(r);let s=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&wm(i)}function Ww(r,e,i){const s=St(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function wm(r){r.Ca.forEach(e=>{e.next()})}var Hd,uv;(uv=Hd||(Hd={})).Ma="default",uv.Cache="cache";class mE{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ps(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.key=e}}class gE{constructor(e){this.key=e}}class tC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=N0(e),this.tu=new Ds(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new lv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const R=o.get(E),L=Qc(this.query,S)?S:null,F=!!R&&this.mutatedKeys.has(R.key),W=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;R&&L?R.data.isEqual(L.data)?F!==W&&(s.track({type:3,doc:L}),H=!0):this.su(R,L)||(s.track({type:2,doc:L}),H=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(m=!0)):!R&&L?(s.track({type:0,doc:L}),H=!0):R&&!L&&(s.track({type:1,doc:R}),H=!0,(g||y)&&(m=!0)),H&&(L?(f=f.add(L),c=W?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,S)=>function(L,F){const W=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:H})}};return W(L)-W(F)}(E.type,S.type)||this.eu(E.doc,S.doc)),this.ou(s),o=o??!1;const m=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new Ps(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return e.forEach(s=>{this.Xa.has(s)||i.push(new gE(s))}),this.Xa.forEach(s=>{e.has(s)||i.push(new pE(s))}),i}cu(e){this.Ya=e.Qs,this.Xa=xt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ps.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cm="SyncEngine";class eC{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class nC{constructor(e){this.key=e,this.hu=!1}}class iC{constructor(e,i,s,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Da(m=>x0(m),Fc),this.Iu=new Map,this.Eu=new Set,this.du=new se(mt.comparator),this.Au=new Map,this.Ru=new gm,this.Vu={},this.mu=new Map,this.fu=Ls.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rC(r,e,i=!0){const s=AE(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await yE(s,e,i,!0),o}async function aC(r,e){const i=AE(r);await yE(i,e,!0,!1)}async function yE(r,e,i,s){const o=await Rw(r.localStore,ai(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await sC(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&sE(r.remoteStore,o),m}async function sC(r,e,i,s,o){r.pu=(S,R,L)=>async function(W,H,rt,et){let nt=H.view.ru(rt);nt.Cs&&(nt=await ev(W.localStore,H.query,!1).then(({documents:N})=>H.view.ru(N,nt)));const Tt=et&&et.targetChanges.get(H.targetId),ft=et&&et.targetMismatches.get(H.targetId)!=null,Nt=H.view.applyChanges(nt,W.isPrimaryClient,Tt,ft);return hv(W,H.targetId,Nt.au),Nt.snapshot}(r,S,R,L);const c=await ev(r.localStore,e,!0),f=new tC(e,c.Qs),m=f.ru(c.documents),g=Vo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);hv(r,i,y.au);const E=new eC(e,i,f);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function lC(r,e,i){const s=St(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter(f=>!Fc(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Em(s.remoteStore,o.targetId),Gd(s,o.targetId)}).catch(js)):(Gd(s,o.targetId),await jd(s.localStore,o.targetId,!0))}async function oC(r,e){const i=St(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Em(i.remoteStore,s.targetId))}async function uC(r,e,i){const s=gC(r);try{const o=await function(f,m){const g=St(f),y=ee.now(),E=m.reduce((L,F)=>L.add(F.key),xt());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let F=Qi(),W=xt();return g.Ns.getEntries(L,E).next(H=>{F=H,F.forEach((rt,et)=>{et.isValidDocument()||(W=W.add(rt))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,F)).next(H=>{S=H;const rt=[];for(const et of m){const nt=b2(et,S.get(et.key).overlayedDocument);nt!=null&&rt.push(new Ia(et.key,nt,S0(nt.value.mapValue),ji.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,rt,m)}).next(H=>{R=H;const rt=H.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(L,H.batchId,rt)})}).then(()=>({batchId:R.batchId,changes:M0(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new se(Vt)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y}(s,o.batchId,i),await No(s,o.changes),await Jc(s.remoteStore)}catch(o){const c=Rm(o,"Failed to persist write");i.reject(c)}}async function _E(r,e){const i=St(r);try{const s=await Aw(i.localStore,e);e.targetChanges.forEach((o,c)=>{const f=i.Au.get(c);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ht(f.hu,14607):o.removedDocuments.size>0&&(Ht(f.hu,42227),f.hu=!1))}),await No(i,s,e)}catch(s){await js(s)}}function cv(r,e,i){const s=St(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=St(f);g.onlineState=m;let y=!1;g.queries.forEach((E,S)=>{for(const R of S.Sa)R.va(m)&&(y=!0)}),y&&wm(g)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function cC(r,e,i){const s=St(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let f=new se(mt.comparator);f=f.insert(c,Ze.newNoDocument(c,At.min()));const m=xt().add(c),g=new Xc(At.min(),new Map,new se(Vt),f,m);await _E(s,g),s.du=s.du.remove(c),s.Au.delete(e),Dm(s)}else await jd(s.localStore,e,!1).then(()=>Gd(s,e,i)).catch(js)}async function hC(r,e){const i=St(r),s=e.batch.batchId;try{const o=await Tw(i.localStore,e);EE(i,s,null),vE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await No(i,o)}catch(o){await js(o)}}async function fC(r,e,i){const s=St(r);try{const o=await function(f,m){const g=St(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(S=>(Ht(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);EE(s,e,i),vE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await No(s,o)}catch(o){await js(o)}}function vE(r,e){(r.mu.get(e)||[]).forEach(i=>{i.resolve()}),r.mu.delete(e)}function EE(r,e,i){const s=St(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Gd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||TE(r,s)})}function TE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Em(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Dm(r))}function hv(r,e,i){for(const s of i)s instanceof pE?(r.Ru.addReference(s.key,e),dC(r,s)):s instanceof gE?(ut(Cm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||TE(r,s.key)):_t(19791,{wu:s})}function dC(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ut(Cm,"New document in limbo: "+i),r.Eu.add(s),Dm(r))}function Dm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new mt(te.fromString(e)),s=r.fu.next();r.Au.set(s,new nC(i)),r.du=r.du.insert(i,s),sE(r.remoteStore,new Sr(ai(hm(i.path)),s,"TargetPurposeLimboResolution",qc.ce))}}async function No(r,e,i){const s=St(r),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,g)=>{f.push(s.pu(g,e,i).then(y=>{if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=_m.As(g.targetId,y);c.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(g,y){const E=St(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(y,R=>J.forEach(R.Es,L=>E.persistence.referenceDelegate.addReference(S,R.targetId,L)).next(()=>J.forEach(R.ds,L=>E.persistence.referenceDelegate.removeReference(S,R.targetId,L)))))}catch(S){if(!qs(S))throw S;ut(vm,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const L=E.Ms.get(R),F=L.snapshotVersion,W=L.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(R,W)}}}(s.localStore,c))}async function mC(r,e){const i=St(r);if(!i.currentUser.isEqual(e)){ut(Cm,"User change. New user:",e.toKey());const s=await nE(i.localStore,e);i.currentUser=e,function(c,f){c.mu.forEach(m=>{m.forEach(g=>{g.reject(new ot($.CANCELLED,f))})}),c.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await No(i,s.Ls)}}function pC(r,e){const i=St(r),s=i.Au.get(e);if(s&&s.hu)return xt().add(s.key);{let o=xt();const c=i.Iu.get(e);if(!c)return o;for(const f of c){const m=i.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function AE(r){const e=St(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cC.bind(null,e),e.Pu.H_=Jw.bind(null,e.eventManager),e.Pu.yu=Ww.bind(null,e.eventManager),e}function gC(r){const e=St(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fC.bind(null,e),e}class Mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$c(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Ew(this.persistence,new yw,e.initialUser,this.serializer)}Cu(e){return new eE(ym.mi,this.serializer)}Du(e){return new Cw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mc.provider={build:()=>new Mc};class yC extends Mc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof Nc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nw(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new eE(s=>Nc.mi(s,i),this.serializer)}}class Fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mC.bind(null,this.syncEngine),await Xw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zw}()}createDatastore(e){const i=$c(e.databaseInfo.databaseId),s=function(c){return new Nw(c)}(e.databaseInfo);return function(c,f,m,g){return new Lw(c,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,f,m){return new zw(s,o,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,i=>cv(this.syncEngine,i,0),function(){return rv.v()?new rv:new Dw}())}createSyncEngine(e,i){return function(o,c,f,m,g,y,E){const S=new iC(o,c,f,m,g,y);return E&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const s=St(i);ut(ba,"RemoteStore shutting down."),s.Ea.add(5),await xo(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fd.provider={build:()=>new Fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="FirestoreClient";class _C{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ut(Or,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ut(Or,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Rm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function vd(r,e){r.asyncQueue.verifyOperationInProgress(),ut(Or,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await nE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function fv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await vC(r);ut(Or,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>sv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>sv(e.remoteStore,o)),r._onlineComponents=e}async function vC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(Or,"Using user provided OfflineComponentProvider");try{await vd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;xs("Error using user provided cache. Falling back to memory cache: "+i),await vd(r,new Mc)}}else ut(Or,"Using default OfflineComponentProvider"),await vd(r,new yC(void 0));return r._offlineComponents}async function bE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(Or,"Using user provided OnlineComponentProvider"),await fv(r,r._uninitializedComponentsProvider._online)):(ut(Or,"Using default OnlineComponentProvider"),await fv(r,new Fd))),r._onlineComponents}function EC(r){return bE(r).then(e=>e.syncEngine)}async function RE(r){const e=await bE(r),i=e.eventManager;return i.onListen=rC.bind(null,e.syncEngine),i.onUnlisten=lC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=aC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=oC.bind(null,e.syncEngine),i}function TC(r,e,i={}){const s=new Bi;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,m,g,y){const E=new SE({next:R=>{E.Nu(),f.enqueueAndForget(()=>dE(c,S));const L=R.docs.has(m);!L&&R.fromCache?y.reject(new ot($.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&R.fromCache&&g&&g.source==="server"?y.reject(new ot($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new mE(hm(m.path),E,{includeMetadataChanges:!0,qa:!0});return fE(c,S)}(await RE(r),r.asyncQueue,e,i,s)),s.promise}function AC(r,e,i={}){const s=new Bi;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,m,g,y){const E=new SE({next:R=>{E.Nu(),f.enqueueAndForget(()=>dE(c,S)),R.fromCache&&g.source==="server"?y.reject(new ot($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new mE(m,E,{includeMetadataChanges:!0,qa:!0});return fE(c,S)}(await RE(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="firestore.googleapis.com",mv=!0;class pv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CE,this.ssl=mv}else this.host=e.host,this.ssl=e.ssl??mv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tw)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wE(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new CR;switch(s.type){case"firstParty":return new xR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=dv.get(i);s&&(ut("ComponentProvider","Removing Datastore"),dv.delete(i),s.terminate())}(this),Promise.resolve()}}function SC(r,e,i,s={}){r=Os(r,Wc);const o=em(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${i}`;o&&(WS(`https://${m}`),ib("Firestore",!0)),c.host!==CE&&c.host!==m&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:s};if(!Ac(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$e.MOCK_USER;else{y=tb(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(S)}r._authCredentials=new DR(new h0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class Ce{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ce(this.firestore,e,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Co(i,Ce._jsonSchema))return new Ce(e,s||null,new mt(te.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Te("string",Ce._jsonSchemaVersion),referencePath:Te("string")};class Cr extends Gs{constructor(e,i,s){super(e,i,hm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ce(this.firestore,null,new mt(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function DE(r,e,...i){if(r=Vs(r),f0("collection","path",e),r instanceof Wc){const s=te.fromString(e,...i);return D_(s),new Cr(r,null,s)}{if(!(r instanceof Ce||r instanceof Cr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return D_(s),new Cr(r.firestore,null,s)}}function IE(r,e,...i){if(r=Vs(r),arguments.length===1&&(e=am.newId()),f0("doc","path",e),r instanceof Wc){const s=te.fromString(e,...i);return C_(s),new Ce(r,null,new mt(s))}{if(!(r instanceof Ce||r instanceof Cr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return C_(s),new Ce(r.firestore,r instanceof Cr?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="AsyncQueue";class yv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rE(this,"async_queue_retry"),this._c=()=>{const s=_d();s&&ut(gv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Bi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qs(e))throw e;ut(gv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",_v(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=bm.createAndSchedule(this,e,i,s,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:_v(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function _v(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class th extends Wc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new yv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yv(e),this._firestoreClient=void 0,await e}}}function Im(r,e){const i=typeof r=="object"?r:dR(),s=typeof r=="string"?r:wc,o=oR(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=ZS("firestore");c&&SC(o,...c)}return o}function Vm(r){if(r._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bC(r),r._firestoreClient}function bC(r){const e=r._freezeSettings(),i=function(o,c,f,m){return new KR(o,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,wE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new _C(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Ge.fromBase64String(e))}catch(i){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Vn(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Co(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Te("string",Vn._jsonSchemaVersion),bytes:Te("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(Co(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:Te("string",li._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Co(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new oi(e.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Te("string",oi._jsonSchemaVersion),vectorValues:Te("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^__.*__$/;class wC{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ia(e,this.data,this.fieldMask,i,this.fieldTransforms):new Io(e,this.data,i,this.fieldTransforms)}}function VE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class Om{constructor(e,i,s,o,c,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Om({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VE(this.Ac)&&RC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CC{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||$c(e)}Cc(e,i,s,o=!1){return new Om({Ac:e,methodName:i,Dc:s,path:He.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xE(r){const e=r._freezeSettings(),i=$c(r._databaseId);return new CC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function DC(r,e,i,s,o,c={}){const f=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);ME("Data must be an object, but it was:",f,s);const m=NE(s,f);let g,y;if(c.merge)g=new Pn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const R=VC(e,S,i);if(!f.contains(R))throw new ot($.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);NC(E,R)||E.push(R)}g=new Pn(E),y=f.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=f.fieldTransforms;return new wC(new In(m),g,y)}class Mm extends Nm{_toFieldTransform(e){return new E2(e.path,new vo)}isEqual(e){return e instanceof Mm}}function IC(r,e,i,s=!1){return Um(i,r.Cc(s?4:3,e))}function Um(r,e){if(OE(r=Vs(r)))return ME("Unsupported field value:",e,r),NE(r,e);if(r instanceof Nm)return function(s,o){if(!VE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const m of s){let g=Um(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=Vs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return y2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ee.fromDate(s);return{timestampValue:xc(o.serializer,c)}}if(s instanceof ee){const c=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xc(o.serializer,c)}}if(s instanceof li)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:Y0(o.serializer,s._byteString)};if(s instanceof Ce){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:pm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof oi)return function(f,m){return{mapValue:{fields:{[T0]:{stringValue:A0},[Cc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return fm(m.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${jc(s)}`)}(r,e)}function NE(r,e){const i={};return p0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(r,(s,o)=>{const c=Um(o,e.mc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function OE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof li||r instanceof Vn||r instanceof Ce||r instanceof Nm||r instanceof oi)}function ME(r,e,i){if(!OE(i)||!d0(i)){const s=jc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function VC(r,e,i){if((e=Vs(e))instanceof xm)return e._internalPath;if(typeof e=="string")return UE(r,e);throw Uc("Field path arguments must be of type string or ",r,!1,void 0,i)}const xC=new RegExp("[~\\*/\\[\\]]");function UE(r,e,i){if(e.search(xC)>=0)throw Uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new xm(...e.split("."))._internalPath}catch{throw Uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Uc(r,e,i,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ot($.INVALID_ARGUMENT,m+r+g)}function NC(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Lm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class OC extends LE{data(){return super.data()}}function Lm(r,e){return typeof e=="string"?UE(r,e):e instanceof xm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pm{}class UC extends Pm{}function LC(r,e,...i){let s=[];e instanceof Pm&&s.push(e),s=s.concat(i),function(c){const f=c.filter(g=>g instanceof zm).length,m=c.filter(g=>g instanceof eh).length;if(f>1||f>0&&m>0)throw new ot($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class eh extends UC{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new eh(e,i,s)}_apply(e){const i=this._parse(e);return PE(e._query,i),new Gs(e.firestore,e.converter,Ud(e._query,i))}_parse(e){const i=xE(e.firestore);return function(c,f,m,g,y,E,S){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Ev(S,E);const F=[];for(const W of S)F.push(vv(g,c,W));R={arrayValue:{values:F}}}else R=vv(g,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Ev(S,E),R=IC(m,f,S,E==="in"||E==="not-in");return Ee.create(y,E,R)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function PC(r,e,i){const s=e,o=Lm("where",r);return eh._create(o,s,i)}class zm extends Pm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new zm(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:kn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let f=o;const m=c.getFlattenedFilters();for(const g of m)PE(f,g),f=Ud(f,g)}(e._query,i),new Gs(e.firestore,e.converter,Ud(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vv(r,e,i){if(typeof(i=Vs(i))=="string"){if(i==="")throw new ot($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V0(e)&&i.indexOf("/")!==-1)throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(te.fromString(i));if(!mt.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return L_(r,new mt(s))}if(i instanceof Ce)return L_(r,i._key);throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jc(i)}.`)}function Ev(r,e){if(!Array.isArray(r)||r.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PE(r,e){const i=function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class zC{convertValue(e,i="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ca(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){const i=e.fields?.[Cc].arrayValue?.values?.map(s=>me(s.doubleValue));return new oi(i)}convertGeoPoint(e){return new li(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Gc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(go(e));default:return null}}convertTimestamp(e){const i=Ir(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);Ht(W0(s),9688,{name:e});const o=new yo(s.get(1),s.get(3)),c=new mt(s.popFirst(5));return o.isEqual(i)||Fi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class ao{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends LE{constructor(e,i,s,o,c,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Lm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Aa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Te("string",Aa._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class _c extends Aa{data(e={}){return super.data(e)}}class Is{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ao(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new _c(this._firestore,this._userDataWriter,s.key,s,new ao(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new _c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ao(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new _c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ao(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:BC(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Is._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r){r=Os(r,Ce);const e=Os(r.firestore,th);return TC(Vm(e),r._key).then(i=>FC(e,r,i))}Is._jsonSchemaVersion="firestore/querySnapshot/1.0",Is._jsonSchema={type:Te("string",Is._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class zE extends zC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function qC(r){r=Os(r,Gs);const e=Os(r.firestore,th),i=Vm(e),s=new zE(e);return MC(r._query),AC(i,r._query).then(o=>new Is(e,s,r,o))}function HC(r,e){const i=Os(r.firestore,th),s=IE(r),o=kC(r.converter,e);return GC(i,[DC(xE(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ji.exists(!1))]).then(()=>s)}function GC(r,e){return function(s,o){const c=new Bi;return s.asyncQueue.enqueueAndForget(async()=>uC(await EC(s),o,c)),c.promise}(Vm(r),e)}function FC(r,e,i){const s=i.docs.get(e._key),o=new zE(r);return new Aa(r,o,e._key,s,new ao(i.hasPendingWrites,i.fromCache),e.converter)}function QC(){return new Mm("serverTimestamp")}(function(e,i=!0){(function(o){Bs=o})(fR),bc(new fo("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new th(new IR(s.getProvider("auth-internal")),new NR(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(y.options.projectId,E)}(f,o),f);return c={useFetchStreams:i,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Cs(S_,b_,e),Cs(S_,b_,"esm2020")})();function Tv(){const[r,e]=k.useState([]),{id:i}=kv();return k.useEffect(()=>{zt.dismiss(),zt.loading();async function s(){try{const o=Im(im),c=DE(o,"products"),f=i?LC(c,PC("categoria","==",i)):c,m=await qC(f),g=[];m.docs.forEach(y=>{g.push(y.data())}),e(g),zt.dismiss(),zt.success("Datos cargados correctamente")}catch{zt.dismiss(),zt.error("Error al Cargar los datos, Intente nuevamente")}}s()},[i]),Q.jsx("div",{className:"ItemListContainer",children:Q.jsx(BS,{productos:r})})}function YC({initial:r=1,stock:e=10,agregarCarrito:i}){const[s,o]=k.useState(r),c=()=>{s<e&&o(s+1)},f=()=>{s>1&&o(s-1)};function m(g){i(g)}return Q.jsxs("div",{className:"item-count",children:[Q.jsxs("div",{className:"quantity-controls",children:[Q.jsx("button",{onClick:f,disabled:s<=1,children:"-"}),Q.jsx("span",{className:"quantity",children:s}),Q.jsx("button",{onClick:c,disabled:s>=e,children:"+"})]}),Q.jsx("button",{className:"add-to-cart-btn",onClick:()=>{m(s)},children:"Agregar al carrito"}),Q.jsxs("p",{className:"stock-info",children:["Stock disponible: ",e]})]})}function KC({producto:r}){const{armarCarrito:e}=k.useContext(Bc);function i(s){e(r,s)}if(!r)Ea.loading("Cargando producto");else return Q.jsxs("div",{className:"item-detail",children:[Q.jsx(Xe,{to:"/",className:"back-link",children:" Volver al listado"}),Q.jsxs("div",{className:"item-detail-content",children:[Q.jsx("div",{className:"item-image",children:Q.jsx("img",{src:r.imagen,alt:r.titulo})}),Q.jsxs("div",{className:"item-info",children:[Q.jsx("h2",{children:r.titulo}),Q.jsx("p",{className:"description",children:r.descripcion}),Q.jsxs("h3",{className:"price",children:["$",r.precio.toLocaleString()]}),Q.jsxs("div",{className:"specs",children:[Q.jsx("h4",{children:"Especificaciones:"}),Q.jsx("ul",{children:r.especificaciones&&Object.entries(r.especificaciones).map(([s,o])=>Q.jsxs("li",{children:[Q.jsxs("strong",{children:[s,":"]})," ",o]},s))})]}),Q.jsx("div",{className:"stock-info",children:Q.jsxs("p",{children:["Stock disponible: ",r.stock," unidades"]})}),Q.jsx(YC,{initial:1,stock:r.stock,agregarCarrito:i})]})]})]})}function XC(){const{id:r}=kv(),[e,i]=k.useState(null);return k.useEffect(()=>{async function s(){zt.dismiss(),zt.loading("Cargando producto");try{const o=Im(im),c=IE(o,"products",r),f=await jC(c);if(f.exists()){const m=f.data();i(m),zt.dismiss(),zt.success("Datos cargados correctamente")}else zt.dismiss(),zt.error("Producto no encontrado, intente nuevamente")}catch{zt.dismiss(),zt.error("Error al Cargar los datos, Intente nuevamente")}}s()},[]),Q.jsx(KC,{producto:e})}function $C(){const{login:r}=k.useContext(wo),e=zv(),[i,s]=k.useState({nombre:"",apellido:"",email:""});function o(f){s({...i,[f.target.name]:f.target.value})}function c(f){f.preventDefault(),r(i),e("/")}return Q.jsxs("form",{onSubmit:c,className:"login-form",children:[Q.jsx("input",{type:"text",name:"nombre",placeholder:"Nombre",value:i.nombre,onChange:o,required:!0,className:"border p-2 w-full"}),Q.jsx("input",{type:"text",name:"apellido",placeholder:"Apellido",value:i.apellido,onChange:o,required:!0,className:"border p-2 w-full"}),Q.jsx("input",{type:"email",name:"email",placeholder:"Email",value:i.email,onChange:o,required:!0,className:"border p-2 w-full"}),Q.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Ingresar"})]})}function ZC(){const{cart:r,clearCart:e}=k.useContext(Bc),{user:i}=k.useContext(wo),s=r.reduce((f,m)=>f+m.producto.precio*m.quantity,0);function o(){e(),Ea(" Carrito vaciado",{icon:""})}async function c(){if(r.length===0){Ea.error("El carrito est vaco");return}if(!i){Ea.error("Debs ingresar tus datos antes de comprar");return}try{const f=Im(im),m=DE(f,"orders"),g={comprador:{...i},items:r.map(E=>({id:E.producto.id,titulo:E.producto.titulo,precio:E.producto.precio,cantidad:E.quantity})),total:s,createdAt:QC()},y=await HC(m,g);Ea.success(`Compra realizada con xito  su orden tiene el id: ${y.id}`),e()}catch(f){console.error("Error al finalizar compra:",f),Ea.error(" Hubo un problema al procesar la compra")}}return Q.jsxs(Q.Fragment,{children:[Q.jsx(Xe,{to:"/",className:"back-link",children:" Volver al listado"}),r.length===0?Q.jsx("p",{children:"El carrito est vaco."}):Q.jsxs("div",{className:"cart-items",children:[r.map((f,m)=>Q.jsxs("div",{className:"cart-item",children:[Q.jsx("img",{src:f.producto.imagen,alt:f.producto.titulo,width:"80"}),Q.jsxs("div",{className:"cart-info",children:[Q.jsx("h3",{children:f.producto.titulo}),Q.jsxs("p",{children:["Cantidad: ",f.quantity]}),Q.jsxs("p",{children:["Precio unitario: $",f.producto.precio.toLocaleString()]}),Q.jsxs("p",{children:["Subtotal: $",(f.producto.precio*f.quantity).toLocaleString()]})]})]},m)),Q.jsxs("h3",{children:["Total: $",s.toLocaleString()]}),Q.jsx("button",{onClick:c,className:"btn-finalizar",children:"Finalizar Compra"}),Q.jsx("button",{onClick:o,className:"btn-vaciar",children:"Limpiar carrito"})]})]})}function JC(){const[r,e]=k.useState(!1),[i,s]=k.useState(!1);return k.useEffect(()=>{document.body.classList.toggle("nav-visible",r)},[r]),Q.jsx(vS,{children:Q.jsx(OS,{children:Q.jsxs(PS,{children:[Q.jsx(sA,{}),Q.jsxs("div",{className:"app-container",children:[Q.jsx(LS,{opened:i,setOpened:s,setShowNavBar:e,showNavBar:r}),Q.jsx(US,{esVisible:r,setShowNavBar:e,setOpened:s}),Q.jsx(zS,{}),Q.jsx(NS,{showNavBar:r,children:Q.jsxs($A,{children:[Q.jsx(_a,{path:"/login",element:Q.jsx($C,{})}),Q.jsx(_a,{path:"/",element:Q.jsx(Tv,{})}),Q.jsx(_a,{path:"/category/:id",element:Q.jsx(Tv,{})}),Q.jsx(_a,{path:"/item/:id",element:Q.jsx(XC,{})}),Q.jsx(_a,{path:"*",element:Q.jsx("h2",{children:"404 - Pgina no encontrada"})}),Q.jsx(_a,{path:"/cart",element:Q.jsx(ZC,{})})]})})]})]})})})}_1.createRoot(document.getElementById("root")).render(Q.jsx(k.StrictMode,{children:Q.jsx(JC,{})}));
